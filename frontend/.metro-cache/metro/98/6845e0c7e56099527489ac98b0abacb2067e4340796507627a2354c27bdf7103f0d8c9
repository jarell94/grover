{"dependencies":[{"name":"./lib/bindReporter.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"yZXTUsWh1M46DyxIbZ88NUHRymg=","exportNames":["*"],"imports":1}},{"name":"./lib/getActivationStart.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":65,"index":119}}],"key":"GdWeY/Ul63HmG3e9yq4TWUwqk0M=","exportNames":["*"],"imports":1}},{"name":"./lib/getVisibilityWatcher.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":69,"index":189}}],"key":"nHtaM9v//YlxGAv+O3W06C++qp8=","exportNames":["*"],"imports":1}},{"name":"./lib/initMetric.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":190},"end":{"line":4,"column":49,"index":239}}],"key":"3h8m+kvAV2o3xN93IHHrmBqzs4s=","exportNames":["*"],"imports":1}},{"name":"./lib/observe.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":240},"end":{"line":5,"column":43,"index":283}}],"key":"Cz2RoRvLyGQyofIDJmcgFo6dicM=","exportNames":["*"],"imports":1}},{"name":"./lib/whenActivated.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":284},"end":{"line":6,"column":55,"index":339}}],"key":"ZUHRzyG92JJbjB1/O2ptt6DviqY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"FCPThresholds\", {\n    enumerable: true,\n    get: function () {\n      return FCPThresholds;\n    }\n  });\n  Object.defineProperty(exports, \"onFCP\", {\n    enumerable: true,\n    get: function () {\n      return onFCP;\n    }\n  });\n  var _libBindReporterJs = require(_dependencyMap[0], \"./lib/bindReporter.js\");\n  var _libGetActivationStartJs = require(_dependencyMap[1], \"./lib/getActivationStart.js\");\n  var _libGetVisibilityWatcherJs = require(_dependencyMap[2], \"./lib/getVisibilityWatcher.js\");\n  var _libInitMetricJs = require(_dependencyMap[3], \"./lib/initMetric.js\");\n  var _libObserveJs = require(_dependencyMap[4], \"./lib/observe.js\");\n  var _libWhenActivatedJs = require(_dependencyMap[5], \"./lib/whenActivated.js\");\n  /*\n   * Copyright 2020 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /** Thresholds for FCP. See https://web.dev/articles/fcp#what_is_a_good_fcp_score */\n  const FCPThresholds = [1800, 3000];\n\n  /**\n   * Calculates the [FCP](https://web.dev/articles/fcp) value for the current page and\n   * calls the `callback` function once the value is ready, along with the\n   * relevant `paint` performance entry used to determine the value. The reported\n   * value is a `DOMHighResTimeStamp`.\n   */\n  const onFCP = (onReport, opts = {}) => {\n    (0, _libWhenActivatedJs.whenActivated)(() => {\n      const visibilityWatcher = (0, _libGetVisibilityWatcherJs.getVisibilityWatcher)();\n      const metric = (0, _libInitMetricJs.initMetric)('FCP');\n      let report;\n      const handleEntries = entries => {\n        for (const entry of entries) {\n          if (entry.name === 'first-contentful-paint') {\n            po.disconnect();\n\n            // Only report if the page wasn't hidden prior to the first paint.\n            if (entry.startTime < visibilityWatcher.firstHiddenTime) {\n              // The activationStart reference is used because FCP should be\n              // relative to page activation rather than navigation start if the\n              // page was prerendered. But in cases where `activationStart` occurs\n              // after the FCP, this time should be clamped at 0.\n              metric.value = Math.max(entry.startTime - (0, _libGetActivationStartJs.getActivationStart)(), 0);\n              metric.entries.push(entry);\n              report(true);\n            }\n          }\n        }\n      };\n      const po = (0, _libObserveJs.observe)('paint', handleEntries);\n      if (po) {\n        report = (0, _libBindReporterJs.bindReporter)(onReport, metric, FCPThresholds, opts.reportAllChanges);\n      }\n    });\n  };\n});","lineCount":79,"map":[[7,2,67,0,"Object"],[7,8,67,0],[7,9,67,0,"defineProperty"],[7,23,67,0],[7,24,67,0,"exports"],[7,31,67,0],[8,4,67,0,"enumerable"],[8,14,67,0],[9,4,67,0,"get"],[9,7,67,0],[9,18,67,0,"get"],[9,19,67,0],[10,6,67,0],[10,13,67,9,"FCPThresholds"],[10,26,67,22],[11,4,67,22],[12,2,67,22],[13,2,67,0,"Object"],[13,8,67,0],[13,9,67,0,"defineProperty"],[13,23,67,0],[13,24,67,0,"exports"],[13,31,67,0],[14,4,67,0,"enumerable"],[14,14,67,0],[15,4,67,0,"get"],[15,7,67,0],[15,18,67,0,"get"],[15,19,67,0],[16,6,67,0],[16,13,67,24,"onFCP"],[16,18,67,29],[17,4,67,29],[18,2,67,29],[19,2,1,0],[19,6,1,0,"_libBindReporterJs"],[19,24,1,0],[19,27,1,0,"require"],[19,34,1,0],[19,35,1,0,"_dependencyMap"],[19,49,1,0],[20,2,2,0],[20,6,2,0,"_libGetActivationStartJs"],[20,30,2,0],[20,33,2,0,"require"],[20,40,2,0],[20,41,2,0,"_dependencyMap"],[20,55,2,0],[21,2,3,0],[21,6,3,0,"_libGetVisibilityWatcherJs"],[21,32,3,0],[21,35,3,0,"require"],[21,42,3,0],[21,43,3,0,"_dependencyMap"],[21,57,3,0],[22,2,4,0],[22,6,4,0,"_libInitMetricJs"],[22,22,4,0],[22,25,4,0,"require"],[22,32,4,0],[22,33,4,0,"_dependencyMap"],[22,47,4,0],[23,2,5,0],[23,6,5,0,"_libObserveJs"],[23,19,5,0],[23,22,5,0,"require"],[23,29,5,0],[23,30,5,0,"_dependencyMap"],[23,44,5,0],[24,2,6,0],[24,6,6,0,"_libWhenActivatedJs"],[24,25,6,0],[24,28,6,0,"require"],[24,35,6,0],[24,36,6,0,"_dependencyMap"],[24,50,6,0],[25,2,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,0,17,0],[35,0,18,0],[36,0,19,0],[37,0,20,0],[38,0,21,0],[39,0,22,0],[41,2,25,0],[42,2,26,0],[42,8,26,6,"FCPThresholds"],[42,21,26,19],[42,24,26,22],[42,25,26,23],[42,29,26,27],[42,31,26,29],[42,35,26,33],[42,36,26,34],[44,2,28,0],[45,0,29,0],[46,0,30,0],[47,0,31,0],[48,0,32,0],[49,0,33,0],[50,2,34,0],[50,8,34,6,"onFCP"],[50,13,34,11],[50,16,34,14,"onFCP"],[50,17,34,15,"onReport"],[50,25,34,23],[50,27,34,25,"opts"],[50,31,34,29],[50,34,34,32],[50,35,34,33],[50,36,34,34],[50,41,34,39],[51,4,35,2],[51,8,35,2,"whenActivated"],[51,27,35,15],[51,28,35,15,"whenActivated"],[51,41,35,15],[51,43,35,16],[51,49,35,22],[52,6,36,4],[52,12,36,10,"visibilityWatcher"],[52,29,36,27],[52,32,36,30],[52,36,36,30,"getVisibilityWatcher"],[52,62,36,50],[52,63,36,50,"getVisibilityWatcher"],[52,83,36,50],[52,85,36,51],[52,86,36,52],[53,6,37,4],[53,12,37,10,"metric"],[53,18,37,16],[53,21,37,19],[53,25,37,19,"initMetric"],[53,41,37,29],[53,42,37,29,"initMetric"],[53,52,37,29],[53,54,37,30],[53,59,37,35],[53,60,37,36],[54,6,38,4],[54,10,38,8,"report"],[54,16,38,14],[55,6,40,4],[55,12,40,10,"handleEntries"],[55,25,40,23],[55,28,40,27,"entries"],[55,35,40,34],[55,39,40,39],[56,8,41,6],[56,13,41,11],[56,19,41,17,"entry"],[56,24,41,22],[56,28,41,26,"entries"],[56,35,41,33],[56,37,41,35],[57,10,42,8],[57,14,42,12,"entry"],[57,19,42,17],[57,20,42,18,"name"],[57,24,42,22],[57,29,42,27],[57,53,42,51],[57,55,42,53],[58,12,43,10,"po"],[58,14,43,12],[58,15,43,13,"disconnect"],[58,25,43,23],[58,26,43,24],[58,27,43,25],[60,12,45,10],[61,12,46,10],[61,16,46,14,"entry"],[61,21,46,19],[61,22,46,20,"startTime"],[61,31,46,29],[61,34,46,32,"visibilityWatcher"],[61,51,46,49],[61,52,46,50,"firstHiddenTime"],[61,67,46,65],[61,69,46,67],[62,14,47,12],[63,14,48,12],[64,14,49,12],[65,14,50,12],[66,14,51,12,"metric"],[66,20,51,18],[66,21,51,19,"value"],[66,26,51,24],[66,29,51,27,"Math"],[66,33,51,31],[66,34,51,32,"max"],[66,37,51,35],[66,38,51,36,"entry"],[66,43,51,41],[66,44,51,42,"startTime"],[66,53,51,51],[66,56,51,54],[66,60,51,54,"getActivationStart"],[66,84,51,72],[66,85,51,72,"getActivationStart"],[66,103,51,72],[66,105,51,73],[66,106,51,74],[66,108,51,76],[66,109,51,77],[66,110,51,78],[67,14,52,12,"metric"],[67,20,52,18],[67,21,52,19,"entries"],[67,28,52,26],[67,29,52,27,"push"],[67,33,52,31],[67,34,52,32,"entry"],[67,39,52,37],[67,40,52,38],[68,14,53,12,"report"],[68,20,53,18],[68,21,53,19],[68,25,53,23],[68,26,53,24],[69,12,54,10],[70,10,55,8],[71,8,56,6],[72,6,57,4],[72,7,57,5],[73,6,59,4],[73,12,59,10,"po"],[73,14,59,12],[73,17,59,15],[73,21,59,15,"observe"],[73,34,59,22],[73,35,59,22,"observe"],[73,42,59,22],[73,44,59,23],[73,51,59,30],[73,53,59,32,"handleEntries"],[73,66,59,45],[73,67,59,46],[74,6,61,4],[74,10,61,8,"po"],[74,12,61,10],[74,14,61,12],[75,8,62,6,"report"],[75,14,62,12],[75,17,62,15],[75,21,62,15,"bindReporter"],[75,39,62,27],[75,40,62,27,"bindReporter"],[75,52,62,27],[75,54,62,28,"onReport"],[75,62,62,36],[75,64,62,38,"metric"],[75,70,62,44],[75,72,62,46,"FCPThresholds"],[75,85,62,59],[75,87,62,61,"opts"],[75,91,62,65],[75,92,62,66,"reportAllChanges"],[75,108,62,82],[75,109,62,83],[76,6,63,4],[77,4,64,2],[77,5,64,3],[77,6,64,4],[78,2,65,0],[78,3,65,1],[79,0,65,2],[79,3]],"functionMap":{"names":["<global>","onFCP","whenActivated$argument_0","handleEntries"],"mappings":"AAA;cCiC;gBCC;0BCK;KDiB;GDO;CDC"},"hasCjsExports":false},"type":"js/module"}]}