{"dependencies":[{"name":"./utils/dsn.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"aVjUG5oTQN5edWv32XAVu3jaRS4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getEnvelopeEndpointWithUrlEncodedAuth\", {\n    enumerable: true,\n    get: function () {\n      return getEnvelopeEndpointWithUrlEncodedAuth;\n    }\n  });\n  Object.defineProperty(exports, \"getReportDialogEndpoint\", {\n    enumerable: true,\n    get: function () {\n      return getReportDialogEndpoint;\n    }\n  });\n  var _utilsDsnJs = require(_dependencyMap[0], \"./utils/dsn.js\");\n  const SENTRY_API_VERSION = '7';\n\n  /** Returns the prefix to construct Sentry ingestion API endpoints. */\n  function getBaseApiEndpoint(dsn) {\n    const protocol = dsn.protocol ? `${dsn.protocol}:` : '';\n    const port = dsn.port ? `:${dsn.port}` : '';\n    return `${protocol}//${dsn.host}${port}${dsn.path ? `/${dsn.path}` : ''}/api/`;\n  }\n\n  /** Returns the ingest API endpoint for target. */\n  function _getIngestEndpoint(dsn) {\n    return `${getBaseApiEndpoint(dsn)}${dsn.projectId}/envelope/`;\n  }\n\n  /** Returns a URL-encoded string with auth config suitable for a query string. */\n  function _encodedAuth(dsn, sdkInfo) {\n    const params = {\n      sentry_version: SENTRY_API_VERSION\n    };\n    if (dsn.publicKey) {\n      // We send only the minimum set of required information. See\n      // https://github.com/getsentry/sentry-javascript/issues/2572.\n      params.sentry_key = dsn.publicKey;\n    }\n    if (sdkInfo) {\n      params.sentry_client = `${sdkInfo.name}/${sdkInfo.version}`;\n    }\n    return new URLSearchParams(params).toString();\n  }\n\n  /**\n   * Returns the envelope endpoint URL with auth in the query string.\n   *\n   * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n   */\n  function getEnvelopeEndpointWithUrlEncodedAuth(dsn, tunnel, sdkInfo) {\n    return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, sdkInfo)}`;\n  }\n\n  /** Returns the url to the report dialog endpoint. */\n  function getReportDialogEndpoint(dsnLike, dialogOptions) {\n    const dsn = (0, _utilsDsnJs.makeDsn)(dsnLike);\n    if (!dsn) {\n      return '';\n    }\n    const endpoint = `${getBaseApiEndpoint(dsn)}embed/error-page/`;\n    let encodedOptions = `dsn=${(0, _utilsDsnJs.dsnToString)(dsn)}`;\n    for (const key in dialogOptions) {\n      if (key === 'dsn') {\n        continue;\n      }\n      if (key === 'onClose') {\n        continue;\n      }\n      if (key === 'user') {\n        const user = dialogOptions.user;\n        if (!user) {\n          continue;\n        }\n        if (user.name) {\n          encodedOptions += `&name=${encodeURIComponent(user.name)}`;\n        }\n        if (user.email) {\n          encodedOptions += `&email=${encodeURIComponent(user.email)}`;\n        }\n      } else {\n        encodedOptions += `&${encodeURIComponent(key)}=${encodeURIComponent(dialogOptions[key])}`;\n      }\n    }\n    return `${endpoint}?${encodedOptions}`;\n  }\n});","lineCount":91,"map":[[7,2,83,0,"Object"],[7,8,83,0],[7,9,83,0,"defineProperty"],[7,23,83,0],[7,24,83,0,"exports"],[7,31,83,0],[8,4,83,0,"enumerable"],[8,14,83,0],[9,4,83,0,"get"],[9,7,83,0],[9,18,83,0,"get"],[9,19,83,0],[10,6,83,0],[10,13,83,9,"getEnvelopeEndpointWithUrlEncodedAuth"],[10,50,83,46],[11,4,83,46],[12,2,83,46],[13,2,83,0,"Object"],[13,8,83,0],[13,9,83,0,"defineProperty"],[13,23,83,0],[13,24,83,0,"exports"],[13,31,83,0],[14,4,83,0,"enumerable"],[14,14,83,0],[15,4,83,0,"get"],[15,7,83,0],[15,18,83,0,"get"],[15,19,83,0],[16,6,83,0],[16,13,83,48,"getReportDialogEndpoint"],[16,36,83,71],[17,4,83,71],[18,2,83,71],[19,2,1,0],[19,6,1,0,"_utilsDsnJs"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,3,0],[20,8,3,6,"SENTRY_API_VERSION"],[20,26,3,24],[20,29,3,27],[20,32,3,30],[22,2,5,0],[23,2,6,0],[23,11,6,9,"getBaseApiEndpoint"],[23,29,6,27,"getBaseApiEndpoint"],[23,30,6,28,"dsn"],[23,33,6,31],[23,35,6,33],[24,4,7,2],[24,10,7,8,"protocol"],[24,18,7,16],[24,21,7,19,"dsn"],[24,24,7,22],[24,25,7,23,"protocol"],[24,33,7,31],[24,36,7,34],[24,39,7,37,"dsn"],[24,42,7,40],[24,43,7,41,"protocol"],[24,51,7,49],[24,54,7,52],[24,57,7,55],[24,59,7,57],[25,4,8,2],[25,10,8,8,"port"],[25,14,8,12],[25,17,8,15,"dsn"],[25,20,8,18],[25,21,8,19,"port"],[25,25,8,23],[25,28,8,26],[25,32,8,30,"dsn"],[25,35,8,33],[25,36,8,34,"port"],[25,40,8,38],[25,42,8,40],[25,45,8,43],[25,47,8,45],[26,4,9,2],[26,11,9,9],[26,14,9,12,"protocol"],[26,22,9,20],[26,27,9,25,"dsn"],[26,30,9,28],[26,31,9,29,"host"],[26,35,9,33],[26,38,9,36,"port"],[26,42,9,40],[26,45,9,43,"dsn"],[26,48,9,46],[26,49,9,47,"path"],[26,53,9,51],[26,56,9,54],[26,60,9,58,"dsn"],[26,63,9,61],[26,64,9,62,"path"],[26,68,9,66],[26,70,9,68],[26,73,9,71],[26,75,9,73],[26,82,9,80],[27,2,10,0],[29,2,12,0],[30,2,13,0],[30,11,13,9,"_getIngestEndpoint"],[30,29,13,27,"_getIngestEndpoint"],[30,30,13,28,"dsn"],[30,33,13,31],[30,35,13,33],[31,4,14,2],[31,11,14,9],[31,14,14,12,"getBaseApiEndpoint"],[31,32,14,30],[31,33,14,31,"dsn"],[31,36,14,34],[31,37,14,35],[31,40,14,38,"dsn"],[31,43,14,41],[31,44,14,42,"projectId"],[31,53,14,51],[31,65,14,63],[32,2,15,0],[34,2,17,0],[35,2,18,0],[35,11,18,9,"_encodedAuth"],[35,23,18,21,"_encodedAuth"],[35,24,18,22,"dsn"],[35,27,18,25],[35,29,18,27,"sdkInfo"],[35,36,18,34],[35,38,18,36],[36,4,19,2],[36,10,19,8,"params"],[36,16,19,14],[36,19,19,17],[37,6,20,4,"sentry_version"],[37,20,20,18],[37,22,20,20,"SENTRY_API_VERSION"],[38,4,21,2],[38,5,21,3],[39,4,23,2],[39,8,23,6,"dsn"],[39,11,23,9],[39,12,23,10,"publicKey"],[39,21,23,19],[39,23,23,21],[40,6,24,4],[41,6,25,4],[42,6,26,4,"params"],[42,12,26,10],[42,13,26,11,"sentry_key"],[42,23,26,21],[42,26,26,24,"dsn"],[42,29,26,27],[42,30,26,28,"publicKey"],[42,39,26,37],[43,4,27,2],[44,4,29,2],[44,8,29,6,"sdkInfo"],[44,15,29,13],[44,17,29,15],[45,6,30,4,"params"],[45,12,30,10],[45,13,30,11,"sentry_client"],[45,26,30,24],[45,29,30,27],[45,32,30,30,"sdkInfo"],[45,39,30,37],[45,40,30,38,"name"],[45,44,30,42],[45,48,30,46,"sdkInfo"],[45,55,30,53],[45,56,30,54,"version"],[45,63,30,61],[45,65,30,63],[46,4,31,2],[47,4,33,2],[47,11,33,9],[47,15,33,13,"URLSearchParams"],[47,30,33,28],[47,31,33,29,"params"],[47,37,33,35],[47,38,33,36],[47,39,33,37,"toString"],[47,47,33,45],[47,48,33,46],[47,49,33,47],[48,2,34,0],[50,2,36,0],[51,0,37,0],[52,0,38,0],[53,0,39,0],[54,0,40,0],[55,2,41,0],[55,11,41,9,"getEnvelopeEndpointWithUrlEncodedAuth"],[55,48,41,46,"getEnvelopeEndpointWithUrlEncodedAuth"],[55,49,41,47,"dsn"],[55,52,41,50],[55,54,41,52,"tunnel"],[55,60,41,58],[55,62,41,60,"sdkInfo"],[55,69,41,67],[55,71,41,69],[56,4,42,2],[56,11,42,9,"tunnel"],[56,17,42,15],[56,20,42,18,"tunnel"],[56,26,42,24],[56,29,42,27],[56,32,42,30,"_getIngestEndpoint"],[56,50,42,48],[56,51,42,49,"dsn"],[56,54,42,52],[56,55,42,53],[56,59,42,57,"_encodedAuth"],[56,71,42,69],[56,72,42,70,"dsn"],[56,75,42,73],[56,77,42,75,"sdkInfo"],[56,84,42,82],[56,85,42,83],[56,87,42,85],[57,2,43,0],[59,2,45,0],[60,2,46,0],[60,11,46,9,"getReportDialogEndpoint"],[60,34,46,32,"getReportDialogEndpoint"],[60,35,46,33,"dsnLike"],[60,42,46,40],[60,44,46,42,"dialogOptions"],[60,57,46,55],[60,59,46,57],[61,4,47,2],[61,10,47,8,"dsn"],[61,13,47,11],[61,16,47,14],[61,20,47,14,"makeDsn"],[61,31,47,21],[61,32,47,21,"makeDsn"],[61,39,47,21],[61,41,47,22,"dsnLike"],[61,48,47,29],[61,49,47,30],[62,4,48,2],[62,8,48,6],[62,9,48,7,"dsn"],[62,12,48,10],[62,14,48,12],[63,6,49,4],[63,13,49,11],[63,15,49,13],[64,4,50,2],[65,4,52,2],[65,10,52,8,"endpoint"],[65,18,52,16],[65,21,52,19],[65,24,52,22,"getBaseApiEndpoint"],[65,42,52,40],[65,43,52,41,"dsn"],[65,46,52,44],[65,47,52,45],[65,66,52,64],[66,4,54,2],[66,8,54,6,"encodedOptions"],[66,22,54,20],[66,25,54,23],[66,32,54,30],[66,36,54,30,"dsnToString"],[66,47,54,41],[66,48,54,41,"dsnToString"],[66,59,54,41],[66,61,54,42,"dsn"],[66,64,54,45],[66,65,54,46],[66,67,54,48],[67,4,55,2],[67,9,55,7],[67,15,55,13,"key"],[67,18,55,16],[67,22,55,20,"dialogOptions"],[67,35,55,33],[67,37,55,35],[68,6,56,4],[68,10,56,8,"key"],[68,13,56,11],[68,18,56,16],[68,23,56,21],[68,25,56,23],[69,8,57,6],[70,6,58,4],[71,6,60,4],[71,10,60,8,"key"],[71,13,60,11],[71,18,60,16],[71,27,60,25],[71,29,60,27],[72,8,61,6],[73,6,62,4],[74,6,64,4],[74,10,64,8,"key"],[74,13,64,11],[74,18,64,16],[74,24,64,22],[74,26,64,24],[75,8,65,6],[75,14,65,12,"user"],[75,18,65,16],[75,21,65,19,"dialogOptions"],[75,34,65,32],[75,35,65,33,"user"],[75,39,65,37],[76,8,66,6],[76,12,66,10],[76,13,66,11,"user"],[76,17,66,15],[76,19,66,17],[77,10,67,8],[78,8,68,6],[79,8,69,6],[79,12,69,10,"user"],[79,16,69,14],[79,17,69,15,"name"],[79,21,69,19],[79,23,69,21],[80,10,70,8,"encodedOptions"],[80,24,70,22],[80,28,70,26],[80,37,70,35,"encodeURIComponent"],[80,55,70,53],[80,56,70,54,"user"],[80,60,70,58],[80,61,70,59,"name"],[80,65,70,63],[80,66,70,64],[80,68,70,66],[81,8,71,6],[82,8,72,6],[82,12,72,10,"user"],[82,16,72,14],[82,17,72,15,"email"],[82,22,72,20],[82,24,72,22],[83,10,73,8,"encodedOptions"],[83,24,73,22],[83,28,73,26],[83,38,73,36,"encodeURIComponent"],[83,56,73,54],[83,57,73,55,"user"],[83,61,73,59],[83,62,73,60,"email"],[83,67,73,65],[83,68,73,66],[83,70,73,68],[84,8,74,6],[85,6,75,4],[85,7,75,5],[85,13,75,11],[86,8,76,6,"encodedOptions"],[86,22,76,20],[86,26,76,24],[86,30,76,28,"encodeURIComponent"],[86,48,76,46],[86,49,76,47,"key"],[86,52,76,50],[86,53,76,51],[86,57,76,55,"encodeURIComponent"],[86,75,76,73],[86,76,76,74,"dialogOptions"],[86,89,76,87],[86,90,76,88,"key"],[86,93,76,91],[86,94,76,93],[86,95,76,94],[86,97,76,96],[87,6,77,4],[88,4,78,2],[89,4,80,2],[89,11,80,9],[89,14,80,12,"endpoint"],[89,22,80,20],[89,26,80,24,"encodedOptions"],[89,40,80,38],[89,42,80,40],[90,2,81,0],[91,0,81,1],[91,3]],"functionMap":{"names":["<global>","getBaseApiEndpoint","_getIngestEndpoint","_encodedAuth","getEnvelopeEndpointWithUrlEncodedAuth","getReportDialogEndpoint"],"mappings":"AAA;ACK;CDI;AEG;CFE;AGG;CHgB;AIO;CJE;AKG;CLmC"},"hasCjsExports":false},"type":"js/module"}]}