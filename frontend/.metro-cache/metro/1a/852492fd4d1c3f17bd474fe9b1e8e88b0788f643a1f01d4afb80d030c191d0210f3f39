{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"SPAN_STATUS_ERROR\", {\n    enumerable: true,\n    get: function () {\n      return SPAN_STATUS_ERROR;\n    }\n  });\n  Object.defineProperty(exports, \"SPAN_STATUS_OK\", {\n    enumerable: true,\n    get: function () {\n      return SPAN_STATUS_OK;\n    }\n  });\n  Object.defineProperty(exports, \"SPAN_STATUS_UNSET\", {\n    enumerable: true,\n    get: function () {\n      return SPAN_STATUS_UNSET;\n    }\n  });\n  Object.defineProperty(exports, \"getSpanStatusFromHttpCode\", {\n    enumerable: true,\n    get: function () {\n      return getSpanStatusFromHttpCode;\n    }\n  });\n  Object.defineProperty(exports, \"setHttpStatus\", {\n    enumerable: true,\n    get: function () {\n      return setHttpStatus;\n    }\n  });\n  const SPAN_STATUS_UNSET = 0;\n  const SPAN_STATUS_OK = 1;\n  const SPAN_STATUS_ERROR = 2;\n\n  /**\n   * Converts a HTTP status code into a sentry status with a message.\n   *\n   * @param httpStatus The HTTP response status code.\n   * @returns The span status or unknown_error.\n   */\n  // https://develop.sentry.dev/sdk/event-payloads/span/\n  function getSpanStatusFromHttpCode(httpStatus) {\n    if (httpStatus < 400 && httpStatus >= 100) {\n      return {\n        code: SPAN_STATUS_OK\n      };\n    }\n    if (httpStatus >= 400 && httpStatus < 500) {\n      switch (httpStatus) {\n        case 401:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'unauthenticated'\n          };\n        case 403:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'permission_denied'\n          };\n        case 404:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'not_found'\n          };\n        case 409:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'already_exists'\n          };\n        case 413:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'failed_precondition'\n          };\n        case 429:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'resource_exhausted'\n          };\n        case 499:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'cancelled'\n          };\n        default:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'invalid_argument'\n          };\n      }\n    }\n    if (httpStatus >= 500 && httpStatus < 600) {\n      switch (httpStatus) {\n        case 501:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'unimplemented'\n          };\n        case 503:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'unavailable'\n          };\n        case 504:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'deadline_exceeded'\n          };\n        default:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'internal_error'\n          };\n      }\n    }\n    return {\n      code: SPAN_STATUS_ERROR,\n      message: 'unknown_error'\n    };\n  }\n\n  /**\n   * Sets the Http status attributes on the current span based on the http code.\n   * Additionally, the span's status is updated, depending on the http code.\n   */\n  function setHttpStatus(span, httpStatus) {\n    span.setAttribute('http.response.status_code', httpStatus);\n    const spanStatus = getSpanStatusFromHttpCode(httpStatus);\n    if (spanStatus.message !== 'unknown_error') {\n      span.setStatus(spanStatus);\n    }\n  }\n});","lineCount":139,"map":[[7,2,67,0,"Object"],[7,8,67,0],[7,9,67,0,"defineProperty"],[7,23,67,0],[7,24,67,0,"exports"],[7,31,67,0],[8,4,67,0,"enumerable"],[8,14,67,0],[9,4,67,0,"get"],[9,7,67,0],[9,18,67,0,"get"],[9,19,67,0],[10,6,67,0],[10,13,67,9,"SPAN_STATUS_ERROR"],[10,30,67,26],[11,4,67,26],[12,2,67,26],[13,2,67,0,"Object"],[13,8,67,0],[13,9,67,0,"defineProperty"],[13,23,67,0],[13,24,67,0,"exports"],[13,31,67,0],[14,4,67,0,"enumerable"],[14,14,67,0],[15,4,67,0,"get"],[15,7,67,0],[15,18,67,0,"get"],[15,19,67,0],[16,6,67,0],[16,13,67,28,"SPAN_STATUS_OK"],[16,27,67,42],[17,4,67,42],[18,2,67,42],[19,2,67,0,"Object"],[19,8,67,0],[19,9,67,0,"defineProperty"],[19,23,67,0],[19,24,67,0,"exports"],[19,31,67,0],[20,4,67,0,"enumerable"],[20,14,67,0],[21,4,67,0,"get"],[21,7,67,0],[21,18,67,0,"get"],[21,19,67,0],[22,6,67,0],[22,13,67,44,"SPAN_STATUS_UNSET"],[22,30,67,61],[23,4,67,61],[24,2,67,61],[25,2,67,0,"Object"],[25,8,67,0],[25,9,67,0,"defineProperty"],[25,23,67,0],[25,24,67,0,"exports"],[25,31,67,0],[26,4,67,0,"enumerable"],[26,14,67,0],[27,4,67,0,"get"],[27,7,67,0],[27,18,67,0,"get"],[27,19,67,0],[28,6,67,0],[28,13,67,63,"getSpanStatusFromHttpCode"],[28,38,67,88],[29,4,67,88],[30,2,67,88],[31,2,67,0,"Object"],[31,8,67,0],[31,9,67,0,"defineProperty"],[31,23,67,0],[31,24,67,0,"exports"],[31,31,67,0],[32,4,67,0,"enumerable"],[32,14,67,0],[33,4,67,0,"get"],[33,7,67,0],[33,18,67,0,"get"],[33,19,67,0],[34,6,67,0],[34,13,67,90,"setHttpStatus"],[34,26,67,103],[35,4,67,103],[36,2,67,103],[37,2,1,0],[37,8,1,6,"SPAN_STATUS_UNSET"],[37,25,1,23],[37,28,1,26],[37,29,1,27],[38,2,2,0],[38,8,2,6,"SPAN_STATUS_OK"],[38,22,2,20],[38,25,2,23],[38,26,2,24],[39,2,3,0],[39,8,3,6,"SPAN_STATUS_ERROR"],[39,25,3,23],[39,28,3,26],[39,29,3,27],[41,2,5,0],[42,0,6,0],[43,0,7,0],[44,0,8,0],[45,0,9,0],[46,0,10,0],[47,2,11,0],[48,2,12,0],[48,11,12,9,"getSpanStatusFromHttpCode"],[48,36,12,34,"getSpanStatusFromHttpCode"],[48,37,12,35,"httpStatus"],[48,47,12,45],[48,49,12,47],[49,4,13,2],[49,8,13,6,"httpStatus"],[49,18,13,16],[49,21,13,19],[49,24,13,22],[49,28,13,26,"httpStatus"],[49,38,13,36],[49,42,13,40],[49,45,13,43],[49,47,13,45],[50,6,14,4],[50,13,14,11],[51,8,14,13,"code"],[51,12,14,17],[51,14,14,19,"SPAN_STATUS_OK"],[52,6,14,34],[52,7,14,35],[53,4,15,2],[54,4,17,2],[54,8,17,6,"httpStatus"],[54,18,17,16],[54,22,17,20],[54,25,17,23],[54,29,17,27,"httpStatus"],[54,39,17,37],[54,42,17,40],[54,45,17,43],[54,47,17,45],[55,6,18,4],[55,14,18,12,"httpStatus"],[55,24,18,22],[56,8,19,6],[56,13,19,11],[56,16,19,14],[57,10,20,8],[57,17,20,15],[58,12,20,17,"code"],[58,16,20,21],[58,18,20,23,"SPAN_STATUS_ERROR"],[58,35,20,40],[59,12,20,42,"message"],[59,19,20,49],[59,21,20,51],[60,10,20,69],[60,11,20,70],[61,8,21,6],[61,13,21,11],[61,16,21,14],[62,10,22,8],[62,17,22,15],[63,12,22,17,"code"],[63,16,22,21],[63,18,22,23,"SPAN_STATUS_ERROR"],[63,35,22,40],[64,12,22,42,"message"],[64,19,22,49],[64,21,22,51],[65,10,22,71],[65,11,22,72],[66,8,23,6],[66,13,23,11],[66,16,23,14],[67,10,24,8],[67,17,24,15],[68,12,24,17,"code"],[68,16,24,21],[68,18,24,23,"SPAN_STATUS_ERROR"],[68,35,24,40],[69,12,24,42,"message"],[69,19,24,49],[69,21,24,51],[70,10,24,63],[70,11,24,64],[71,8,25,6],[71,13,25,11],[71,16,25,14],[72,10,26,8],[72,17,26,15],[73,12,26,17,"code"],[73,16,26,21],[73,18,26,23,"SPAN_STATUS_ERROR"],[73,35,26,40],[74,12,26,42,"message"],[74,19,26,49],[74,21,26,51],[75,10,26,68],[75,11,26,69],[76,8,27,6],[76,13,27,11],[76,16,27,14],[77,10,28,8],[77,17,28,15],[78,12,28,17,"code"],[78,16,28,21],[78,18,28,23,"SPAN_STATUS_ERROR"],[78,35,28,40],[79,12,28,42,"message"],[79,19,28,49],[79,21,28,51],[80,10,28,73],[80,11,28,74],[81,8,29,6],[81,13,29,11],[81,16,29,14],[82,10,30,8],[82,17,30,15],[83,12,30,17,"code"],[83,16,30,21],[83,18,30,23,"SPAN_STATUS_ERROR"],[83,35,30,40],[84,12,30,42,"message"],[84,19,30,49],[84,21,30,51],[85,10,30,72],[85,11,30,73],[86,8,31,6],[86,13,31,11],[86,16,31,14],[87,10,32,8],[87,17,32,15],[88,12,32,17,"code"],[88,16,32,21],[88,18,32,23,"SPAN_STATUS_ERROR"],[88,35,32,40],[89,12,32,42,"message"],[89,19,32,49],[89,21,32,51],[90,10,32,63],[90,11,32,64],[91,8,33,6],[92,10,34,8],[92,17,34,15],[93,12,34,17,"code"],[93,16,34,21],[93,18,34,23,"SPAN_STATUS_ERROR"],[93,35,34,40],[94,12,34,42,"message"],[94,19,34,49],[94,21,34,51],[95,10,34,70],[95,11,34,71],[96,6,35,4],[97,4,36,2],[98,4,38,2],[98,8,38,6,"httpStatus"],[98,18,38,16],[98,22,38,20],[98,25,38,23],[98,29,38,27,"httpStatus"],[98,39,38,37],[98,42,38,40],[98,45,38,43],[98,47,38,45],[99,6,39,4],[99,14,39,12,"httpStatus"],[99,24,39,22],[100,8,40,6],[100,13,40,11],[100,16,40,14],[101,10,41,8],[101,17,41,15],[102,12,41,17,"code"],[102,16,41,21],[102,18,41,23,"SPAN_STATUS_ERROR"],[102,35,41,40],[103,12,41,42,"message"],[103,19,41,49],[103,21,41,51],[104,10,41,67],[104,11,41,68],[105,8,42,6],[105,13,42,11],[105,16,42,14],[106,10,43,8],[106,17,43,15],[107,12,43,17,"code"],[107,16,43,21],[107,18,43,23,"SPAN_STATUS_ERROR"],[107,35,43,40],[108,12,43,42,"message"],[108,19,43,49],[108,21,43,51],[109,10,43,65],[109,11,43,66],[110,8,44,6],[110,13,44,11],[110,16,44,14],[111,10,45,8],[111,17,45,15],[112,12,45,17,"code"],[112,16,45,21],[112,18,45,23,"SPAN_STATUS_ERROR"],[112,35,45,40],[113,12,45,42,"message"],[113,19,45,49],[113,21,45,51],[114,10,45,71],[114,11,45,72],[115,8,46,6],[116,10,47,8],[116,17,47,15],[117,12,47,17,"code"],[117,16,47,21],[117,18,47,23,"SPAN_STATUS_ERROR"],[117,35,47,40],[118,12,47,42,"message"],[118,19,47,49],[118,21,47,51],[119,10,47,68],[119,11,47,69],[120,6,48,4],[121,4,49,2],[122,4,51,2],[122,11,51,9],[123,6,51,11,"code"],[123,10,51,15],[123,12,51,17,"SPAN_STATUS_ERROR"],[123,29,51,34],[124,6,51,36,"message"],[124,13,51,43],[124,15,51,45],[125,4,51,61],[125,5,51,62],[126,2,52,0],[128,2,54,0],[129,0,55,0],[130,0,56,0],[131,0,57,0],[132,2,58,0],[132,11,58,9,"setHttpStatus"],[132,24,58,22,"setHttpStatus"],[132,25,58,23,"span"],[132,29,58,27],[132,31,58,29,"httpStatus"],[132,41,58,39],[132,43,58,41],[133,4,59,2,"span"],[133,8,59,6],[133,9,59,7,"setAttribute"],[133,21,59,19],[133,22,59,20],[133,49,59,47],[133,51,59,49,"httpStatus"],[133,61,59,59],[133,62,59,60],[134,4,61,2],[134,10,61,8,"spanStatus"],[134,20,61,18],[134,23,61,21,"getSpanStatusFromHttpCode"],[134,48,61,46],[134,49,61,47,"httpStatus"],[134,59,61,57],[134,60,61,58],[135,4,62,2],[135,8,62,6,"spanStatus"],[135,18,62,16],[135,19,62,17,"message"],[135,26,62,24],[135,31,62,29],[135,46,62,44],[135,48,62,46],[136,6,63,4,"span"],[136,10,63,8],[136,11,63,9,"setStatus"],[136,20,63,18],[136,21,63,19,"spanStatus"],[136,31,63,29],[136,32,63,30],[137,4,64,2],[138,2,65,0],[139,0,65,1],[139,3]],"functionMap":{"names":["<global>","getSpanStatusFromHttpCode","setHttpStatus"],"mappings":"AAA;ACW;CDwC;AEM;CFO"},"hasCjsExports":false},"type":"js/module"}]}