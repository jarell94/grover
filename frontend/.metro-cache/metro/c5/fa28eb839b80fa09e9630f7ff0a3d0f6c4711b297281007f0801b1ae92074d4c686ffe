{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"cleanupSessionDataForTransport\", {\n    enumerable: true,\n    get: function () {\n      return cleanupSessionDataForTransport;\n    }\n  });\n  Object.defineProperty(exports, \"getClientInfoForTransport\", {\n    enumerable: true,\n    get: function () {\n      return getClientInfoForTransport;\n    }\n  });\n  Object.defineProperty(exports, \"getProtocolVersionForTransport\", {\n    enumerable: true,\n    get: function () {\n      return getProtocolVersionForTransport;\n    }\n  });\n  Object.defineProperty(exports, \"getSessionDataForTransport\", {\n    enumerable: true,\n    get: function () {\n      return getSessionDataForTransport;\n    }\n  });\n  Object.defineProperty(exports, \"storeSessionDataForTransport\", {\n    enumerable: true,\n    get: function () {\n      return storeSessionDataForTransport;\n    }\n  });\n  Object.defineProperty(exports, \"updateSessionDataForTransport\", {\n    enumerable: true,\n    get: function () {\n      return updateSessionDataForTransport;\n    }\n  });\n  /**\n   * Transport-scoped session data storage (only for transports with sessionId)\n   * @internal Maps transport instances to session-level data\n   */\n  const transportToSessionData = new WeakMap();\n\n  /**\n   * Stores session data for a transport with sessionId\n   * @param transport - MCP transport instance\n   * @param sessionData - Session data to store\n   */\n  function storeSessionDataForTransport(transport, sessionData) {\n    if (transport.sessionId) {\n      transportToSessionData.set(transport, sessionData);\n    }\n  }\n\n  /**\n   * Updates session data for a transport with sessionId (merges with existing data)\n   * @param transport - MCP transport instance\n   * @param partialSessionData - Partial session data to merge with existing data\n   */\n  function updateSessionDataForTransport(transport, partialSessionData) {\n    if (transport.sessionId) {\n      const existingData = transportToSessionData.get(transport) || {};\n      transportToSessionData.set(transport, Object.assign({}, existingData, partialSessionData));\n    }\n  }\n\n  /**\n   * Retrieves client information for a transport\n   * @param transport - MCP transport instance\n   * @returns Client information if available\n   */\n  function getClientInfoForTransport(transport) {\n    return transportToSessionData.get(transport)?.clientInfo;\n  }\n\n  /**\n   * Retrieves protocol version for a transport\n   * @param transport - MCP transport instance\n   * @returns Protocol version if available\n   */\n  function getProtocolVersionForTransport(transport) {\n    return transportToSessionData.get(transport)?.protocolVersion;\n  }\n\n  /**\n   * Retrieves full session data for a transport\n   * @param transport - MCP transport instance\n   * @returns Complete session data if available\n   */\n  function getSessionDataForTransport(transport) {\n    return transportToSessionData.get(transport);\n  }\n\n  /**\n   * Cleans up session data for a specific transport (when that transport closes)\n   * @param transport - MCP transport instance\n   */\n  function cleanupSessionDataForTransport(transport) {\n    transportToSessionData.delete(transport);\n  }\n});","lineCount":106,"map":[[7,2,65,0,"Object"],[7,8,65,0],[7,9,65,0,"defineProperty"],[7,23,65,0],[7,24,65,0,"exports"],[7,31,65,0],[8,4,65,0,"enumerable"],[8,14,65,0],[9,4,65,0,"get"],[9,7,65,0],[9,18,65,0,"get"],[9,19,65,0],[10,6,65,0],[10,13,65,9,"cleanupSessionDataForTransport"],[10,43,65,39],[11,4,65,39],[12,2,65,39],[13,2,65,0,"Object"],[13,8,65,0],[13,9,65,0,"defineProperty"],[13,23,65,0],[13,24,65,0,"exports"],[13,31,65,0],[14,4,65,0,"enumerable"],[14,14,65,0],[15,4,65,0,"get"],[15,7,65,0],[15,18,65,0,"get"],[15,19,65,0],[16,6,65,0],[16,13,65,41,"getClientInfoForTransport"],[16,38,65,66],[17,4,65,66],[18,2,65,66],[19,2,65,0,"Object"],[19,8,65,0],[19,9,65,0,"defineProperty"],[19,23,65,0],[19,24,65,0,"exports"],[19,31,65,0],[20,4,65,0,"enumerable"],[20,14,65,0],[21,4,65,0,"get"],[21,7,65,0],[21,18,65,0,"get"],[21,19,65,0],[22,6,65,0],[22,13,65,68,"getProtocolVersionForTransport"],[22,43,65,98],[23,4,65,98],[24,2,65,98],[25,2,65,0,"Object"],[25,8,65,0],[25,9,65,0,"defineProperty"],[25,23,65,0],[25,24,65,0,"exports"],[25,31,65,0],[26,4,65,0,"enumerable"],[26,14,65,0],[27,4,65,0,"get"],[27,7,65,0],[27,18,65,0,"get"],[27,19,65,0],[28,6,65,0],[28,13,65,100,"getSessionDataForTransport"],[28,39,65,126],[29,4,65,126],[30,2,65,126],[31,2,65,0,"Object"],[31,8,65,0],[31,9,65,0,"defineProperty"],[31,23,65,0],[31,24,65,0,"exports"],[31,31,65,0],[32,4,65,0,"enumerable"],[32,14,65,0],[33,4,65,0,"get"],[33,7,65,0],[33,18,65,0,"get"],[33,19,65,0],[34,6,65,0],[34,13,65,128,"storeSessionDataForTransport"],[34,41,65,156],[35,4,65,156],[36,2,65,156],[37,2,65,0,"Object"],[37,8,65,0],[37,9,65,0,"defineProperty"],[37,23,65,0],[37,24,65,0,"exports"],[37,31,65,0],[38,4,65,0,"enumerable"],[38,14,65,0],[39,4,65,0,"get"],[39,7,65,0],[39,18,65,0,"get"],[39,19,65,0],[40,6,65,0],[40,13,65,158,"updateSessionDataForTransport"],[40,42,65,187],[41,4,65,187],[42,2,65,187],[43,2,1,0],[44,0,2,0],[45,0,3,0],[46,0,4,0],[47,2,5,0],[47,8,5,6,"transportToSessionData"],[47,30,5,28],[47,33,5,31],[47,37,5,35,"WeakMap"],[47,44,5,42],[47,45,5,43],[47,46,5,44],[49,2,7,0],[50,0,8,0],[51,0,9,0],[52,0,10,0],[53,0,11,0],[54,2,12,0],[54,11,12,9,"storeSessionDataForTransport"],[54,39,12,37,"storeSessionDataForTransport"],[54,40,12,38,"transport"],[54,49,12,47],[54,51,12,49,"sessionData"],[54,62,12,60],[54,64,12,62],[55,4,13,2],[55,8,13,6,"transport"],[55,17,13,15],[55,18,13,16,"sessionId"],[55,27,13,25],[55,29,13,27],[56,6,14,4,"transportToSessionData"],[56,28,14,26],[56,29,14,27,"set"],[56,32,14,30],[56,33,14,31,"transport"],[56,42,14,40],[56,44,14,42,"sessionData"],[56,55,14,53],[56,56,14,54],[57,4,15,2],[58,2,16,0],[60,2,18,0],[61,0,19,0],[62,0,20,0],[63,0,21,0],[64,0,22,0],[65,2,23,0],[65,11,23,9,"updateSessionDataForTransport"],[65,40,23,38,"updateSessionDataForTransport"],[65,41,23,39,"transport"],[65,50,23,48],[65,52,23,50,"partialSessionData"],[65,70,23,68],[65,72,23,70],[66,4,24,2],[66,8,24,6,"transport"],[66,17,24,15],[66,18,24,16,"sessionId"],[66,27,24,25],[66,29,24,27],[67,6,25,4],[67,12,25,10,"existingData"],[67,24,25,22],[67,27,25,25,"transportToSessionData"],[67,49,25,47],[67,50,25,48,"get"],[67,53,25,51],[67,54,25,52,"transport"],[67,63,25,61],[67,64,25,62],[67,68,25,66],[67,69,25,67],[67,70,25,68],[68,6,26,4,"transportToSessionData"],[68,28,26,26],[68,29,26,27,"set"],[68,32,26,30],[68,33,26,31,"transport"],[68,42,26,40],[68,44,26,40,"Object"],[68,50,26,40],[68,51,26,40,"assign"],[68,57,26,40],[68,62,26,47,"existingData"],[68,74,26,59],[68,76,26,64,"partialSessionData"],[68,94,26,82],[68,95,26,84],[68,96,26,85],[69,4,27,2],[70,2,28,0],[72,2,30,0],[73,0,31,0],[74,0,32,0],[75,0,33,0],[76,0,34,0],[77,2,35,0],[77,11,35,9,"getClientInfoForTransport"],[77,36,35,34,"getClientInfoForTransport"],[77,37,35,35,"transport"],[77,46,35,44],[77,48,35,46],[78,4,36,2],[78,11,36,9,"transportToSessionData"],[78,33,36,31],[78,34,36,32,"get"],[78,37,36,35],[78,38,36,36,"transport"],[78,47,36,45],[78,48,36,46],[78,50,36,48,"clientInfo"],[78,60,36,58],[79,2,37,0],[81,2,39,0],[82,0,40,0],[83,0,41,0],[84,0,42,0],[85,0,43,0],[86,2,44,0],[86,11,44,9,"getProtocolVersionForTransport"],[86,41,44,39,"getProtocolVersionForTransport"],[86,42,44,40,"transport"],[86,51,44,49],[86,53,44,51],[87,4,45,2],[87,11,45,9,"transportToSessionData"],[87,33,45,31],[87,34,45,32,"get"],[87,37,45,35],[87,38,45,36,"transport"],[87,47,45,45],[87,48,45,46],[87,50,45,48,"protocolVersion"],[87,65,45,63],[88,2,46,0],[90,2,48,0],[91,0,49,0],[92,0,50,0],[93,0,51,0],[94,0,52,0],[95,2,53,0],[95,11,53,9,"getSessionDataForTransport"],[95,37,53,35,"getSessionDataForTransport"],[95,38,53,36,"transport"],[95,47,53,45],[95,49,53,47],[96,4,54,2],[96,11,54,9,"transportToSessionData"],[96,33,54,31],[96,34,54,32,"get"],[96,37,54,35],[96,38,54,36,"transport"],[96,47,54,45],[96,48,54,46],[97,2,55,0],[99,2,57,0],[100,0,58,0],[101,0,59,0],[102,0,60,0],[103,2,61,0],[103,11,61,9,"cleanupSessionDataForTransport"],[103,41,61,39,"cleanupSessionDataForTransport"],[103,42,61,40,"transport"],[103,51,61,49],[103,53,61,51],[104,4,62,2,"transportToSessionData"],[104,26,62,24],[104,27,62,25,"delete"],[104,33,62,31],[104,34,62,32,"transport"],[104,43,62,41],[104,44,62,42],[105,2,63,0],[106,0,63,1],[106,3]],"functionMap":{"names":["<global>","storeSessionDataForTransport","updateSessionDataForTransport","getClientInfoForTransport","getProtocolVersionForTransport","getSessionDataForTransport","cleanupSessionDataForTransport"],"mappings":"AAA;ACW;CDI;AEO;CFK;AGO;CHE;AIO;CJE;AKO;CLE;AMM;CNE"},"hasCjsExports":false},"type":"js/module"}]}