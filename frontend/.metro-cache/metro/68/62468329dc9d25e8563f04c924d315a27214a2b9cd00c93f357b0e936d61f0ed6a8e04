{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":681},"end":{"line":10,"column":37,"index":718}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../utils/rnlibraries","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":719},"end":{"line":11,"column":60,"index":779}}],"key":"fGrlZFgrYQrfU1K4tN9OULy4C5Q=","exportNames":["*"],"imports":1}},{"name":"../utils/xhr","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":780},"end":{"line":12,"column":69,"index":849}}],"key":"vOZixZXnOl9wEw9+pZF/CmKTIq4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.fetchSourceContext = fetchSourceContext;\n  exports.parseErrorStack = parseErrorStack;\n  exports.symbolicateStackTrace = symbolicateStackTrace;\n  exports.getDevServer = getDevServer;\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _utilsRnlibraries = require(_dependencyMap[1], \"../utils/rnlibraries\");\n  var _utilsXhr = require(_dependencyMap[2], \"../utils/xhr\");\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  /**\n   * Fetches source context for the Sentry Middleware (/__sentry/context)\n   *\n   * @param frame StackFrame\n   * @param getDevServer function from RN to get DevServer URL\n   */\n  function fetchSourceContext(frames) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new Promise(resolve => {\n        try {\n          const xhr = (0, _utilsXhr.createStealthXhr)();\n          if (!xhr) {\n            resolve(frames);\n            return;\n          }\n          const url = getSentryMetroSourceContextUrl();\n          if (!url) {\n            _sentryCore.debug.error('Could not fetch source context. No dev server URL found.');\n            resolve(frames);\n            return;\n          }\n          xhr.open('POST', url, true);\n          xhr.setRequestHeader('Content-Type', 'application/json');\n          xhr.send(JSON.stringify({\n            stack: frames\n          }));\n          xhr.onreadystatechange = () => {\n            if (xhr.readyState === _utilsXhr.XHR_READYSTATE_DONE) {\n              if (xhr.status !== 200) {\n                resolve(frames);\n              }\n              try {\n                const response = JSON.parse(xhr.responseText);\n                if (Array.isArray(response.stack)) {\n                  resolve(response.stack);\n                } else {\n                  resolve(frames);\n                }\n              } catch (error) {\n                resolve(frames);\n              }\n            }\n          };\n          xhr.onerror = () => {\n            resolve(frames);\n          };\n        } catch (error) {\n          _sentryCore.debug.error('Could not fetch source context.', error);\n          resolve(frames);\n        }\n      });\n    });\n  }\n  function getSentryMetroSourceContextUrl() {\n    const devServer = getDevServer();\n    if (!devServer) {\n      return undefined;\n    }\n    return `${devServer.url}__sentry/context`;\n  }\n  /**\n   * Loads and calls RN Core Devtools parseErrorStack function.\n   */\n  function parseErrorStack(errorStack) {\n    if (!_utilsRnlibraries.ReactNativeLibraries.Devtools) {\n      throw new Error('React Native Devtools not available.');\n    }\n    return _utilsRnlibraries.ReactNativeLibraries.Devtools.parseErrorStack(errorStack);\n  }\n  /**\n   * Loads and calls RN Core Devtools symbolicateStackTrace function.\n   */\n  function symbolicateStackTrace(stack, extraData) {\n    if (!_utilsRnlibraries.ReactNativeLibraries.Devtools) {\n      throw new Error('React Native Devtools not available.');\n    }\n    return _utilsRnlibraries.ReactNativeLibraries.Devtools.symbolicateStackTrace(stack, extraData);\n  }\n  /**\n   * Loads and returns the RN DevServer URL.\n   */\n  function getDevServer() {\n    var _a;\n    try {\n      return (_a = _utilsRnlibraries.ReactNativeLibraries.Devtools) === null || _a === void 0 ? void 0 : _a.getDevServer();\n    } catch (_oO) {\n      // We can't load devserver URL\n    }\n    return undefined;\n  }\n});","lineCount":131,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"fetchSourceContext"],[7,28,19,0],[7,31,19,0,"fetchSourceContext"],[7,49,19,0],[8,2,77,0,"exports"],[8,9,77,0],[8,10,77,0,"parseErrorStack"],[8,25,77,0],[8,28,77,0,"parseErrorStack"],[8,43,77,0],[9,2,86,0,"exports"],[9,9,86,0],[9,10,86,0,"symbolicateStackTrace"],[9,31,86,0],[9,34,86,0,"symbolicateStackTrace"],[9,55,86,0],[10,2,95,0,"exports"],[10,9,95,0],[10,10,95,0,"getDevServer"],[10,22,95,0],[10,25,95,0,"getDevServer"],[10,37,95,0],[11,2,10,0],[11,6,10,0,"_sentryCore"],[11,17,10,0],[11,20,10,0,"require"],[11,27,10,0],[11,28,10,0,"_dependencyMap"],[11,42,10,0],[12,2,11,0],[12,6,11,0,"_utilsRnlibraries"],[12,23,11,0],[12,26,11,0,"require"],[12,33,11,0],[12,34,11,0,"_dependencyMap"],[12,48,11,0],[13,2,12,0],[13,6,12,0,"_utilsXhr"],[13,15,12,0],[13,18,12,0,"require"],[13,25,12,0],[13,26,12,0,"_dependencyMap"],[13,40,12,0],[14,2,1,0],[14,6,1,4,"__awaiter"],[14,15,1,13],[14,18,1,17],[14,22,1,21],[14,26,1,25],[14,30,1,29],[14,31,1,30,"__awaiter"],[14,40,1,39],[14,44,1,44],[14,54,1,54,"thisArg"],[14,61,1,61],[14,63,1,63,"_arguments"],[14,73,1,73],[14,75,1,75,"P"],[14,76,1,76],[14,78,1,78,"generator"],[14,87,1,87],[14,89,1,89],[15,4,2,4],[15,13,2,13,"adopt"],[15,18,2,18,"adopt"],[15,19,2,19,"value"],[15,24,2,24],[15,26,2,26],[16,6,2,28],[16,13,2,35,"value"],[16,18,2,40],[16,30,2,52,"P"],[16,31,2,53],[16,34,2,56,"value"],[16,39,2,61],[16,42,2,64],[16,46,2,68,"P"],[16,47,2,69],[16,48,2,70],[16,58,2,80,"resolve"],[16,65,2,87],[16,67,2,89],[17,8,2,91,"resolve"],[17,15,2,98],[17,16,2,99,"value"],[17,21,2,104],[17,22,2,105],[18,6,2,107],[18,7,2,108],[18,8,2,109],[19,4,2,111],[20,4,3,4],[20,11,3,11],[20,16,3,16,"P"],[20,17,3,17],[20,22,3,22,"P"],[20,23,3,23],[20,26,3,26,"Promise"],[20,33,3,33],[20,34,3,34],[20,36,3,36],[20,46,3,46,"resolve"],[20,53,3,53],[20,55,3,55,"reject"],[20,61,3,61],[20,63,3,63],[21,6,4,8],[21,15,4,17,"fulfilled"],[21,24,4,26,"fulfilled"],[21,25,4,27,"value"],[21,30,4,32],[21,32,4,34],[22,8,4,36],[22,12,4,40],[23,10,4,42,"step"],[23,14,4,46],[23,15,4,47,"generator"],[23,24,4,56],[23,25,4,57,"next"],[23,29,4,61],[23,30,4,62,"value"],[23,35,4,67],[23,36,4,68],[23,37,4,69],[24,8,4,71],[24,9,4,72],[24,10,4,73],[24,17,4,80,"e"],[24,18,4,81],[24,20,4,83],[25,10,4,85,"reject"],[25,16,4,91],[25,17,4,92,"e"],[25,18,4,93],[25,19,4,94],[26,8,4,96],[27,6,4,98],[28,6,5,8],[28,15,5,17,"rejected"],[28,23,5,25,"rejected"],[28,24,5,26,"value"],[28,29,5,31],[28,31,5,33],[29,8,5,35],[29,12,5,39],[30,10,5,41,"step"],[30,14,5,45],[30,15,5,46,"generator"],[30,24,5,55],[30,25,5,56],[30,32,5,63],[30,33,5,64],[30,34,5,65,"value"],[30,39,5,70],[30,40,5,71],[30,41,5,72],[31,8,5,74],[31,9,5,75],[31,10,5,76],[31,17,5,83,"e"],[31,18,5,84],[31,20,5,86],[32,10,5,88,"reject"],[32,16,5,94],[32,17,5,95,"e"],[32,18,5,96],[32,19,5,97],[33,8,5,99],[34,6,5,101],[35,6,6,8],[35,15,6,17,"step"],[35,19,6,21,"step"],[35,20,6,22,"result"],[35,26,6,28],[35,28,6,30],[36,8,6,32,"result"],[36,14,6,38],[36,15,6,39,"done"],[36,19,6,43],[36,22,6,46,"resolve"],[36,29,6,53],[36,30,6,54,"result"],[36,36,6,60],[36,37,6,61,"value"],[36,42,6,66],[36,43,6,67],[36,46,6,70,"adopt"],[36,51,6,75],[36,52,6,76,"result"],[36,58,6,82],[36,59,6,83,"value"],[36,64,6,88],[36,65,6,89],[36,66,6,90,"then"],[36,70,6,94],[36,71,6,95,"fulfilled"],[36,80,6,104],[36,82,6,106,"rejected"],[36,90,6,114],[36,91,6,115],[37,6,6,117],[38,6,7,8,"step"],[38,10,7,12],[38,11,7,13],[38,12,7,14,"generator"],[38,21,7,23],[38,24,7,26,"generator"],[38,33,7,35],[38,34,7,36,"apply"],[38,39,7,41],[38,40,7,42,"thisArg"],[38,47,7,49],[38,49,7,51,"_arguments"],[38,59,7,61],[38,63,7,65],[38,65,7,67],[38,66,7,68],[38,68,7,70,"next"],[38,72,7,74],[38,73,7,75],[38,74,7,76],[38,75,7,77],[39,4,8,4],[39,5,8,5],[39,6,8,6],[40,2,9,0],[40,3,9,1],[41,2,13,0],[42,0,14,0],[43,0,15,0],[44,0,16,0],[45,0,17,0],[46,0,18,0],[47,2,19,7],[47,11,19,16,"fetchSourceContext"],[47,29,19,34,"fetchSourceContext"],[47,30,19,35,"frames"],[47,36,19,41],[47,38,19,43],[48,4,20,4],[48,11,20,11,"__awaiter"],[48,20,20,20],[48,21,20,21],[48,25,20,25],[48,27,20,27],[48,32,20,32],[48,33,20,33],[48,35,20,35],[48,40,20,40],[48,41,20,41],[48,43,20,43],[48,56,20,56],[49,6,21,8],[49,13,21,15],[49,17,21,19,"Promise"],[49,24,21,26],[49,25,21,27,"resolve"],[49,32,21,34],[49,36,21,38],[50,8,22,12],[50,12,22,16],[51,10,23,16],[51,16,23,22,"xhr"],[51,19,23,25],[51,22,23,28],[51,26,23,28,"createStealthXhr"],[51,35,23,44],[51,36,23,44,"createStealthXhr"],[51,52,23,44],[51,54,23,45],[51,55,23,46],[52,10,24,16],[52,14,24,20],[52,15,24,21,"xhr"],[52,18,24,24],[52,20,24,26],[53,12,25,20,"resolve"],[53,19,25,27],[53,20,25,28,"frames"],[53,26,25,34],[53,27,25,35],[54,12,26,20],[55,10,27,16],[56,10,28,16],[56,16,28,22,"url"],[56,19,28,25],[56,22,28,28,"getSentryMetroSourceContextUrl"],[56,52,28,58],[56,53,28,59],[56,54,28,60],[57,10,29,16],[57,14,29,20],[57,15,29,21,"url"],[57,18,29,24],[57,20,29,26],[58,12,30,20,"debug"],[58,23,30,25],[58,24,30,25,"debug"],[58,29,30,25],[58,30,30,26,"error"],[58,35,30,31],[58,36,30,32],[58,94,30,90],[58,95,30,91],[59,12,31,20,"resolve"],[59,19,31,27],[59,20,31,28,"frames"],[59,26,31,34],[59,27,31,35],[60,12,32,20],[61,10,33,16],[62,10,34,16,"xhr"],[62,13,34,19],[62,14,34,20,"open"],[62,18,34,24],[62,19,34,25],[62,25,34,31],[62,27,34,33,"url"],[62,30,34,36],[62,32,34,38],[62,36,34,42],[62,37,34,43],[63,10,35,16,"xhr"],[63,13,35,19],[63,14,35,20,"setRequestHeader"],[63,30,35,36],[63,31,35,37],[63,45,35,51],[63,47,35,53],[63,65,35,71],[63,66,35,72],[64,10,36,16,"xhr"],[64,13,36,19],[64,14,36,20,"send"],[64,18,36,24],[64,19,36,25,"JSON"],[64,23,36,29],[64,24,36,30,"stringify"],[64,33,36,39],[64,34,36,40],[65,12,36,42,"stack"],[65,17,36,47],[65,19,36,49,"frames"],[66,10,36,56],[66,11,36,57],[66,12,36,58],[66,13,36,59],[67,10,37,16,"xhr"],[67,13,37,19],[67,14,37,20,"onreadystatechange"],[67,32,37,38],[67,35,37,41],[67,41,37,47],[68,12,38,20],[68,16,38,24,"xhr"],[68,19,38,27],[68,20,38,28,"readyState"],[68,30,38,38],[68,35,38,43,"XHR_READYSTATE_DONE"],[68,44,38,62],[68,45,38,62,"XHR_READYSTATE_DONE"],[68,64,38,62],[68,66,38,64],[69,14,39,24],[69,18,39,28,"xhr"],[69,21,39,31],[69,22,39,32,"status"],[69,28,39,38],[69,33,39,43],[69,36,39,46],[69,38,39,48],[70,16,40,28,"resolve"],[70,23,40,35],[70,24,40,36,"frames"],[70,30,40,42],[70,31,40,43],[71,14,41,24],[72,14,42,24],[72,18,42,28],[73,16,43,28],[73,22,43,34,"response"],[73,30,43,42],[73,33,43,45,"JSON"],[73,37,43,49],[73,38,43,50,"parse"],[73,43,43,55],[73,44,43,56,"xhr"],[73,47,43,59],[73,48,43,60,"responseText"],[73,60,43,72],[73,61,43,73],[74,16,44,28],[74,20,44,32,"Array"],[74,25,44,37],[74,26,44,38,"isArray"],[74,33,44,45],[74,34,44,46,"response"],[74,42,44,54],[74,43,44,55,"stack"],[74,48,44,60],[74,49,44,61],[74,51,44,63],[75,18,45,32,"resolve"],[75,25,45,39],[75,26,45,40,"response"],[75,34,45,48],[75,35,45,49,"stack"],[75,40,45,54],[75,41,45,55],[76,16,46,28],[76,17,46,29],[76,23,47,33],[77,18,48,32,"resolve"],[77,25,48,39],[77,26,48,40,"frames"],[77,32,48,46],[77,33,48,47],[78,16,49,28],[79,14,50,24],[79,15,50,25],[79,16,51,24],[79,23,51,31,"error"],[79,28,51,36],[79,30,51,38],[80,16,52,28,"resolve"],[80,23,52,35],[80,24,52,36,"frames"],[80,30,52,42],[80,31,52,43],[81,14,53,24],[82,12,54,20],[83,10,55,16],[83,11,55,17],[84,10,56,16,"xhr"],[84,13,56,19],[84,14,56,20,"onerror"],[84,21,56,27],[84,24,56,30],[84,30,56,36],[85,12,57,20,"resolve"],[85,19,57,27],[85,20,57,28,"frames"],[85,26,57,34],[85,27,57,35],[86,10,58,16],[86,11,58,17],[87,8,59,12],[87,9,59,13],[87,10,60,12],[87,17,60,19,"error"],[87,22,60,24],[87,24,60,26],[88,10,61,16,"debug"],[88,21,61,21],[88,22,61,21,"debug"],[88,27,61,21],[88,28,61,22,"error"],[88,33,61,27],[88,34,61,28],[88,67,61,61],[88,69,61,63,"error"],[88,74,61,68],[88,75,61,69],[89,10,62,16,"resolve"],[89,17,62,23],[89,18,62,24,"frames"],[89,24,62,30],[89,25,62,31],[90,8,63,12],[91,6,64,8],[91,7,64,9],[91,8,64,10],[92,4,65,4],[92,5,65,5],[92,6,65,6],[93,2,66,0],[94,2,67,0],[94,11,67,9,"getSentryMetroSourceContextUrl"],[94,41,67,39,"getSentryMetroSourceContextUrl"],[94,42,67,39],[94,44,67,42],[95,4,68,4],[95,10,68,10,"devServer"],[95,19,68,19],[95,22,68,22,"getDevServer"],[95,34,68,34],[95,35,68,35],[95,36,68,36],[96,4,69,4],[96,8,69,8],[96,9,69,9,"devServer"],[96,18,69,18],[96,20,69,20],[97,6,70,8],[97,13,70,15,"undefined"],[97,22,70,24],[98,4,71,4],[99,4,72,4],[99,11,72,11],[99,14,72,14,"devServer"],[99,23,72,23],[99,24,72,24,"url"],[99,27,72,27],[99,45,72,45],[100,2,73,0],[101,2,74,0],[102,0,75,0],[103,0,76,0],[104,2,77,7],[104,11,77,16,"parseErrorStack"],[104,26,77,31,"parseErrorStack"],[104,27,77,32,"errorStack"],[104,37,77,42],[104,39,77,44],[105,4,78,4],[105,8,78,8],[105,9,78,9,"ReactNativeLibraries"],[105,26,78,29],[105,27,78,29,"ReactNativeLibraries"],[105,47,78,29],[105,48,78,30,"Devtools"],[105,56,78,38],[105,58,78,40],[106,6,79,8],[106,12,79,14],[106,16,79,18,"Error"],[106,21,79,23],[106,22,79,24],[106,60,79,62],[106,61,79,63],[107,4,80,4],[108,4,81,4],[108,11,81,11,"ReactNativeLibraries"],[108,28,81,31],[108,29,81,31,"ReactNativeLibraries"],[108,49,81,31],[108,50,81,32,"Devtools"],[108,58,81,40],[108,59,81,41,"parseErrorStack"],[108,74,81,56],[108,75,81,57,"errorStack"],[108,85,81,67],[108,86,81,68],[109,2,82,0],[110,2,83,0],[111,0,84,0],[112,0,85,0],[113,2,86,7],[113,11,86,16,"symbolicateStackTrace"],[113,32,86,37,"symbolicateStackTrace"],[113,33,86,38,"stack"],[113,38,86,43],[113,40,86,45,"extraData"],[113,49,86,54],[113,51,86,56],[114,4,87,4],[114,8,87,8],[114,9,87,9,"ReactNativeLibraries"],[114,26,87,29],[114,27,87,29,"ReactNativeLibraries"],[114,47,87,29],[114,48,87,30,"Devtools"],[114,56,87,38],[114,58,87,40],[115,6,88,8],[115,12,88,14],[115,16,88,18,"Error"],[115,21,88,23],[115,22,88,24],[115,60,88,62],[115,61,88,63],[116,4,89,4],[117,4,90,4],[117,11,90,11,"ReactNativeLibraries"],[117,28,90,31],[117,29,90,31,"ReactNativeLibraries"],[117,49,90,31],[117,50,90,32,"Devtools"],[117,58,90,40],[117,59,90,41,"symbolicateStackTrace"],[117,80,90,62],[117,81,90,63,"stack"],[117,86,90,68],[117,88,90,70,"extraData"],[117,97,90,79],[117,98,90,80],[118,2,91,0],[119,2,92,0],[120,0,93,0],[121,0,94,0],[122,2,95,7],[122,11,95,16,"getDevServer"],[122,23,95,28,"getDevServer"],[122,24,95,28],[122,26,95,31],[123,4,96,4],[123,8,96,8,"_a"],[123,10,96,10],[124,4,97,4],[124,8,97,8],[125,6,98,8],[125,13,98,15],[125,14,98,16,"_a"],[125,16,98,18],[125,19,98,21,"ReactNativeLibraries"],[125,36,98,41],[125,37,98,41,"ReactNativeLibraries"],[125,57,98,41],[125,58,98,42,"Devtools"],[125,66,98,50],[125,72,98,56],[125,76,98,60],[125,80,98,64,"_a"],[125,82,98,66],[125,87,98,71],[125,92,98,76],[125,93,98,77],[125,96,98,80],[125,101,98,85],[125,102,98,86],[125,105,98,89,"_a"],[125,107,98,91],[125,108,98,92,"getDevServer"],[125,120,98,104],[125,121,98,105],[125,122,98,106],[126,4,99,4],[126,5,99,5],[126,6,100,4],[126,13,100,11,"_oO"],[126,16,100,14],[126,18,100,16],[127,6,101,8],[128,4,101,8],[129,4,103,4],[129,11,103,11,"undefined"],[129,20,103,20],[130,2,104,0],[131,0,104,1],[131,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","fetchSourceContext","__awaiter$argument_3","Promise$argument_0","xhr.onreadystatechange","xhr.onerror","getSentryMetroSourceContextUrl","parseErrorStack","symbolicateStackTrace","getDevServer"],"mappings":"AAA,4CC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;OOU;2CCC;2BCC;yCCgB;iBDkB;8BEC;iBFE;SDM;KDC;CPC;AYC;CZM;OaI;CbK;OcI;CdK;OeI;CfS"},"hasCjsExports":false},"type":"js/module"}]}