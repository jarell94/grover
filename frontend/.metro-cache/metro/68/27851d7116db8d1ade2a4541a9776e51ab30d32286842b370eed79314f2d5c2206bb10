{"dependencies":[{"name":"../observe.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"Bg3ZFLN2BI2v94qjUhj8Too4FZg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getInteractionCount\", {\n    enumerable: true,\n    get: function () {\n      return getInteractionCount;\n    }\n  });\n  Object.defineProperty(exports, \"initInteractionCountPolyfill\", {\n    enumerable: true,\n    get: function () {\n      return initInteractionCountPolyfill;\n    }\n  });\n  var _observeJs = require(_dependencyMap[0], \"../observe.js\");\n  /*\n   * Copyright 2022 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  let interactionCountEstimate = 0;\n  let minKnownInteractionId = Infinity;\n  let maxKnownInteractionId = 0;\n  const updateEstimate = entries => {\n    entries.forEach(e => {\n      if (e.interactionId) {\n        minKnownInteractionId = Math.min(minKnownInteractionId, e.interactionId);\n        maxKnownInteractionId = Math.max(maxKnownInteractionId, e.interactionId);\n        interactionCountEstimate = maxKnownInteractionId ? (maxKnownInteractionId - minKnownInteractionId) / 7 + 1 : 0;\n      }\n    });\n  };\n  let po;\n\n  /**\n   * Returns the `interactionCount` value using the native API (if available)\n   * or the polyfill estimate in this module.\n   */\n  const getInteractionCount = () => {\n    return po ? interactionCountEstimate : performance.interactionCount || 0;\n  };\n\n  /**\n   * Feature detects native support or initializes the polyfill if needed.\n   */\n  const initInteractionCountPolyfill = () => {\n    if ('interactionCount' in performance || po) return;\n    po = (0, _observeJs.observe)('event', updateEstimate, {\n      type: 'event',\n      buffered: true,\n      durationThreshold: 0\n    });\n  };\n});","lineCount":69,"map":[[7,2,58,0,"Object"],[7,8,58,0],[7,9,58,0,"defineProperty"],[7,23,58,0],[7,24,58,0,"exports"],[7,31,58,0],[8,4,58,0,"enumerable"],[8,14,58,0],[9,4,58,0,"get"],[9,7,58,0],[9,18,58,0,"get"],[9,19,58,0],[10,6,58,0],[10,13,58,9,"getInteractionCount"],[10,32,58,28],[11,4,58,28],[12,2,58,28],[13,2,58,0,"Object"],[13,8,58,0],[13,9,58,0,"defineProperty"],[13,23,58,0],[13,24,58,0,"exports"],[13,31,58,0],[14,4,58,0,"enumerable"],[14,14,58,0],[15,4,58,0,"get"],[15,7,58,0],[15,18,58,0,"get"],[15,19,58,0],[16,6,58,0],[16,13,58,30,"initInteractionCountPolyfill"],[16,41,58,58],[17,4,58,58],[18,2,58,58],[19,2,1,0],[19,6,1,0,"_observeJs"],[19,16,1,0],[19,19,1,0,"require"],[19,26,1,0],[19,27,1,0,"_dependencyMap"],[19,41,1,0],[20,2,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,0,17,0],[36,2,20,0],[36,6,20,4,"interactionCountEstimate"],[36,30,20,28],[36,33,20,31],[36,34,20,32],[37,2,21,0],[37,6,21,4,"minKnownInteractionId"],[37,27,21,25],[37,30,21,28,"Infinity"],[37,38,21,36],[38,2,22,0],[38,6,22,4,"maxKnownInteractionId"],[38,27,22,25],[38,30,22,28],[38,31,22,29],[39,2,24,0],[39,8,24,6,"updateEstimate"],[39,22,24,20],[39,25,24,24,"entries"],[39,32,24,31],[39,36,24,36],[40,4,25,2,"entries"],[40,11,25,9],[40,12,25,10,"forEach"],[40,19,25,17],[40,20,25,18,"e"],[40,21,25,19],[40,25,25,23],[41,6,26,4],[41,10,26,8,"e"],[41,11,26,9],[41,12,26,10,"interactionId"],[41,25,26,23],[41,27,26,25],[42,8,27,6,"minKnownInteractionId"],[42,29,27,27],[42,32,27,30,"Math"],[42,36,27,34],[42,37,27,35,"min"],[42,40,27,38],[42,41,27,39,"minKnownInteractionId"],[42,62,27,60],[42,64,27,62,"e"],[42,65,27,63],[42,66,27,64,"interactionId"],[42,79,27,77],[42,80,27,78],[43,8,28,6,"maxKnownInteractionId"],[43,29,28,27],[43,32,28,30,"Math"],[43,36,28,34],[43,37,28,35,"max"],[43,40,28,38],[43,41,28,39,"maxKnownInteractionId"],[43,62,28,60],[43,64,28,62,"e"],[43,65,28,63],[43,66,28,64,"interactionId"],[43,79,28,77],[43,80,28,78],[44,8,30,6,"interactionCountEstimate"],[44,32,30,30],[44,35,30,33,"maxKnownInteractionId"],[44,56,30,54],[44,59,30,57],[44,60,30,58,"maxKnownInteractionId"],[44,81,30,79],[44,84,30,82,"minKnownInteractionId"],[44,105,30,103],[44,109,30,107],[44,110,30,108],[44,113,30,111],[44,114,30,112],[44,117,30,115],[44,118,30,116],[45,6,31,4],[46,4,32,2],[46,5,32,3],[46,6,32,4],[47,2,33,0],[47,3,33,1],[48,2,35,0],[48,6,35,4,"po"],[48,8,35,6],[50,2,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,2,41,0],[54,8,41,6,"getInteractionCount"],[54,27,41,25],[54,30,41,28,"getInteractionCount"],[54,31,41,28],[54,36,41,34],[55,4,42,2],[55,11,42,9,"po"],[55,13,42,11],[55,16,42,14,"interactionCountEstimate"],[55,40,42,38],[55,43,42,41,"performance"],[55,54,42,52],[55,55,42,53,"interactionCount"],[55,71,42,69],[55,75,42,73],[55,76,42,74],[56,2,43,0],[56,3,43,1],[58,2,45,0],[59,0,46,0],[60,0,47,0],[61,2,48,0],[61,8,48,6,"initInteractionCountPolyfill"],[61,36,48,34],[61,39,48,37,"initInteractionCountPolyfill"],[61,40,48,37],[61,45,48,43],[62,4,49,2],[62,8,49,6],[62,26,49,24],[62,30,49,28,"performance"],[62,41,49,39],[62,45,49,43,"po"],[62,47,49,45],[62,49,49,47],[63,4,51,2,"po"],[63,6,51,4],[63,9,51,7],[63,13,51,7,"observe"],[63,23,51,14],[63,24,51,14,"observe"],[63,31,51,14],[63,33,51,15],[63,40,51,22],[63,42,51,24,"updateEstimate"],[63,56,51,38],[63,58,51,40],[64,6,52,4,"type"],[64,10,52,8],[64,12,52,10],[64,19,52,17],[65,6,53,4,"buffered"],[65,14,53,12],[65,16,53,14],[65,20,53,18],[66,6,54,4,"durationThreshold"],[66,23,54,21],[66,25,54,23],[67,4,55,2],[67,5,55,4],[67,6,55,5],[68,2,56,0],[68,3,56,1],[69,0,56,2],[69,3]],"functionMap":{"names":["<global>","updateEstimate","entries.forEach$argument_0","getInteractionCount","initInteractionCountPolyfill"],"mappings":"AAA;uBCuB;kBCC;GDO;CDC;4BGQ;CHE;qCIK;CJQ"},"hasCjsExports":false},"type":"js/module"}]}