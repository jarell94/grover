{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":681},"end":{"line":10,"column":57,"index":738}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../../utils/AsyncExpiringMap","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":739},"end":{"line":11,"column":64,"index":803}}],"key":"wX/+pyhPdiVIAjUD6/tqvcAtmG8=","exportNames":["*"],"imports":1}},{"name":"../../utils/span","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":804},"end":{"line":12,"column":46,"index":850}}],"key":"jhPoHliZ6ZEw7FF55IpVbRP9XdE=","exportNames":["*"],"imports":1}},{"name":"../../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":851},"end":{"line":13,"column":39,"index":890}}],"key":"zzWB7jlK9qMH8lQSK3ZTzm4O3ng=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createNativeFramesIntegrations\", {\n    enumerable: true,\n    get: function () {\n      return createNativeFramesIntegrations;\n    }\n  });\n  Object.defineProperty(exports, \"nativeFramesIntegration\", {\n    enumerable: true,\n    get: function () {\n      return nativeFramesIntegration;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _utilsAsyncExpiringMap = require(_dependencyMap[1], \"../../utils/AsyncExpiringMap\");\n  var _utilsSpan = require(_dependencyMap[2], \"../../utils/span\");\n  var _wrapper = require(_dependencyMap[3], \"../../wrapper\");\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  /**\n   * Timeout from the start of a span to fetching the associated native frames.\n   */\n  const FETCH_FRAMES_TIMEOUT_MS = 2000;\n  /**\n   * This is the time end frames data from the native layer will be\n   * kept in memory and waiting for the event processing. This ensures that spans\n   * which are never processed are not leaking memory.\n   */\n  const END_FRAMES_TIMEOUT_MS = 2000;\n  /**\n   * This is the time start frames data from the native layer will be\n   * kept in memory and waiting for span end. This ensures that spans\n   * which never end or are not processed are not leaking memory.\n   */\n  const START_FRAMES_TIMEOUT_MS = 60000;\n  /**\n   * A margin of error of 50ms is allowed for the async native bridge call.\n   * Anything larger would reduce the accuracy of our frames measurements.\n   */\n  const MARGIN_OF_ERROR_SECONDS = 0.05;\n  const INTEGRATION_NAME = 'NativeFrames';\n  const createNativeFramesIntegrations = enable => {\n    if (!enable && _wrapper.NATIVE.enableNative) {\n      // On Android this will free up resource when JS reloaded (native modules stay) and thus JS side of the SDK reinitialized.\n      _wrapper.NATIVE.disableNativeFramesTracking();\n      return undefined;\n    }\n    return nativeFramesIntegration();\n  };\n  /**\n   * Instrumentation to add native slow/frozen frames measurements onto transactions.\n   */\n  const nativeFramesIntegration = () => {\n    /** The native frames at the finish time of the most recent span. */\n    let _lastChildSpanEndFrames = null;\n    const _spanToNativeFramesAtStartMap = new _utilsAsyncExpiringMap.AsyncExpiringMap({\n      ttl: START_FRAMES_TIMEOUT_MS\n    });\n    const _spanToNativeFramesAtEndMap = new _utilsAsyncExpiringMap.AsyncExpiringMap({\n      ttl: END_FRAMES_TIMEOUT_MS\n    });\n    /**\n     * Hooks into the client start and end span events.\n     */\n    const setup = client => {\n      if (!_wrapper.NATIVE.enableNative) {\n        _sentryCore.debug.warn(`[${INTEGRATION_NAME}] This is not available on the Web, Expo Go and other platforms without native modules.`);\n        return undefined;\n      }\n      _wrapper.NATIVE.enableNativeFramesTracking();\n      client.on('spanStart', fetchStartFramesForSpan);\n      client.on('spanEnd', fetchEndFramesForSpan);\n    };\n    const fetchStartFramesForSpan = rootSpan => {\n      if (!(0, _utilsSpan.isRootSpan)(rootSpan)) {\n        return;\n      }\n      const spanId = rootSpan.spanContext().spanId;\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] Fetching frames for root span start (${spanId}).`);\n      _spanToNativeFramesAtStartMap.set(spanId, new Promise(resolve => {\n        fetchNativeFrames().then(frames => resolve(frames)).then(undefined, error => {\n          _sentryCore.debug.log(`[${INTEGRATION_NAME}] Error while fetching native frames.`, error);\n          resolve(null);\n        });\n      }));\n    };\n    const fetchEndFramesForSpan = span => {\n      const timestamp = (0, _sentryCore.timestampInSeconds)();\n      const spanId = span.spanContext().spanId;\n      if ((0, _utilsSpan.isRootSpan)(span)) {\n        const hasStartFrames = _spanToNativeFramesAtStartMap.has(spanId);\n        if (!hasStartFrames) {\n          // We don't have start frames, won't be able to calculate the difference.\n          return;\n        }\n        _sentryCore.debug.log(`[${INTEGRATION_NAME}] Fetch frames for root span end (${spanId}).`);\n        _spanToNativeFramesAtEndMap.set(spanId, new Promise(resolve => {\n          fetchNativeFrames().then(frames => {\n            resolve({\n              timestamp,\n              nativeFrames: frames\n            });\n          }).then(undefined, error => {\n            _sentryCore.debug.log(`[${INTEGRATION_NAME}] Error while fetching native frames.`, error);\n            resolve(null);\n          });\n        }));\n        return undefined;\n      } else {\n        _sentryCore.debug.log(`[${INTEGRATION_NAME}] Fetch frames for child span end (${spanId}).`);\n        fetchNativeFrames().then(frames => {\n          _lastChildSpanEndFrames = {\n            timestamp,\n            nativeFrames: frames\n          };\n        }).catch(error => _sentryCore.debug.log(`[${INTEGRATION_NAME}] Error while fetching native frames.`, error));\n      }\n    };\n    const processEvent = event => __awaiter(void 0, void 0, void 0, function* () {\n      var _a;\n      if (event.type !== 'transaction' || !event.transaction || !event.contexts || !event.contexts.trace || !event.timestamp || !event.contexts.trace.span_id) {\n        return event;\n      }\n      const traceOp = event.contexts.trace.op;\n      const spanId = event.contexts.trace.span_id;\n      const startFrames = yield _spanToNativeFramesAtStartMap.pop(spanId);\n      if (!startFrames) {\n        _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Start frames of transaction ${event.transaction} (eventId, ${event.event_id}) are missing, but the transaction already ended.`);\n        return event;\n      }\n      const endFrames = yield _spanToNativeFramesAtEndMap.pop(spanId);\n      let finalEndFrames;\n      if (endFrames && isClose(endFrames.timestamp, event.timestamp)) {\n        // Must be in the margin of error of the actual transaction finish time (finalEndTimestamp)\n        _sentryCore.debug.log(`[${INTEGRATION_NAME}] Using frames from root span end (spanId, ${spanId}).`);\n        finalEndFrames = endFrames.nativeFrames;\n      } else if (_lastChildSpanEndFrames && isClose(_lastChildSpanEndFrames.timestamp, event.timestamp)) {\n        // Fallback to the last span finish if it is within the margin of error of the actual finish timestamp.\n        // This should be the case for trimEnd.\n        _sentryCore.debug.log(`[${INTEGRATION_NAME}] Using native frames from last child span end (spanId, ${spanId}).`);\n        finalEndFrames = _lastChildSpanEndFrames.nativeFrames;\n      } else {\n        _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Frames were collected within larger than margin of error delay for spanId (${spanId}). Dropping the inaccurate values.`);\n        return event;\n      }\n      const measurements = {\n        frames_total: {\n          value: finalEndFrames.totalFrames - startFrames.totalFrames,\n          unit: 'none'\n        },\n        frames_frozen: {\n          value: finalEndFrames.frozenFrames - startFrames.frozenFrames,\n          unit: 'none'\n        },\n        frames_slow: {\n          value: finalEndFrames.slowFrames - startFrames.slowFrames,\n          unit: 'none'\n        }\n      };\n      if (measurements.frames_frozen.value <= 0 && measurements.frames_slow.value <= 0 && measurements.frames_total.value <= 0) {\n        _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Detected zero slow or frozen frames. Not adding measurements to spanId (${spanId}).`);\n        return event;\n      }\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] Adding measurements to ${traceOp} transaction ${event.transaction}: ${JSON.stringify(measurements, undefined, 2)}`);\n      event.measurements = Object.assign(Object.assign({}, (_a = event.measurements) !== null && _a !== void 0 ? _a : {}), measurements);\n      return event;\n    });\n    return {\n      name: INTEGRATION_NAME,\n      setup,\n      processEvent\n    };\n  };\n  function fetchNativeFrames() {\n    return new Promise((resolve, reject) => {\n      _wrapper.NATIVE.fetchNativeFrames().then(value => {\n        if (!value) {\n          reject('Native frames response is null.');\n          return;\n        }\n        resolve(value);\n      }).then(undefined, error => {\n        reject(error);\n      });\n      setTimeout(() => {\n        reject('Fetching native frames took too long. Dropping frames.');\n      }, FETCH_FRAMES_TIMEOUT_MS);\n    });\n  }\n  function isClose(t1, t2) {\n    return Math.abs(t1 - t2) < MARGIN_OF_ERROR_SECONDS;\n  }\n});","lineCount":223,"map":[[7,2,36,0,"Object"],[7,8,36,0],[7,9,36,0,"defineProperty"],[7,23,36,0],[7,24,36,0,"exports"],[7,31,36,0],[8,4,36,0,"enumerable"],[8,14,36,0],[9,4,36,0,"get"],[9,7,36,0],[9,18,36,0,"get"],[9,19,36,0],[10,6,36,0],[10,13,36,0,"createNativeFramesIntegrations"],[10,43,36,0],[11,4,36,0],[12,2,36,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"nativeFramesIntegration"],[16,36,47,0],[17,4,47,0],[18,2,47,0],[19,2,10,0],[19,6,10,0,"_sentryCore"],[19,17,10,0],[19,20,10,0,"require"],[19,27,10,0],[19,28,10,0,"_dependencyMap"],[19,42,10,0],[20,2,11,0],[20,6,11,0,"_utilsAsyncExpiringMap"],[20,28,11,0],[20,31,11,0,"require"],[20,38,11,0],[20,39,11,0,"_dependencyMap"],[20,53,11,0],[21,2,12,0],[21,6,12,0,"_utilsSpan"],[21,16,12,0],[21,19,12,0,"require"],[21,26,12,0],[21,27,12,0,"_dependencyMap"],[21,41,12,0],[22,2,13,0],[22,6,13,0,"_wrapper"],[22,14,13,0],[22,17,13,0,"require"],[22,24,13,0],[22,25,13,0,"_dependencyMap"],[22,39,13,0],[23,2,1,0],[23,6,1,4,"__awaiter"],[23,15,1,13],[23,18,1,17],[23,22,1,21],[23,26,1,25],[23,30,1,29],[23,31,1,30,"__awaiter"],[23,40,1,39],[23,44,1,44],[23,54,1,54,"thisArg"],[23,61,1,61],[23,63,1,63,"_arguments"],[23,73,1,73],[23,75,1,75,"P"],[23,76,1,76],[23,78,1,78,"generator"],[23,87,1,87],[23,89,1,89],[24,4,2,4],[24,13,2,13,"adopt"],[24,18,2,18,"adopt"],[24,19,2,19,"value"],[24,24,2,24],[24,26,2,26],[25,6,2,28],[25,13,2,35,"value"],[25,18,2,40],[25,30,2,52,"P"],[25,31,2,53],[25,34,2,56,"value"],[25,39,2,61],[25,42,2,64],[25,46,2,68,"P"],[25,47,2,69],[25,48,2,70],[25,58,2,80,"resolve"],[25,65,2,87],[25,67,2,89],[26,8,2,91,"resolve"],[26,15,2,98],[26,16,2,99,"value"],[26,21,2,104],[26,22,2,105],[27,6,2,107],[27,7,2,108],[27,8,2,109],[28,4,2,111],[29,4,3,4],[29,11,3,11],[29,16,3,16,"P"],[29,17,3,17],[29,22,3,22,"P"],[29,23,3,23],[29,26,3,26,"Promise"],[29,33,3,33],[29,34,3,34],[29,36,3,36],[29,46,3,46,"resolve"],[29,53,3,53],[29,55,3,55,"reject"],[29,61,3,61],[29,63,3,63],[30,6,4,8],[30,15,4,17,"fulfilled"],[30,24,4,26,"fulfilled"],[30,25,4,27,"value"],[30,30,4,32],[30,32,4,34],[31,8,4,36],[31,12,4,40],[32,10,4,42,"step"],[32,14,4,46],[32,15,4,47,"generator"],[32,24,4,56],[32,25,4,57,"next"],[32,29,4,61],[32,30,4,62,"value"],[32,35,4,67],[32,36,4,68],[32,37,4,69],[33,8,4,71],[33,9,4,72],[33,10,4,73],[33,17,4,80,"e"],[33,18,4,81],[33,20,4,83],[34,10,4,85,"reject"],[34,16,4,91],[34,17,4,92,"e"],[34,18,4,93],[34,19,4,94],[35,8,4,96],[36,6,4,98],[37,6,5,8],[37,15,5,17,"rejected"],[37,23,5,25,"rejected"],[37,24,5,26,"value"],[37,29,5,31],[37,31,5,33],[38,8,5,35],[38,12,5,39],[39,10,5,41,"step"],[39,14,5,45],[39,15,5,46,"generator"],[39,24,5,55],[39,25,5,56],[39,32,5,63],[39,33,5,64],[39,34,5,65,"value"],[39,39,5,70],[39,40,5,71],[39,41,5,72],[40,8,5,74],[40,9,5,75],[40,10,5,76],[40,17,5,83,"e"],[40,18,5,84],[40,20,5,86],[41,10,5,88,"reject"],[41,16,5,94],[41,17,5,95,"e"],[41,18,5,96],[41,19,5,97],[42,8,5,99],[43,6,5,101],[44,6,6,8],[44,15,6,17,"step"],[44,19,6,21,"step"],[44,20,6,22,"result"],[44,26,6,28],[44,28,6,30],[45,8,6,32,"result"],[45,14,6,38],[45,15,6,39,"done"],[45,19,6,43],[45,22,6,46,"resolve"],[45,29,6,53],[45,30,6,54,"result"],[45,36,6,60],[45,37,6,61,"value"],[45,42,6,66],[45,43,6,67],[45,46,6,70,"adopt"],[45,51,6,75],[45,52,6,76,"result"],[45,58,6,82],[45,59,6,83,"value"],[45,64,6,88],[45,65,6,89],[45,66,6,90,"then"],[45,70,6,94],[45,71,6,95,"fulfilled"],[45,80,6,104],[45,82,6,106,"rejected"],[45,90,6,114],[45,91,6,115],[46,6,6,117],[47,6,7,8,"step"],[47,10,7,12],[47,11,7,13],[47,12,7,14,"generator"],[47,21,7,23],[47,24,7,26,"generator"],[47,33,7,35],[47,34,7,36,"apply"],[47,39,7,41],[47,40,7,42,"thisArg"],[47,47,7,49],[47,49,7,51,"_arguments"],[47,59,7,61],[47,63,7,65],[47,65,7,67],[47,66,7,68],[47,68,7,70,"next"],[47,72,7,74],[47,73,7,75],[47,74,7,76],[47,75,7,77],[48,4,8,4],[48,5,8,5],[48,6,8,6],[49,2,9,0],[49,3,9,1],[50,2,14,0],[51,0,15,0],[52,0,16,0],[53,2,17,0],[53,8,17,6,"FETCH_FRAMES_TIMEOUT_MS"],[53,31,17,29],[53,34,17,32],[53,38,17,36],[54,2,18,0],[55,0,19,0],[56,0,20,0],[57,0,21,0],[58,0,22,0],[59,2,23,0],[59,8,23,6,"END_FRAMES_TIMEOUT_MS"],[59,29,23,27],[59,32,23,30],[59,36,23,34],[60,2,24,0],[61,0,25,0],[62,0,26,0],[63,0,27,0],[64,0,28,0],[65,2,29,0],[65,8,29,6,"START_FRAMES_TIMEOUT_MS"],[65,31,29,29],[65,34,29,32],[65,39,29,37],[66,2,30,0],[67,0,31,0],[68,0,32,0],[69,0,33,0],[70,2,34,0],[70,8,34,6,"MARGIN_OF_ERROR_SECONDS"],[70,31,34,29],[70,34,34,32],[70,38,34,36],[71,2,35,0],[71,8,35,6,"INTEGRATION_NAME"],[71,24,35,22],[71,27,35,25],[71,41,35,39],[72,2,36,7],[72,8,36,13,"createNativeFramesIntegrations"],[72,38,36,43],[72,41,36,47,"enable"],[72,47,36,53],[72,51,36,58],[73,4,37,4],[73,8,37,8],[73,9,37,9,"enable"],[73,15,37,15],[73,19,37,19,"NATIVE"],[73,27,37,25],[73,28,37,25,"NATIVE"],[73,34,37,25],[73,35,37,26,"enableNative"],[73,47,37,38],[73,49,37,40],[74,6,38,8],[75,6,39,8,"NATIVE"],[75,14,39,14],[75,15,39,14,"NATIVE"],[75,21,39,14],[75,22,39,15,"disableNativeFramesTracking"],[75,49,39,42],[75,50,39,43],[75,51,39,44],[76,6,40,8],[76,13,40,15,"undefined"],[76,22,40,24],[77,4,41,4],[78,4,42,4],[78,11,42,11,"nativeFramesIntegration"],[78,34,42,34],[78,35,42,35],[78,36,42,36],[79,2,43,0],[79,3,43,1],[80,2,44,0],[81,0,45,0],[82,0,46,0],[83,2,47,7],[83,8,47,13,"nativeFramesIntegration"],[83,31,47,36],[83,34,47,39,"nativeFramesIntegration"],[83,35,47,39],[83,40,47,45],[84,4,48,4],[85,4,49,4],[85,8,49,8,"_lastChildSpanEndFrames"],[85,31,49,31],[85,34,49,34],[85,38,49,38],[86,4,50,4],[86,10,50,10,"_spanToNativeFramesAtStartMap"],[86,39,50,39],[86,42,50,42],[86,46,50,46,"AsyncExpiringMap"],[86,68,50,62],[86,69,50,62,"AsyncExpiringMap"],[86,85,50,62],[86,86,50,63],[87,6,51,8,"ttl"],[87,9,51,11],[87,11,51,13,"START_FRAMES_TIMEOUT_MS"],[88,4,52,4],[88,5,52,5],[88,6,52,6],[89,4,53,4],[89,10,53,10,"_spanToNativeFramesAtEndMap"],[89,37,53,37],[89,40,53,40],[89,44,53,44,"AsyncExpiringMap"],[89,66,53,60],[89,67,53,60,"AsyncExpiringMap"],[89,83,53,60],[89,84,53,61],[90,6,53,63,"ttl"],[90,9,53,66],[90,11,53,68,"END_FRAMES_TIMEOUT_MS"],[91,4,53,90],[91,5,53,91],[91,6,53,92],[92,4,54,4],[93,0,55,0],[94,0,56,0],[95,4,57,4],[95,10,57,10,"setup"],[95,15,57,15],[95,18,57,19,"client"],[95,24,57,25],[95,28,57,30],[96,6,58,8],[96,10,58,12],[96,11,58,13,"NATIVE"],[96,19,58,19],[96,20,58,19,"NATIVE"],[96,26,58,19],[96,27,58,20,"enableNative"],[96,39,58,32],[96,41,58,34],[97,8,59,12,"debug"],[97,19,59,17],[97,20,59,17,"debug"],[97,25,59,17],[97,26,59,18,"warn"],[97,30,59,22],[97,31,59,23],[97,35,59,27,"INTEGRATION_NAME"],[97,51,59,43],[97,140,59,132],[97,141,59,133],[98,8,60,12],[98,15,60,19,"undefined"],[98,24,60,28],[99,6,61,8],[100,6,62,8,"NATIVE"],[100,14,62,14],[100,15,62,14,"NATIVE"],[100,21,62,14],[100,22,62,15,"enableNativeFramesTracking"],[100,48,62,41],[100,49,62,42],[100,50,62,43],[101,6,63,8,"client"],[101,12,63,14],[101,13,63,15,"on"],[101,15,63,17],[101,16,63,18],[101,27,63,29],[101,29,63,31,"fetchStartFramesForSpan"],[101,52,63,54],[101,53,63,55],[102,6,64,8,"client"],[102,12,64,14],[102,13,64,15,"on"],[102,15,64,17],[102,16,64,18],[102,25,64,27],[102,27,64,29,"fetchEndFramesForSpan"],[102,48,64,50],[102,49,64,51],[103,4,65,4],[103,5,65,5],[104,4,66,4],[104,10,66,10,"fetchStartFramesForSpan"],[104,33,66,33],[104,36,66,37,"rootSpan"],[104,44,66,45],[104,48,66,50],[105,6,67,8],[105,10,67,12],[105,11,67,13],[105,15,67,13,"isRootSpan"],[105,25,67,23],[105,26,67,23,"isRootSpan"],[105,36,67,23],[105,38,67,24,"rootSpan"],[105,46,67,32],[105,47,67,33],[105,49,67,35],[106,8,68,12],[107,6,69,8],[108,6,70,8],[108,12,70,14,"spanId"],[108,18,70,20],[108,21,70,23,"rootSpan"],[108,29,70,31],[108,30,70,32,"spanContext"],[108,41,70,43],[108,42,70,44],[108,43,70,45],[108,44,70,46,"spanId"],[108,50,70,52],[109,6,71,8,"debug"],[109,17,71,13],[109,18,71,13,"debug"],[109,23,71,13],[109,24,71,14,"log"],[109,27,71,17],[109,28,71,18],[109,32,71,22,"INTEGRATION_NAME"],[109,48,71,38],[109,90,71,80,"spanId"],[109,96,71,86],[109,100,71,90],[109,101,71,91],[110,6,72,8,"_spanToNativeFramesAtStartMap"],[110,35,72,37],[110,36,72,38,"set"],[110,39,72,41],[110,40,72,42,"spanId"],[110,46,72,48],[110,48,72,50],[110,52,72,54,"Promise"],[110,59,72,61],[110,60,72,62,"resolve"],[110,67,72,69],[110,71,72,73],[111,8,73,12,"fetchNativeFrames"],[111,25,73,29],[111,26,73,30],[111,27,73,31],[111,28,74,17,"then"],[111,32,74,21],[111,33,74,22,"frames"],[111,39,74,28],[111,43,74,32,"resolve"],[111,50,74,39],[111,51,74,40,"frames"],[111,57,74,46],[111,58,74,47],[111,59,74,48],[111,60,75,17,"then"],[111,64,75,21],[111,65,75,22,"undefined"],[111,74,75,31],[111,76,75,33,"error"],[111,81,75,38],[111,85,75,42],[112,10,76,16,"debug"],[112,21,76,21],[112,22,76,21,"debug"],[112,27,76,21],[112,28,76,22,"log"],[112,31,76,25],[112,32,76,26],[112,36,76,30,"INTEGRATION_NAME"],[112,52,76,46],[112,91,76,85],[112,93,76,87,"error"],[112,98,76,92],[112,99,76,93],[113,10,77,16,"resolve"],[113,17,77,23],[113,18,77,24],[113,22,77,28],[113,23,77,29],[114,8,78,12],[114,9,78,13],[114,10,78,14],[115,6,79,8],[115,7,79,9],[115,8,79,10],[115,9,79,11],[116,4,80,4],[116,5,80,5],[117,4,81,4],[117,10,81,10,"fetchEndFramesForSpan"],[117,31,81,31],[117,34,81,35,"span"],[117,38,81,39],[117,42,81,44],[118,6,82,8],[118,12,82,14,"timestamp"],[118,21,82,23],[118,24,82,26],[118,28,82,26,"timestampInSeconds"],[118,39,82,44],[118,40,82,44,"timestampInSeconds"],[118,58,82,44],[118,60,82,45],[118,61,82,46],[119,6,83,8],[119,12,83,14,"spanId"],[119,18,83,20],[119,21,83,23,"span"],[119,25,83,27],[119,26,83,28,"spanContext"],[119,37,83,39],[119,38,83,40],[119,39,83,41],[119,40,83,42,"spanId"],[119,46,83,48],[120,6,84,8],[120,10,84,12],[120,14,84,12,"isRootSpan"],[120,24,84,22],[120,25,84,22,"isRootSpan"],[120,35,84,22],[120,37,84,23,"span"],[120,41,84,27],[120,42,84,28],[120,44,84,30],[121,8,85,12],[121,14,85,18,"hasStartFrames"],[121,28,85,32],[121,31,85,35,"_spanToNativeFramesAtStartMap"],[121,60,85,64],[121,61,85,65,"has"],[121,64,85,68],[121,65,85,69,"spanId"],[121,71,85,75],[121,72,85,76],[122,8,86,12],[122,12,86,16],[122,13,86,17,"hasStartFrames"],[122,27,86,31],[122,29,86,33],[123,10,87,16],[124,10,88,16],[125,8,89,12],[126,8,90,12,"debug"],[126,19,90,17],[126,20,90,17,"debug"],[126,25,90,17],[126,26,90,18,"log"],[126,29,90,21],[126,30,90,22],[126,34,90,26,"INTEGRATION_NAME"],[126,50,90,42],[126,87,90,79,"spanId"],[126,93,90,85],[126,97,90,89],[126,98,90,90],[127,8,91,12,"_spanToNativeFramesAtEndMap"],[127,35,91,39],[127,36,91,40,"set"],[127,39,91,43],[127,40,91,44,"spanId"],[127,46,91,50],[127,48,91,52],[127,52,91,56,"Promise"],[127,59,91,63],[127,60,91,64,"resolve"],[127,67,91,71],[127,71,91,75],[128,10,92,16,"fetchNativeFrames"],[128,27,92,33],[128,28,92,34],[128,29,92,35],[128,30,93,21,"then"],[128,34,93,25],[128,35,93,26,"frames"],[128,41,93,32],[128,45,93,36],[129,12,94,20,"resolve"],[129,19,94,27],[129,20,94,28],[130,14,95,24,"timestamp"],[130,23,95,33],[131,14,96,24,"nativeFrames"],[131,26,96,36],[131,28,96,38,"frames"],[132,12,97,20],[132,13,97,21],[132,14,97,22],[133,10,98,16],[133,11,98,17],[133,12,98,18],[133,13,99,21,"then"],[133,17,99,25],[133,18,99,26,"undefined"],[133,27,99,35],[133,29,99,37,"error"],[133,34,99,42],[133,38,99,46],[134,12,100,20,"debug"],[134,23,100,25],[134,24,100,25,"debug"],[134,29,100,25],[134,30,100,26,"log"],[134,33,100,29],[134,34,100,30],[134,38,100,34,"INTEGRATION_NAME"],[134,54,100,50],[134,93,100,89],[134,95,100,91,"error"],[134,100,100,96],[134,101,100,97],[135,12,101,20,"resolve"],[135,19,101,27],[135,20,101,28],[135,24,101,32],[135,25,101,33],[136,10,102,16],[136,11,102,17],[136,12,102,18],[137,8,103,12],[137,9,103,13],[137,10,103,14],[137,11,103,15],[138,8,104,12],[138,15,104,19,"undefined"],[138,24,104,28],[139,6,105,8],[139,7,105,9],[139,13,106,13],[140,8,107,12,"debug"],[140,19,107,17],[140,20,107,17,"debug"],[140,25,107,17],[140,26,107,18,"log"],[140,29,107,21],[140,30,107,22],[140,34,107,26,"INTEGRATION_NAME"],[140,50,107,42],[140,88,107,80,"spanId"],[140,94,107,86],[140,98,107,90],[140,99,107,91],[141,8,108,12,"fetchNativeFrames"],[141,25,108,29],[141,26,108,30],[141,27,108,31],[141,28,109,17,"then"],[141,32,109,21],[141,33,109,22,"frames"],[141,39,109,28],[141,43,109,32],[142,10,110,16,"_lastChildSpanEndFrames"],[142,33,110,39],[142,36,110,42],[143,12,111,20,"timestamp"],[143,21,111,29],[144,12,112,20,"nativeFrames"],[144,24,112,32],[144,26,112,34,"frames"],[145,10,113,16],[145,11,113,17],[146,8,114,12],[146,9,114,13],[146,10,114,14],[146,11,115,17,"catch"],[146,16,115,22],[146,17,115,23,"error"],[146,22,115,28],[146,26,115,32,"debug"],[146,37,115,37],[146,38,115,37,"debug"],[146,43,115,37],[146,44,115,38,"log"],[146,47,115,41],[146,48,115,42],[146,52,115,46,"INTEGRATION_NAME"],[146,68,115,62],[146,107,115,101],[146,109,115,103,"error"],[146,114,115,108],[146,115,115,109],[146,116,115,110],[147,6,116,8],[148,4,117,4],[148,5,117,5],[149,4,118,4],[149,10,118,10,"processEvent"],[149,22,118,22],[149,25,118,26,"event"],[149,30,118,31],[149,34,118,36,"__awaiter"],[149,43,118,45],[149,44,118,46],[149,49,118,51],[149,50,118,52],[149,52,118,54],[149,57,118,59],[149,58,118,60],[149,60,118,62],[149,65,118,67],[149,66,118,68],[149,68,118,70],[149,81,118,83],[150,6,119,8],[150,10,119,12,"_a"],[150,12,119,14],[151,6,120,8],[151,10,120,12,"event"],[151,15,120,17],[151,16,120,18,"type"],[151,20,120,22],[151,25,120,27],[151,38,120,40],[151,42,121,12],[151,43,121,13,"event"],[151,48,121,18],[151,49,121,19,"transaction"],[151,60,121,30],[151,64,122,12],[151,65,122,13,"event"],[151,70,122,18],[151,71,122,19,"contexts"],[151,79,122,27],[151,83,123,12],[151,84,123,13,"event"],[151,89,123,18],[151,90,123,19,"contexts"],[151,98,123,27],[151,99,123,28,"trace"],[151,104,123,33],[151,108,124,12],[151,109,124,13,"event"],[151,114,124,18],[151,115,124,19,"timestamp"],[151,124,124,28],[151,128,125,12],[151,129,125,13,"event"],[151,134,125,18],[151,135,125,19,"contexts"],[151,143,125,27],[151,144,125,28,"trace"],[151,149,125,33],[151,150,125,34,"span_id"],[151,157,125,41],[151,159,125,43],[152,8,126,12],[152,15,126,19,"event"],[152,20,126,24],[153,6,127,8],[154,6,128,8],[154,12,128,14,"traceOp"],[154,19,128,21],[154,22,128,24,"event"],[154,27,128,29],[154,28,128,30,"contexts"],[154,36,128,38],[154,37,128,39,"trace"],[154,42,128,44],[154,43,128,45,"op"],[154,45,128,47],[155,6,129,8],[155,12,129,14,"spanId"],[155,18,129,20],[155,21,129,23,"event"],[155,26,129,28],[155,27,129,29,"contexts"],[155,35,129,37],[155,36,129,38,"trace"],[155,41,129,43],[155,42,129,44,"span_id"],[155,49,129,51],[156,6,130,8],[156,12,130,14,"startFrames"],[156,23,130,25],[156,26,130,28],[156,32,130,34,"_spanToNativeFramesAtStartMap"],[156,61,130,63],[156,62,130,64,"pop"],[156,65,130,67],[156,66,130,68,"spanId"],[156,72,130,74],[156,73,130,75],[157,6,131,8],[157,10,131,12],[157,11,131,13,"startFrames"],[157,22,131,24],[157,24,131,26],[158,8,132,12,"debug"],[158,19,132,17],[158,20,132,17,"debug"],[158,25,132,17],[158,26,132,18,"warn"],[158,30,132,22],[158,31,132,23],[158,35,132,27,"INTEGRATION_NAME"],[158,51,132,43],[158,84,132,76,"event"],[158,89,132,81],[158,90,132,82,"transaction"],[158,101,132,93],[158,115,132,107,"event"],[158,120,132,112],[158,121,132,113,"event_id"],[158,129,132,121],[158,180,132,172],[158,181,132,173],[159,8,133,12],[159,15,133,19,"event"],[159,20,133,24],[160,6,134,8],[161,6,135,8],[161,12,135,14,"endFrames"],[161,21,135,23],[161,24,135,26],[161,30,135,32,"_spanToNativeFramesAtEndMap"],[161,57,135,59],[161,58,135,60,"pop"],[161,61,135,63],[161,62,135,64,"spanId"],[161,68,135,70],[161,69,135,71],[162,6,136,8],[162,10,136,12,"finalEndFrames"],[162,24,136,26],[163,6,137,8],[163,10,137,12,"endFrames"],[163,19,137,21],[163,23,137,25,"isClose"],[163,30,137,32],[163,31,137,33,"endFrames"],[163,40,137,42],[163,41,137,43,"timestamp"],[163,50,137,52],[163,52,137,54,"event"],[163,57,137,59],[163,58,137,60,"timestamp"],[163,67,137,69],[163,68,137,70],[163,70,137,72],[164,8,138,12],[165,8,139,12,"debug"],[165,19,139,17],[165,20,139,17,"debug"],[165,25,139,17],[165,26,139,18,"log"],[165,29,139,21],[165,30,139,22],[165,34,139,26,"INTEGRATION_NAME"],[165,50,139,42],[165,96,139,88,"spanId"],[165,102,139,94],[165,106,139,98],[165,107,139,99],[166,8,140,12,"finalEndFrames"],[166,22,140,26],[166,25,140,29,"endFrames"],[166,34,140,38],[166,35,140,39,"nativeFrames"],[166,47,140,51],[167,6,141,8],[167,7,141,9],[167,13,142,13],[167,17,142,17,"_lastChildSpanEndFrames"],[167,40,142,40],[167,44,142,44,"isClose"],[167,51,142,51],[167,52,142,52,"_lastChildSpanEndFrames"],[167,75,142,75],[167,76,142,76,"timestamp"],[167,85,142,85],[167,87,142,87,"event"],[167,92,142,92],[167,93,142,93,"timestamp"],[167,102,142,102],[167,103,142,103],[167,105,142,105],[168,8,143,12],[169,8,144,12],[170,8,145,12,"debug"],[170,19,145,17],[170,20,145,17,"debug"],[170,25,145,17],[170,26,145,18,"log"],[170,29,145,21],[170,30,145,22],[170,34,145,26,"INTEGRATION_NAME"],[170,50,145,42],[170,109,145,101,"spanId"],[170,115,145,107],[170,119,145,111],[170,120,145,112],[171,8,146,12,"finalEndFrames"],[171,22,146,26],[171,25,146,29,"_lastChildSpanEndFrames"],[171,48,146,52],[171,49,146,53,"nativeFrames"],[171,61,146,65],[172,6,147,8],[172,7,147,9],[172,13,148,13],[173,8,149,12,"debug"],[173,19,149,17],[173,20,149,17,"debug"],[173,25,149,17],[173,26,149,18,"warn"],[173,30,149,22],[173,31,149,23],[173,35,149,27,"INTEGRATION_NAME"],[173,51,149,43],[173,131,149,123,"spanId"],[173,137,149,129],[173,173,149,165],[173,174,149,166],[174,8,150,12],[174,15,150,19,"event"],[174,20,150,24],[175,6,151,8],[176,6,152,8],[176,12,152,14,"measurements"],[176,24,152,26],[176,27,152,29],[177,8,153,12,"frames_total"],[177,20,153,24],[177,22,153,26],[178,10,154,16,"value"],[178,15,154,21],[178,17,154,23,"finalEndFrames"],[178,31,154,37],[178,32,154,38,"totalFrames"],[178,43,154,49],[178,46,154,52,"startFrames"],[178,57,154,63],[178,58,154,64,"totalFrames"],[178,69,154,75],[179,10,155,16,"unit"],[179,14,155,20],[179,16,155,22],[180,8,156,12],[180,9,156,13],[181,8,157,12,"frames_frozen"],[181,21,157,25],[181,23,157,27],[182,10,158,16,"value"],[182,15,158,21],[182,17,158,23,"finalEndFrames"],[182,31,158,37],[182,32,158,38,"frozenFrames"],[182,44,158,50],[182,47,158,53,"startFrames"],[182,58,158,64],[182,59,158,65,"frozenFrames"],[182,71,158,77],[183,10,159,16,"unit"],[183,14,159,20],[183,16,159,22],[184,8,160,12],[184,9,160,13],[185,8,161,12,"frames_slow"],[185,19,161,23],[185,21,161,25],[186,10,162,16,"value"],[186,15,162,21],[186,17,162,23,"finalEndFrames"],[186,31,162,37],[186,32,162,38,"slowFrames"],[186,42,162,48],[186,45,162,51,"startFrames"],[186,56,162,62],[186,57,162,63,"slowFrames"],[186,67,162,73],[187,10,163,16,"unit"],[187,14,163,20],[187,16,163,22],[188,8,164,12],[189,6,165,8],[189,7,165,9],[190,6,166,8],[190,10,166,12,"measurements"],[190,22,166,24],[190,23,166,25,"frames_frozen"],[190,36,166,38],[190,37,166,39,"value"],[190,42,166,44],[190,46,166,48],[190,47,166,49],[190,51,167,12,"measurements"],[190,63,167,24],[190,64,167,25,"frames_slow"],[190,75,167,36],[190,76,167,37,"value"],[190,81,167,42],[190,85,167,46],[190,86,167,47],[190,90,168,12,"measurements"],[190,102,168,24],[190,103,168,25,"frames_total"],[190,115,168,37],[190,116,168,38,"value"],[190,121,168,43],[190,125,168,47],[190,126,168,48],[190,128,168,50],[191,8,169,12,"debug"],[191,19,169,17],[191,20,169,17,"debug"],[191,25,169,17],[191,26,169,18,"warn"],[191,30,169,22],[191,31,169,23],[191,35,169,27,"INTEGRATION_NAME"],[191,51,169,43],[191,128,169,120,"spanId"],[191,134,169,126],[191,138,169,130],[191,139,169,131],[192,8,170,12],[192,15,170,19,"event"],[192,20,170,24],[193,6,171,8],[194,6,172,8,"debug"],[194,17,172,13],[194,18,172,13,"debug"],[194,23,172,13],[194,24,172,14,"log"],[194,27,172,17],[194,28,172,18],[194,32,172,22,"INTEGRATION_NAME"],[194,48,172,38],[194,76,172,66,"traceOp"],[194,83,172,73],[194,99,172,89,"event"],[194,104,172,94],[194,105,172,95,"transaction"],[194,116,172,106],[194,121,172,111,"JSON"],[194,125,172,115],[194,126,172,116,"stringify"],[194,135,172,125],[194,136,172,126,"measurements"],[194,148,172,138],[194,150,172,140,"undefined"],[194,159,172,149],[194,161,172,151],[194,162,172,152],[194,163,172,153],[194,165,172,155],[194,166,172,156],[195,6,173,8,"event"],[195,11,173,13],[195,12,173,14,"measurements"],[195,24,173,26],[195,27,173,29,"Object"],[195,33,173,35],[195,34,173,36,"assign"],[195,40,173,42],[195,41,173,43,"Object"],[195,47,173,49],[195,48,173,50,"assign"],[195,54,173,56],[195,55,173,57],[195,56,173,58],[195,57,173,59],[195,59,173,62],[195,60,173,63,"_a"],[195,62,173,65],[195,65,173,68,"event"],[195,70,173,73],[195,71,173,74,"measurements"],[195,83,173,86],[195,89,173,92],[195,93,173,96],[195,97,173,100,"_a"],[195,99,173,102],[195,104,173,107],[195,109,173,112],[195,110,173,113],[195,113,173,116,"_a"],[195,115,173,118],[195,118,173,121],[195,119,173,122],[195,120,173,124],[195,121,173,125],[195,123,173,127,"measurements"],[195,135,173,139],[195,136,173,140],[196,6,174,8],[196,13,174,15,"event"],[196,18,174,20],[197,4,175,4],[197,5,175,5],[197,6,175,6],[198,4,176,4],[198,11,176,11],[199,6,177,8,"name"],[199,10,177,12],[199,12,177,14,"INTEGRATION_NAME"],[199,28,177,30],[200,6,178,8,"setup"],[200,11,178,13],[201,6,179,8,"processEvent"],[202,4,180,4],[202,5,180,5],[203,2,181,0],[203,3,181,1],[204,2,182,0],[204,11,182,9,"fetchNativeFrames"],[204,28,182,26,"fetchNativeFrames"],[204,29,182,26],[204,31,182,29],[205,4,183,4],[205,11,183,11],[205,15,183,15,"Promise"],[205,22,183,22],[205,23,183,23],[205,24,183,24,"resolve"],[205,31,183,31],[205,33,183,33,"reject"],[205,39,183,39],[205,44,183,44],[206,6,184,8,"NATIVE"],[206,14,184,14],[206,15,184,14,"NATIVE"],[206,21,184,14],[206,22,184,15,"fetchNativeFrames"],[206,39,184,32],[206,40,184,33],[206,41,184,34],[206,42,185,13,"then"],[206,46,185,17],[206,47,185,18,"value"],[206,52,185,23],[206,56,185,27],[207,8,186,12],[207,12,186,16],[207,13,186,17,"value"],[207,18,186,22],[207,20,186,24],[208,10,187,16,"reject"],[208,16,187,22],[208,17,187,23],[208,50,187,56],[208,51,187,57],[209,10,188,16],[210,8,189,12],[211,8,190,12,"resolve"],[211,15,190,19],[211,16,190,20,"value"],[211,21,190,25],[211,22,190,26],[212,6,191,8],[212,7,191,9],[212,8,191,10],[212,9,192,13,"then"],[212,13,192,17],[212,14,192,18,"undefined"],[212,23,192,27],[212,25,192,29,"error"],[212,30,192,34],[212,34,192,38],[213,8,193,12,"reject"],[213,14,193,18],[213,15,193,19,"error"],[213,20,193,24],[213,21,193,25],[214,6,194,8],[214,7,194,9],[214,8,194,10],[215,6,195,8,"setTimeout"],[215,16,195,18],[215,17,195,19],[215,23,195,25],[216,8,196,12,"reject"],[216,14,196,18],[216,15,196,19],[216,71,196,75],[216,72,196,76],[217,6,197,8],[217,7,197,9],[217,9,197,11,"FETCH_FRAMES_TIMEOUT_MS"],[217,32,197,34],[217,33,197,35],[218,4,198,4],[218,5,198,5],[218,6,198,6],[219,2,199,0],[220,2,200,0],[220,11,200,9,"isClose"],[220,18,200,16,"isClose"],[220,19,200,17,"t1"],[220,21,200,19],[220,23,200,21,"t2"],[220,25,200,23],[220,27,200,25],[221,4,201,4],[221,11,201,11,"Math"],[221,15,201,15],[221,16,201,16,"abs"],[221,19,201,19],[221,20,201,20,"t1"],[221,22,201,22],[221,25,201,25,"t2"],[221,27,201,27],[221,28,201,28],[221,31,201,31,"MARGIN_OF_ERROR_SECONDS"],[221,54,201,54],[222,2,202,0],[223,0,202,1],[223,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","createNativeFramesIntegrations","nativeFramesIntegration","setup","fetchStartFramesForSpan","Promise$argument_0","fetchNativeFrames.then$argument_0","fetchNativeFrames.then.then$argument_1","fetchEndFramesForSpan","fetchNativeFrames.then._catch$argument_0","processEvent","__awaiter$argument_3","fetchNativeFrames","NATIVE.fetchNativeFrames.then$argument_0","NATIVE.fetchNativeFrames.then.then$argument_1","setTimeout$argument_0","isClose"],"mappings":"AAA,4CC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;8CO2B;CPO;uCQI;kBCU;KDQ;oCEC;8DCM;sBCE,yBD;iCEC;aFG;SDC;KFC;kCMC;gEHU;0BCE;iBDK;qCEC;iBFG;aGC;sBFM;aEK;uBCC,sFD;KNE;yBQC,6CC;KDyD,CR;CRM;AkBC;uBPC;kBQE;SRM;6BSC;STE;mBUC;SVE;KOC;ClBC;AsBC;CtBE"},"hasCjsExports":false},"type":"js/module"}]}