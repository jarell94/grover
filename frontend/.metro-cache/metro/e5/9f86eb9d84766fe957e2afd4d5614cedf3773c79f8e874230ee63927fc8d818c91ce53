{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":136,"index":136}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"],"imports":1}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":137},"end":{"line":2,"column":128,"index":265}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"tanstackRouterBrowserTracingIntegration\", {\n    enumerable: true,\n    get: function () {\n      return tanstackRouterBrowserTracingIntegration;\n    }\n  });\n  var _sentryBrowser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _sentryCore = require(_dependencyMap[1], \"@sentry/core\");\n  /**\n   * A custom browser tracing integration for TanStack Router.\n   *\n   * The minimum compatible version of `@tanstack/react-router` is `1.64.0`.\n   *\n   * @param router A TanStack Router `Router` instance that should be used for routing instrumentation.\n   * @param options Sentry browser tracing configuration.\n   */\n  function tanstackRouterBrowserTracingIntegration(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  router,\n  // This is `any` because we don't want any type mismatches if TanStack Router changes their types\n  options = {}) {\n    const castRouterInstance = router;\n    const browserTracingIntegrationInstance = (0, _sentryBrowser.browserTracingIntegration)(Object.assign({}, options, {\n      instrumentNavigation: false,\n      instrumentPageLoad: false\n    }));\n    const {\n      instrumentPageLoad = true,\n      instrumentNavigation = true\n    } = options;\n    return Object.assign({}, browserTracingIntegrationInstance, {\n      afterAllSetup(client) {\n        browserTracingIntegrationInstance.afterAllSetup(client);\n        const initialWindowLocation = _sentryBrowser.WINDOW.location;\n        if (instrumentPageLoad && initialWindowLocation) {\n          const matchedRoutes = castRouterInstance.matchRoutes(initialWindowLocation.pathname, castRouterInstance.options.parseSearch(initialWindowLocation.search), {\n            preload: false,\n            throwOnError: false\n          });\n          const lastMatch = matchedRoutes[matchedRoutes.length - 1];\n          (0, _sentryBrowser.startBrowserTracingPageLoadSpan)(client, {\n            name: lastMatch ? lastMatch.routeId : initialWindowLocation.pathname,\n            attributes: Object.assign({\n              [_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'pageload',\n              [_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.pageload.react.tanstack_router',\n              [_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: lastMatch ? 'route' : 'url'\n            }, routeMatchToParamSpanAttributes(lastMatch))\n          });\n        }\n        if (instrumentNavigation) {\n          // The onBeforeNavigate hook is called at the very beginning of a navigation and is only called once per navigation, even when the user is redirected\n          castRouterInstance.subscribe('onBeforeNavigate', onBeforeNavigateArgs => {\n            // onBeforeNavigate is called during pageloads. We can avoid creating navigation spans by comparing the states of the to and from arguments.\n            if (onBeforeNavigateArgs.toLocation.state === onBeforeNavigateArgs.fromLocation?.state) {\n              return;\n            }\n            const onResolvedMatchedRoutes = castRouterInstance.matchRoutes(onBeforeNavigateArgs.toLocation.pathname, onBeforeNavigateArgs.toLocation.search, {\n              preload: false,\n              throwOnError: false\n            });\n            const onBeforeNavigateLastMatch = onResolvedMatchedRoutes[onResolvedMatchedRoutes.length - 1];\n            const navigationLocation = _sentryBrowser.WINDOW.location;\n            const navigationSpan = (0, _sentryBrowser.startBrowserTracingNavigationSpan)(client, {\n              name: onBeforeNavigateLastMatch ? onBeforeNavigateLastMatch.routeId : navigationLocation.pathname,\n              attributes: {\n                [_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'navigation',\n                [_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.navigation.react.tanstack_router',\n                [_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: onBeforeNavigateLastMatch ? 'route' : 'url'\n              }\n            });\n\n            // In case the user is redirected during navigation we want to update the span with the right value.\n            const unsubscribeOnResolved = castRouterInstance.subscribe('onResolved', onResolvedArgs => {\n              unsubscribeOnResolved();\n              if (navigationSpan) {\n                const onResolvedMatchedRoutes = castRouterInstance.matchRoutes(onResolvedArgs.toLocation.pathname, onResolvedArgs.toLocation.search, {\n                  preload: false,\n                  throwOnError: false\n                });\n                const onResolvedLastMatch = onResolvedMatchedRoutes[onResolvedMatchedRoutes.length - 1];\n                if (onResolvedLastMatch) {\n                  navigationSpan.updateName(onResolvedLastMatch.routeId);\n                  navigationSpan.setAttribute(_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE, 'route');\n                  navigationSpan.setAttributes(routeMatchToParamSpanAttributes(onResolvedLastMatch));\n                }\n              }\n            });\n          });\n        }\n      }\n    });\n  }\n  function routeMatchToParamSpanAttributes(match) {\n    if (!match) {\n      return {};\n    }\n    const paramAttributes = {};\n    Object.entries(match.params).forEach(([key, value]) => {\n      paramAttributes[`url.path.params.${key}`] = value; // TODO(v11): remove attribute which does not adhere to Sentry's semantic convention\n      paramAttributes[`url.path.parameter.${key}`] = value;\n      paramAttributes[`params.${key}`] = value; // params.[key] is an alias\n    });\n    return paramAttributes;\n  }\n});","lineCount":111,"map":[[7,2,119,0,"Object"],[7,8,119,0],[7,9,119,0,"defineProperty"],[7,23,119,0],[7,24,119,0,"exports"],[7,31,119,0],[8,4,119,0,"enumerable"],[8,14,119,0],[9,4,119,0,"get"],[9,7,119,0],[9,18,119,0,"get"],[9,19,119,0],[10,6,119,0],[10,13,119,9,"tanstackRouterBrowserTracingIntegration"],[10,52,119,48],[11,4,119,48],[12,2,119,48],[13,2,1,0],[13,6,1,0,"_sentryBrowser"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_sentryCore"],[14,17,2,0],[14,20,2,0,"require"],[14,27,2,0],[14,28,2,0,"_dependencyMap"],[14,42,2,0],[15,2,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,2,12,0],[23,11,12,9,"tanstackRouterBrowserTracingIntegration"],[23,50,12,48,"tanstackRouterBrowserTracingIntegration"],[24,2,13,2],[25,2,14,2,"router"],[25,8,14,8],[26,2,14,10],[27,2,15,2,"options"],[27,9,15,9],[27,12,15,12],[27,13,15,13],[27,14,15,14],[27,16,16,2],[28,4,17,2],[28,10,17,8,"castRouterInstance"],[28,28,17,26],[28,31,17,29,"router"],[28,37,17,35],[29,4,19,2],[29,10,19,8,"browserTracingIntegrationInstance"],[29,43,19,41],[29,46,19,44],[29,50,19,44,"browserTracingIntegration"],[29,64,19,69],[29,65,19,69,"browserTracingIntegration"],[29,90,19,69],[29,92,19,69,"Object"],[29,98,19,69],[29,99,19,69,"assign"],[29,105,19,69],[29,110,20,7,"options"],[29,117,20,14],[30,6,21,4,"instrumentNavigation"],[30,26,21,24],[30,28,21,26],[30,33,21,31],[31,6,22,4,"instrumentPageLoad"],[31,24,22,22],[31,26,22,24],[32,4,22,29],[32,6,23,3],[32,7,23,4],[33,4,25,2],[33,10,25,8],[34,6,25,10,"instrumentPageLoad"],[34,24,25,28],[34,27,25,31],[34,31,25,35],[35,6,25,37,"instrumentNavigation"],[35,26,25,57],[35,29,25,60],[36,4,25,65],[36,5,25,66],[36,8,25,69,"options"],[36,15,25,76],[37,4,27,2],[37,11,27,2,"Object"],[37,17,27,2],[37,18,27,2,"assign"],[37,24,27,2],[37,29,28,7,"browserTracingIntegrationInstance"],[37,62,28,40],[38,6,29,4,"afterAllSetup"],[38,19,29,17,"afterAllSetup"],[38,20,29,18,"client"],[38,26,29,24],[38,28,29,26],[39,8,30,6,"browserTracingIntegrationInstance"],[39,41,30,39],[39,42,30,40,"afterAllSetup"],[39,55,30,53],[39,56,30,54,"client"],[39,62,30,60],[39,63,30,61],[40,8,32,6],[40,14,32,12,"initialWindowLocation"],[40,35,32,33],[40,38,32,36,"WINDOW"],[40,52,32,42],[40,53,32,42,"WINDOW"],[40,59,32,42],[40,60,32,43,"location"],[40,68,32,51],[41,8,33,6],[41,12,33,10,"instrumentPageLoad"],[41,30,33,28],[41,34,33,32,"initialWindowLocation"],[41,55,33,53],[41,57,33,55],[42,10,34,8],[42,16,34,14,"matchedRoutes"],[42,29,34,27],[42,32,34,30,"castRouterInstance"],[42,50,34,48],[42,51,34,49,"matchRoutes"],[42,62,34,60],[42,63,35,10,"initialWindowLocation"],[42,84,35,31],[42,85,35,32,"pathname"],[42,93,35,40],[42,95,36,10,"castRouterInstance"],[42,113,36,28],[42,114,36,29,"options"],[42,121,36,36],[42,122,36,37,"parseSearch"],[42,133,36,48],[42,134,36,49,"initialWindowLocation"],[42,155,36,70],[42,156,36,71,"search"],[42,162,36,77],[42,163,36,78],[42,165,37,10],[43,12,37,12,"preload"],[43,19,37,19],[43,21,37,21],[43,26,37,26],[44,12,37,28,"throwOnError"],[44,24,37,40],[44,26,37,42],[45,10,37,48],[45,11,38,8],[45,12,38,9],[46,10,40,8],[46,16,40,14,"lastMatch"],[46,25,40,23],[46,28,40,26,"matchedRoutes"],[46,41,40,39],[46,42,40,40,"matchedRoutes"],[46,55,40,53],[46,56,40,54,"length"],[46,62,40,60],[46,65,40,63],[46,66,40,64],[46,67,40,65],[47,10,42,8],[47,14,42,8,"startBrowserTracingPageLoadSpan"],[47,28,42,39],[47,29,42,39,"startBrowserTracingPageLoadSpan"],[47,60,42,39],[47,62,42,40,"client"],[47,68,42,46],[47,70,42,48],[48,12,43,10,"name"],[48,16,43,14],[48,18,43,16,"lastMatch"],[48,27,43,25],[48,30,43,28,"lastMatch"],[48,39,43,37],[48,40,43,38,"routeId"],[48,47,43,45],[48,50,43,48,"initialWindowLocation"],[48,71,43,69],[48,72,43,70,"pathname"],[48,80,43,78],[49,12,44,10,"attributes"],[49,22,44,20],[49,24,44,20,"Object"],[49,30,44,20],[49,31,44,20,"assign"],[49,37,44,20],[50,14,45,12],[50,15,45,13,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[50,26,45,41],[50,27,45,41,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[50,55,45,41],[50,58,45,44],[50,68,45,54],[51,14,46,12],[51,15,46,13,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[51,26,46,45],[51,27,46,45,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[51,59,46,45],[51,62,46,48],[51,99,46,85],[52,14,47,12],[52,15,47,13,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE"],[52,26,47,45],[52,27,47,45,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE"],[52,59,47,45],[52,62,47,48,"lastMatch"],[52,71,47,57],[52,74,47,60],[52,81,47,67],[52,84,47,70],[53,12,47,75],[53,15,48,15,"routeMatchToParamSpanAttributes"],[53,46,48,46],[53,47,48,47,"lastMatch"],[53,56,48,56],[53,57,48,57],[54,10,50,8],[54,11,50,9],[54,12,50,10],[55,8,51,6],[56,8,53,6],[56,12,53,10,"instrumentNavigation"],[56,32,53,30],[56,34,53,32],[57,10,54,8],[58,10,55,8,"castRouterInstance"],[58,28,55,26],[58,29,55,27,"subscribe"],[58,38,55,36],[58,39,55,37],[58,57,55,55],[58,59,55,57,"onBeforeNavigateArgs"],[58,79,55,77],[58,83,55,81],[59,12,56,10],[60,12,57,10],[60,16,57,14,"onBeforeNavigateArgs"],[60,36,57,34],[60,37,57,35,"toLocation"],[60,47,57,45],[60,48,57,46,"state"],[60,53,57,51],[60,58,57,56,"onBeforeNavigateArgs"],[60,78,57,76],[60,79,57,77,"fromLocation"],[60,91,57,89],[60,93,57,91,"state"],[60,98,57,96],[60,100,57,98],[61,14,58,12],[62,12,59,10],[63,12,61,10],[63,18,61,16,"onResolvedMatchedRoutes"],[63,41,61,39],[63,44,61,42,"castRouterInstance"],[63,62,61,60],[63,63,61,61,"matchRoutes"],[63,74,61,72],[63,75,62,12,"onBeforeNavigateArgs"],[63,95,62,32],[63,96,62,33,"toLocation"],[63,106,62,43],[63,107,62,44,"pathname"],[63,115,62,52],[63,117,63,12,"onBeforeNavigateArgs"],[63,137,63,32],[63,138,63,33,"toLocation"],[63,148,63,43],[63,149,63,44,"search"],[63,155,63,50],[63,157,64,12],[64,14,64,14,"preload"],[64,21,64,21],[64,23,64,23],[64,28,64,28],[65,14,64,30,"throwOnError"],[65,26,64,42],[65,28,64,44],[66,12,64,50],[66,13,65,10],[66,14,65,11],[67,12,67,10],[67,18,67,16,"onBeforeNavigateLastMatch"],[67,43,67,41],[67,46,67,44,"onResolvedMatchedRoutes"],[67,69,67,67],[67,70,67,68,"onResolvedMatchedRoutes"],[67,93,67,91],[67,94,67,92,"length"],[67,100,67,98],[67,103,67,101],[67,104,67,102],[67,105,67,103],[68,12,69,10],[68,18,69,16,"navigationLocation"],[68,36,69,34],[68,39,69,37,"WINDOW"],[68,53,69,43],[68,54,69,43,"WINDOW"],[68,60,69,43],[68,61,69,44,"location"],[68,69,69,52],[69,12,70,10],[69,18,70,16,"navigationSpan"],[69,32,70,30],[69,35,70,33],[69,39,70,33,"startBrowserTracingNavigationSpan"],[69,53,70,66],[69,54,70,66,"startBrowserTracingNavigationSpan"],[69,87,70,66],[69,89,70,67,"client"],[69,95,70,73],[69,97,70,75],[70,14,71,12,"name"],[70,18,71,16],[70,20,71,18,"onBeforeNavigateLastMatch"],[70,45,71,43],[70,48,71,46,"onBeforeNavigateLastMatch"],[70,73,71,71],[70,74,71,72,"routeId"],[70,81,71,79],[70,84,71,82,"navigationLocation"],[70,102,71,100],[70,103,71,101,"pathname"],[70,111,71,109],[71,14,72,12,"attributes"],[71,24,72,22],[71,26,72,24],[72,16,73,14],[72,17,73,15,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[72,28,73,43],[72,29,73,43,"SEMANTIC_ATTRIBUTE_SENTRY_OP"],[72,57,73,43],[72,60,73,46],[72,72,73,58],[73,16,74,14],[73,17,74,15,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[73,28,74,47],[73,29,74,47,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[73,61,74,47],[73,64,74,50],[73,103,74,89],[74,16,75,14],[74,17,75,15,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE"],[74,28,75,47],[74,29,75,47,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE"],[74,61,75,47],[74,64,75,50,"onBeforeNavigateLastMatch"],[74,89,75,75],[74,92,75,78],[74,99,75,85],[74,102,75,88],[75,14,76,12],[76,12,77,10],[76,13,77,11],[76,14,77,12],[78,12,79,10],[79,12,80,10],[79,18,80,16,"unsubscribeOnResolved"],[79,39,80,37],[79,42,80,40,"castRouterInstance"],[79,60,80,58],[79,61,80,59,"subscribe"],[79,70,80,68],[79,71,80,69],[79,83,80,81],[79,85,80,83,"onResolvedArgs"],[79,99,80,97],[79,103,80,101],[80,14,81,12,"unsubscribeOnResolved"],[80,35,81,33],[80,36,81,34],[80,37,81,35],[81,14,82,12],[81,18,82,16,"navigationSpan"],[81,32,82,30],[81,34,82,32],[82,16,83,14],[82,22,83,20,"onResolvedMatchedRoutes"],[82,45,83,43],[82,48,83,46,"castRouterInstance"],[82,66,83,64],[82,67,83,65,"matchRoutes"],[82,78,83,76],[82,79,84,16,"onResolvedArgs"],[82,93,84,30],[82,94,84,31,"toLocation"],[82,104,84,41],[82,105,84,42,"pathname"],[82,113,84,50],[82,115,85,16,"onResolvedArgs"],[82,129,85,30],[82,130,85,31,"toLocation"],[82,140,85,41],[82,141,85,42,"search"],[82,147,85,48],[82,149,86,16],[83,18,86,18,"preload"],[83,25,86,25],[83,27,86,27],[83,32,86,32],[84,18,86,34,"throwOnError"],[84,30,86,46],[84,32,86,48],[85,16,86,54],[85,17,87,14],[85,18,87,15],[86,16,89,14],[86,22,89,20,"onResolvedLastMatch"],[86,41,89,39],[86,44,89,42,"onResolvedMatchedRoutes"],[86,67,89,65],[86,68,89,66,"onResolvedMatchedRoutes"],[86,91,89,89],[86,92,89,90,"length"],[86,98,89,96],[86,101,89,99],[86,102,89,100],[86,103,89,101],[87,16,91,14],[87,20,91,18,"onResolvedLastMatch"],[87,39,91,37],[87,41,91,39],[88,18,92,16,"navigationSpan"],[88,32,92,30],[88,33,92,31,"updateName"],[88,43,92,41],[88,44,92,42,"onResolvedLastMatch"],[88,63,92,61],[88,64,92,62,"routeId"],[88,71,92,69],[88,72,92,70],[89,18,93,16,"navigationSpan"],[89,32,93,30],[89,33,93,31,"setAttribute"],[89,45,93,43],[89,46,93,44,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE"],[89,57,93,76],[89,58,93,76,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE"],[89,90,93,76],[89,92,93,78],[89,99,93,85],[89,100,93,86],[90,18,94,16,"navigationSpan"],[90,32,94,30],[90,33,94,31,"setAttributes"],[90,46,94,44],[90,47,94,45,"routeMatchToParamSpanAttributes"],[90,78,94,76],[90,79,94,77,"onResolvedLastMatch"],[90,98,94,96],[90,99,94,97],[90,100,94,98],[91,16,95,14],[92,14,96,12],[93,12,97,10],[93,13,97,11],[93,14,97,12],[94,10,98,8],[94,11,98,9],[94,12,98,10],[95,8,99,6],[96,6,100,4],[97,4,100,5],[98,2,102,0],[99,2,104,0],[99,11,104,9,"routeMatchToParamSpanAttributes"],[99,42,104,40,"routeMatchToParamSpanAttributes"],[99,43,104,41,"match"],[99,48,104,46],[99,50,104,48],[100,4,105,2],[100,8,105,6],[100,9,105,7,"match"],[100,14,105,12],[100,16,105,14],[101,6,106,4],[101,13,106,11],[101,14,106,12],[101,15,106,13],[102,4,107,2],[103,4,109,2],[103,10,109,8,"paramAttributes"],[103,25,109,23],[103,28,109,26],[103,29,109,27],[103,30,109,28],[104,4,110,2,"Object"],[104,10,110,8],[104,11,110,9,"entries"],[104,18,110,16],[104,19,110,17,"match"],[104,24,110,22],[104,25,110,23,"params"],[104,31,110,29],[104,32,110,30],[104,33,110,31,"forEach"],[104,40,110,38],[104,41,110,39],[104,42,110,40],[104,43,110,41,"key"],[104,46,110,44],[104,48,110,46,"value"],[104,53,110,51],[104,54,110,52],[104,59,110,57],[105,6,111,4,"paramAttributes"],[105,21,111,19],[105,22,111,20],[105,41,111,39,"key"],[105,44,111,42],[105,46,111,44],[105,47,111,45],[105,50,111,48,"value"],[105,55,111,53],[105,56,111,54],[105,57,111,55],[106,6,112,4,"paramAttributes"],[106,21,112,19],[106,22,112,20],[106,44,112,42,"key"],[106,47,112,45],[106,49,112,47],[106,50,112,48],[106,53,112,51,"value"],[106,58,112,56],[107,6,113,4,"paramAttributes"],[107,21,113,19],[107,22,113,20],[107,32,113,30,"key"],[107,35,113,33],[107,37,113,35],[107,38,113,36],[107,41,113,39,"value"],[107,46,113,44],[107,47,113,45],[107,48,113,46],[108,4,114,2],[108,5,114,3],[108,6,114,4],[109,4,116,2],[109,11,116,9,"paramAttributes"],[109,26,116,24],[110,2,117,0],[111,0,117,1],[111,3]],"functionMap":{"names":["<global>","tanstackRouterBrowserTracingIntegration","afterAllSetup","castRouterInstance.subscribe$argument_1","routeMatchToParamSpanAttributes","Object.entries.forEach$argument_0"],"mappings":"AAA;ACW;ICiB;yDC0B;SD2C;KDE;CDE;AIE;uCCM;GDI;CJG"},"hasCjsExports":false},"type":"js/module"}]}