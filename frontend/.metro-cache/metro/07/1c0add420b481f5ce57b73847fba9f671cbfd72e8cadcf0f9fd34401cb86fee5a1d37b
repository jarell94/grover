{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":124,"index":124}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"./eventbuilder.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":125},"end":{"line":2,"column":73,"index":198}}],"key":"t3IpHLDvBcoJYLPPokYBcSY8CXw=","exportNames":["*"],"imports":1}},{"name":"./helpers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":199},"end":{"line":3,"column":38,"index":237}}],"key":"Y7YGoIAOGQa78JTLfazw+ehPeHs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"BrowserClient\", {\n    enumerable: true,\n    get: function () {\n      return BrowserClient;\n    }\n  });\n  Object.defineProperty(exports, \"applyDefaultOptions\", {\n    enumerable: true,\n    get: function () {\n      return applyDefaultOptions;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _eventbuilderJs = require(_dependencyMap[1], \"./eventbuilder.js\");\n  var _helpersJs = require(_dependencyMap[2], \"./helpers.js\");\n  /**\n   * A magic string that build tooling can leverage in order to inject a release value into the SDK.\n   */\n\n  const DEFAULT_FLUSH_INTERVAL = 5000;\n\n  /**\n   * The Sentry Browser SDK Client.\n   *\n   * @see BrowserOptions for documentation on configuration options.\n   * @see SentryClient for usage documentation.\n   */\n  class BrowserClient extends _sentryCore.Client {\n    /**\n     * Creates a new Browser SDK instance.\n     *\n     * @param options Configuration options for this SDK.\n     */\n    constructor(options) {\n      const opts = applyDefaultOptions(options);\n      const sdkSource = _helpersJs.WINDOW.SENTRY_SDK_SOURCE || (0, _sentryCore.getSDKSource)();\n      (0, _sentryCore.applySdkMetadata)(opts, 'browser', ['browser'], sdkSource);\n\n      // Only allow IP inferral by Relay if sendDefaultPii is true\n      if (opts._metadata?.sdk) {\n        opts._metadata.sdk.settings = {\n          infer_ip: opts.sendDefaultPii ? 'auto' : 'never',\n          // purposefully allowing already passed settings to override the default\n          ...opts._metadata.sdk.settings\n        };\n      }\n      super(opts);\n      const {\n        sendDefaultPii,\n        sendClientReports,\n        enableLogs\n      } = this._options;\n      if (_helpersJs.WINDOW.document && (sendClientReports || enableLogs)) {\n        _helpersJs.WINDOW.document.addEventListener('visibilitychange', () => {\n          if (_helpersJs.WINDOW.document.visibilityState === 'hidden') {\n            if (sendClientReports) {\n              this._flushOutcomes();\n            }\n            if (enableLogs) {\n              (0, _sentryCore._INTERNAL_flushLogsBuffer)(this);\n            }\n          }\n        });\n      }\n      if (enableLogs) {\n        this.on('flush', () => {\n          (0, _sentryCore._INTERNAL_flushLogsBuffer)(this);\n        });\n        this.on('afterCaptureLog', () => {\n          if (this._logFlushIdleTimeout) {\n            clearTimeout(this._logFlushIdleTimeout);\n          }\n          this._logFlushIdleTimeout = setTimeout(() => {\n            (0, _sentryCore._INTERNAL_flushLogsBuffer)(this);\n          }, DEFAULT_FLUSH_INTERVAL);\n        });\n      }\n      if (sendDefaultPii) {\n        this.on('beforeSendSession', _sentryCore.addAutoIpAddressToSession);\n      }\n    }\n\n    /**\n     * @inheritDoc\n     */\n    eventFromException(exception, hint) {\n      return (0, _eventbuilderJs.eventFromException)(this._options.stackParser, exception, hint, this._options.attachStacktrace);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    eventFromMessage(message, level = 'info', hint) {\n      return (0, _eventbuilderJs.eventFromMessage)(this._options.stackParser, message, level, hint, this._options.attachStacktrace);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    _prepareEvent(event, hint, currentScope, isolationScope) {\n      event.platform = event.platform || 'javascript';\n      return super._prepareEvent(event, hint, currentScope, isolationScope);\n    }\n  }\n\n  /** Exported only for tests. */\n  function applyDefaultOptions(optionsArg) {\n    return {\n      release: typeof __SENTRY_RELEASE__ === 'string' // This allows build tooling to find-and-replace __SENTRY_RELEASE__ to inject a release value\n      ? __SENTRY_RELEASE__ : _helpersJs.WINDOW.SENTRY_RELEASE?.id,\n      // This supports the variable that sentry-webpack-plugin injects\n      sendClientReports: true,\n      // We default this to true, as it is the safer scenario\n      parentSpanIsAlwaysRootSpan: true,\n      ...optionsArg\n    };\n  }\n});","lineCount":124,"map":[[7,2,123,0,"Object"],[7,8,123,0],[7,9,123,0,"defineProperty"],[7,23,123,0],[7,24,123,0,"exports"],[7,31,123,0],[8,4,123,0,"enumerable"],[8,14,123,0],[9,4,123,0,"get"],[9,7,123,0],[9,18,123,0,"get"],[9,19,123,0],[10,6,123,0],[10,13,123,9,"BrowserClient"],[10,26,123,22],[11,4,123,22],[12,2,123,22],[13,2,123,0,"Object"],[13,8,123,0],[13,9,123,0,"defineProperty"],[13,23,123,0],[13,24,123,0,"exports"],[13,31,123,0],[14,4,123,0,"enumerable"],[14,14,123,0],[15,4,123,0,"get"],[15,7,123,0],[15,18,123,0,"get"],[15,19,123,0],[16,6,123,0],[16,13,123,24,"applyDefaultOptions"],[16,32,123,43],[17,4,123,43],[18,2,123,43],[19,2,1,0],[19,6,1,0,"_sentryCore"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,2,0],[20,6,2,0,"_eventbuilderJs"],[20,21,2,0],[20,24,2,0,"require"],[20,31,2,0],[20,32,2,0,"_dependencyMap"],[20,46,2,0],[21,2,3,0],[21,6,3,0,"_helpersJs"],[21,16,3,0],[21,19,3,0,"require"],[21,26,3,0],[21,27,3,0,"_dependencyMap"],[21,41,3,0],[22,2,5,0],[23,0,6,0],[24,0,7,0],[26,2,9,0],[26,8,9,6,"DEFAULT_FLUSH_INTERVAL"],[26,30,9,28],[26,33,9,31],[26,37,9,35],[28,2,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,2,17,0],[34,8,17,6,"BrowserClient"],[34,21,17,19],[34,30,17,28,"Client"],[34,41,17,34],[34,42,17,34,"Client"],[34,48,17,34],[34,49,17,35],[35,4,19,2],[36,0,20,0],[37,0,21,0],[38,0,22,0],[39,0,23,0],[40,4,24,3,"constructor"],[40,15,24,14,"constructor"],[40,16,24,15,"options"],[40,23,24,22],[40,25,24,24],[41,6,25,4],[41,12,25,10,"opts"],[41,16,25,14],[41,19,25,17,"applyDefaultOptions"],[41,38,25,36],[41,39,25,37,"options"],[41,46,25,44],[41,47,25,45],[42,6,26,4],[42,12,26,10,"sdkSource"],[42,21,26,19],[42,24,26,22,"WINDOW"],[42,34,26,28],[42,35,26,28,"WINDOW"],[42,41,26,28],[42,42,26,29,"SENTRY_SDK_SOURCE"],[42,59,26,46],[42,63,26,50],[42,67,26,50,"getSDKSource"],[42,78,26,62],[42,79,26,62,"getSDKSource"],[42,91,26,62],[42,93,26,63],[42,94,26,64],[43,6,27,4],[43,10,27,4,"applySdkMetadata"],[43,21,27,20],[43,22,27,20,"applySdkMetadata"],[43,38,27,20],[43,40,27,21,"opts"],[43,44,27,25],[43,46,27,27],[43,55,27,36],[43,57,27,38],[43,58,27,39],[43,67,27,48],[43,68,27,49],[43,70,27,51,"sdkSource"],[43,79,27,60],[43,80,27,61],[45,6,29,4],[46,6,30,4],[46,10,30,8,"opts"],[46,14,30,12],[46,15,30,13,"_metadata"],[46,24,30,22],[46,26,30,24,"sdk"],[46,29,30,27],[46,31,30,29],[47,8,31,6,"opts"],[47,12,31,10],[47,13,31,11,"_metadata"],[47,22,31,20],[47,23,31,21,"sdk"],[47,26,31,24],[47,27,31,25,"settings"],[47,35,31,33],[47,38,31,36],[48,10,32,8,"infer_ip"],[48,18,32,16],[48,20,32,18,"opts"],[48,24,32,22],[48,25,32,23,"sendDefaultPii"],[48,39,32,37],[48,42,32,40],[48,48,32,46],[48,51,32,49],[48,58,32,56],[49,10,33,8],[50,10,34,8],[50,13,34,11,"opts"],[50,17,34,15],[50,18,34,16,"_metadata"],[50,27,34,25],[50,28,34,26,"sdk"],[50,31,34,29],[50,32,34,30,"settings"],[51,8,35,6],[51,9,35,7],[52,6,36,4],[53,6,38,4],[53,11,38,9],[53,12,38,10,"opts"],[53,16,38,14],[53,17,38,15],[54,6,40,4],[54,12,40,10],[55,8,40,12,"sendDefaultPii"],[55,22,40,26],[56,8,40,28,"sendClientReports"],[56,25,40,45],[57,8,40,47,"enableLogs"],[58,6,40,58],[58,7,40,59],[58,10,40,62],[58,14,40,66],[58,15,40,67,"_options"],[58,23,40,75],[59,6,42,4],[59,10,42,8,"WINDOW"],[59,20,42,14],[59,21,42,14,"WINDOW"],[59,27,42,14],[59,28,42,15,"document"],[59,36,42,23],[59,41,42,28,"sendClientReports"],[59,58,42,45],[59,62,42,49,"enableLogs"],[59,72,42,59],[59,73,42,60],[59,75,42,62],[60,8,43,6,"WINDOW"],[60,18,43,12],[60,19,43,12,"WINDOW"],[60,25,43,12],[60,26,43,13,"document"],[60,34,43,21],[60,35,43,22,"addEventListener"],[60,51,43,38],[60,52,43,39],[60,70,43,57],[60,72,43,59],[60,78,43,65],[61,10,44,8],[61,14,44,12,"WINDOW"],[61,24,44,18],[61,25,44,18,"WINDOW"],[61,31,44,18],[61,32,44,19,"document"],[61,40,44,27],[61,41,44,28,"visibilityState"],[61,56,44,43],[61,61,44,48],[61,69,44,56],[61,71,44,58],[62,12,45,10],[62,16,45,14,"sendClientReports"],[62,33,45,31],[62,35,45,33],[63,14,46,12],[63,18,46,16],[63,19,46,17,"_flushOutcomes"],[63,33,46,31],[63,34,46,32],[63,35,46,33],[64,12,47,10],[65,12,48,10],[65,16,48,14,"enableLogs"],[65,26,48,24],[65,28,48,26],[66,14,49,12],[66,18,49,12,"_INTERNAL_flushLogsBuffer"],[66,29,49,37],[66,30,49,37,"_INTERNAL_flushLogsBuffer"],[66,55,49,37],[66,57,49,38],[66,61,49,42],[66,62,49,43],[67,12,50,10],[68,10,51,8],[69,8,52,6],[69,9,52,7],[69,10,52,8],[70,6,53,4],[71,6,55,4],[71,10,55,8,"enableLogs"],[71,20,55,18],[71,22,55,20],[72,8,56,6],[72,12,56,10],[72,13,56,11,"on"],[72,15,56,13],[72,16,56,14],[72,23,56,21],[72,25,56,23],[72,31,56,29],[73,10,57,8],[73,14,57,8,"_INTERNAL_flushLogsBuffer"],[73,25,57,33],[73,26,57,33,"_INTERNAL_flushLogsBuffer"],[73,51,57,33],[73,53,57,34],[73,57,57,38],[73,58,57,39],[74,8,58,6],[74,9,58,7],[74,10,58,8],[75,8,60,6],[75,12,60,10],[75,13,60,11,"on"],[75,15,60,13],[75,16,60,14],[75,33,60,31],[75,35,60,33],[75,41,60,39],[76,10,61,8],[76,14,61,12],[76,18,61,16],[76,19,61,17,"_logFlushIdleTimeout"],[76,39,61,37],[76,41,61,39],[77,12,62,10,"clearTimeout"],[77,24,62,22],[77,25,62,23],[77,29,62,27],[77,30,62,28,"_logFlushIdleTimeout"],[77,50,62,48],[77,51,62,49],[78,10,63,8],[79,10,65,8],[79,14,65,12],[79,15,65,13,"_logFlushIdleTimeout"],[79,35,65,33],[79,38,65,36,"setTimeout"],[79,48,65,46],[79,49,65,47],[79,55,65,53],[80,12,66,10],[80,16,66,10,"_INTERNAL_flushLogsBuffer"],[80,27,66,35],[80,28,66,35,"_INTERNAL_flushLogsBuffer"],[80,53,66,35],[80,55,66,36],[80,59,66,40],[80,60,66,41],[81,10,67,8],[81,11,67,9],[81,13,67,11,"DEFAULT_FLUSH_INTERVAL"],[81,35,67,33],[81,36,67,34],[82,8,68,6],[82,9,68,7],[82,10,68,8],[83,6,69,4],[84,6,71,4],[84,10,71,8,"sendDefaultPii"],[84,24,71,22],[84,26,71,24],[85,8,72,6],[85,12,72,10],[85,13,72,11,"on"],[85,15,72,13],[85,16,72,14],[85,35,72,33],[85,37,72,35,"addAutoIpAddressToSession"],[85,48,72,60],[85,49,72,60,"addAutoIpAddressToSession"],[85,74,72,60],[85,75,72,61],[86,6,73,4],[87,4,74,2],[89,4,76,2],[90,0,77,0],[91,0,78,0],[92,4,79,3,"eventFromException"],[92,22,79,21,"eventFromException"],[92,23,79,22,"exception"],[92,32,79,31],[92,34,79,33,"hint"],[92,38,79,37],[92,40,79,39],[93,6,80,4],[93,13,80,11],[93,17,80,11,"eventFromException"],[93,32,80,29],[93,33,80,29,"eventFromException"],[93,51,80,29],[93,53,80,30],[93,57,80,34],[93,58,80,35,"_options"],[93,66,80,43],[93,67,80,44,"stackParser"],[93,78,80,55],[93,80,80,57,"exception"],[93,89,80,66],[93,91,80,68,"hint"],[93,95,80,72],[93,97,80,74],[93,101,80,78],[93,102,80,79,"_options"],[93,110,80,87],[93,111,80,88,"attachStacktrace"],[93,127,80,104],[93,128,80,105],[94,4,81,2],[96,4,83,2],[97,0,84,0],[98,0,85,0],[99,4,86,3,"eventFromMessage"],[99,20,86,19,"eventFromMessage"],[99,21,87,4,"message"],[99,28,87,11],[99,30,88,4,"level"],[99,35,88,9],[99,38,88,12],[99,44,88,18],[99,46,89,4,"hint"],[99,50,89,8],[99,52,90,4],[100,6,91,4],[100,13,91,11],[100,17,91,11,"eventFromMessage"],[100,32,91,27],[100,33,91,27,"eventFromMessage"],[100,49,91,27],[100,51,91,28],[100,55,91,32],[100,56,91,33,"_options"],[100,64,91,41],[100,65,91,42,"stackParser"],[100,76,91,53],[100,78,91,55,"message"],[100,85,91,62],[100,87,91,64,"level"],[100,92,91,69],[100,94,91,71,"hint"],[100,98,91,75],[100,100,91,77],[100,104,91,81],[100,105,91,82,"_options"],[100,113,91,90],[100,114,91,91,"attachStacktrace"],[100,130,91,107],[100,131,91,108],[101,4,92,2],[103,4,94,2],[104,0,95,0],[105,0,96,0],[106,4,97,3,"_prepareEvent"],[106,17,97,16,"_prepareEvent"],[106,18,98,4,"event"],[106,23,98,9],[106,25,99,4,"hint"],[106,29,99,8],[106,31,100,4,"currentScope"],[106,43,100,16],[106,45,101,4,"isolationScope"],[106,59,101,18],[106,61,102,4],[107,6,103,4,"event"],[107,11,103,9],[107,12,103,10,"platform"],[107,20,103,18],[107,23,103,21,"event"],[107,28,103,26],[107,29,103,27,"platform"],[107,37,103,35],[107,41,103,39],[107,53,103,51],[108,6,105,4],[108,13,105,11],[108,18,105,16],[108,19,105,17,"_prepareEvent"],[108,32,105,30],[108,33,105,31,"event"],[108,38,105,36],[108,40,105,38,"hint"],[108,44,105,42],[108,46,105,44,"currentScope"],[108,58,105,56],[108,60,105,58,"isolationScope"],[108,74,105,72],[108,75,105,73],[109,4,106,2],[110,2,107,0],[112,2,109,0],[113,2,110,0],[113,11,110,9,"applyDefaultOptions"],[113,30,110,28,"applyDefaultOptions"],[113,31,110,29,"optionsArg"],[113,41,110,39],[113,43,110,41],[114,4,111,2],[114,11,111,9],[115,6,112,4,"release"],[115,13,112,11],[115,15,113,6],[115,22,113,13,"__SENTRY_RELEASE__"],[115,40,113,31],[115,45,113,36],[115,53,113,44],[115,54,113,45],[116,6,113,45],[116,8,114,10,"__SENTRY_RELEASE__"],[116,26,114,28],[116,29,115,10,"WINDOW"],[116,39,115,16],[116,40,115,16,"WINDOW"],[116,46,115,16],[116,47,115,17,"SENTRY_RELEASE"],[116,61,115,31],[116,63,115,33,"id"],[116,65,115,35],[117,6,115,37],[118,6,116,4,"sendClientReports"],[118,23,116,21],[118,25,116,23],[118,29,116,27],[119,6,117,4],[120,6,118,4,"parentSpanIsAlwaysRootSpan"],[120,32,118,30],[120,34,118,32],[120,38,118,36],[121,6,119,4],[121,9,119,7,"optionsArg"],[122,4,120,2],[122,5,120,3],[123,2,121,0],[124,0,121,1],[124,3]],"functionMap":{"names":["<global>","BrowserClient","BrowserClient#constructor","WINDOW.document.addEventListener$argument_1","on$argument_1","setTimeout$argument_0","BrowserClient#eventFromException","BrowserClient#eventFromMessage","BrowserClient#_prepareEvent","applyDefaultOptions"],"mappings":"AAA;ACgB;GCO;2DCmB;ODS;uBEI;OFE;iCEE;+CCK;SDE;OFC;GDM;GKK;GLE;GMK;GNM;GOK;GPS;CDC;ASG;CTW"},"hasCjsExports":false},"type":"js/module"}]}