{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":103,"index":103}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"./debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":104},"end":{"line":2,"column":47,"index":151}}],"key":"nOZ2HunKnzL39LFdYoJbtaXPZ5g=","exportNames":["*"],"imports":1}},{"name":"./helpers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":152},"end":{"line":3,"column":38,"index":190}}],"key":"Y7YGoIAOGQa78JTLfazw+ehPeHs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"showReportDialog\", {\n    enumerable: true,\n    get: function () {\n      return showReportDialog;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _debugBuildJs = require(_dependencyMap[1], \"./debug-build.js\");\n  var _helpersJs = require(_dependencyMap[2], \"./helpers.js\");\n  /**\n   * Present the user with a report dialog.\n   *\n   * @param options Everything is optional, we try to fetch all info need from the current scope.\n   */\n  function showReportDialog(options = {}) {\n    const optionalDocument = _helpersJs.WINDOW.document;\n    const injectionPoint = optionalDocument?.head || optionalDocument?.body;\n\n    // doesn't work without a document (React Native)\n    if (!injectionPoint) {\n      _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.error('[showReportDialog] Global document not defined');\n      return;\n    }\n    const scope = (0, _sentryCore.getCurrentScope)();\n    const client = (0, _sentryCore.getClient)();\n    const dsn = client?.getDsn();\n    if (!dsn) {\n      _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.error('[showReportDialog] DSN not configured');\n      return;\n    }\n    const mergedOptions = Object.assign({}, options, {\n      user: Object.assign({}, scope.getUser(), options.user),\n      eventId: options.eventId || (0, _sentryCore.lastEventId)()\n    });\n    const script = _helpersJs.WINDOW.document.createElement('script');\n    script.async = true;\n    script.crossOrigin = 'anonymous';\n    script.src = (0, _sentryCore.getReportDialogEndpoint)(dsn, mergedOptions);\n    const {\n      onLoad,\n      onClose\n    } = mergedOptions;\n    if (onLoad) {\n      script.onload = onLoad;\n    }\n    if (onClose) {\n      const reportDialogClosedMessageHandler = event => {\n        if (event.data === '__sentry_reportdialog_closed__') {\n          try {\n            onClose();\n          } finally {\n            _helpersJs.WINDOW.removeEventListener('message', reportDialogClosedMessageHandler);\n          }\n        }\n      };\n      _helpersJs.WINDOW.addEventListener('message', reportDialogClosedMessageHandler);\n    }\n    injectionPoint.appendChild(script);\n  }\n});","lineCount":66,"map":[[7,2,65,0,"Object"],[7,8,65,0],[7,9,65,0,"defineProperty"],[7,23,65,0],[7,24,65,0,"exports"],[7,31,65,0],[8,4,65,0,"enumerable"],[8,14,65,0],[9,4,65,0,"get"],[9,7,65,0],[9,18,65,0,"get"],[9,19,65,0],[10,6,65,0],[10,13,65,9,"showReportDialog"],[10,29,65,25],[11,4,65,25],[12,2,65,25],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_debugBuildJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_helpersJs"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,2,10,0],[21,11,10,9,"showReportDialog"],[21,27,10,25,"showReportDialog"],[21,28,10,26,"options"],[21,35,10,33],[21,38,10,36],[21,39,10,37],[21,40,10,38],[21,42,10,40],[22,4,11,2],[22,10,11,8,"optionalDocument"],[22,26,11,24],[22,29,11,27,"WINDOW"],[22,39,11,33],[22,40,11,33,"WINDOW"],[22,46,11,33],[22,47,11,34,"document"],[22,55,11,42],[23,4,12,2],[23,10,12,8,"injectionPoint"],[23,24,12,22],[23,27,12,25,"optionalDocument"],[23,43,12,41],[23,45,12,43,"head"],[23,49,12,47],[23,53,12,51,"optionalDocument"],[23,69,12,67],[23,71,12,69,"body"],[23,75,12,73],[25,4,14,2],[26,4,15,2],[26,8,15,6],[26,9,15,7,"injectionPoint"],[26,23,15,21],[26,25,15,23],[27,6,16,4,"DEBUG_BUILD"],[27,19,16,15],[27,20,16,15,"DEBUG_BUILD"],[27,31,16,15],[27,35,16,19,"debug"],[27,46,16,24],[27,47,16,24,"debug"],[27,52,16,24],[27,53,16,25,"error"],[27,58,16,30],[27,59,16,31],[27,107,16,79],[27,108,16,80],[28,6,17,4],[29,4,18,2],[30,4,20,2],[30,10,20,8,"scope"],[30,15,20,13],[30,18,20,16],[30,22,20,16,"getCurrentScope"],[30,33,20,31],[30,34,20,31,"getCurrentScope"],[30,49,20,31],[30,51,20,32],[30,52,20,33],[31,4,21,2],[31,10,21,8,"client"],[31,16,21,14],[31,19,21,17],[31,23,21,17,"getClient"],[31,34,21,26],[31,35,21,26,"getClient"],[31,44,21,26],[31,46,21,27],[31,47,21,28],[32,4,22,2],[32,10,22,8,"dsn"],[32,13,22,11],[32,16,22,14,"client"],[32,22,22,20],[32,24,22,22,"getDsn"],[32,30,22,28],[32,31,22,29],[32,32,22,30],[33,4,24,2],[33,8,24,6],[33,9,24,7,"dsn"],[33,12,24,10],[33,14,24,12],[34,6,25,4,"DEBUG_BUILD"],[34,19,25,15],[34,20,25,15,"DEBUG_BUILD"],[34,31,25,15],[34,35,25,19,"debug"],[34,46,25,24],[34,47,25,24,"debug"],[34,52,25,24],[34,53,25,25,"error"],[34,58,25,30],[34,59,25,31],[34,98,25,70],[34,99,25,71],[35,6,26,4],[36,4,27,2],[37,4,29,2],[37,10,29,8,"mergedOptions"],[37,23,29,21],[37,26,29,21,"Object"],[37,32,29,21],[37,33,29,21,"assign"],[37,39,29,21],[37,44,30,7,"options"],[37,51,30,14],[38,6,31,4,"user"],[38,10,31,8],[38,12,31,8,"Object"],[38,18,31,8],[38,19,31,8,"assign"],[38,25,31,8],[38,30,32,9,"scope"],[38,35,32,14],[38,36,32,15,"getUser"],[38,43,32,22],[38,44,32,23],[38,45,32,24],[38,47,33,9,"options"],[38,54,33,16],[38,55,33,17,"user"],[38,59,33,21],[38,60,34,5],[39,6,35,4,"eventId"],[39,13,35,11],[39,15,35,13,"options"],[39,22,35,20],[39,23,35,21,"eventId"],[39,30,35,28],[39,34,35,32],[39,38,35,32,"lastEventId"],[39,49,35,43],[39,50,35,43,"lastEventId"],[39,61,35,43],[39,63,35,44],[40,4,35,45],[40,6,36,3],[41,4,38,2],[41,10,38,8,"script"],[41,16,38,14],[41,19,38,17,"WINDOW"],[41,29,38,23],[41,30,38,23,"WINDOW"],[41,36,38,23],[41,37,38,24,"document"],[41,45,38,32],[41,46,38,33,"createElement"],[41,59,38,46],[41,60,38,47],[41,68,38,55],[41,69,38,56],[42,4,39,2,"script"],[42,10,39,8],[42,11,39,9,"async"],[42,16,39,14],[42,19,39,17],[42,23,39,21],[43,4,40,2,"script"],[43,10,40,8],[43,11,40,9,"crossOrigin"],[43,22,40,20],[43,25,40,23],[43,36,40,34],[44,4,41,2,"script"],[44,10,41,8],[44,11,41,9,"src"],[44,14,41,12],[44,17,41,15],[44,21,41,15,"getReportDialogEndpoint"],[44,32,41,38],[44,33,41,38,"getReportDialogEndpoint"],[44,56,41,38],[44,58,41,39,"dsn"],[44,61,41,42],[44,63,41,44,"mergedOptions"],[44,76,41,57],[44,77,41,58],[45,4,43,2],[45,10,43,8],[46,6,43,10,"onLoad"],[46,12,43,16],[47,6,43,18,"onClose"],[48,4,43,26],[48,5,43,27],[48,8,43,30,"mergedOptions"],[48,21,43,43],[49,4,45,2],[49,8,45,6,"onLoad"],[49,14,45,12],[49,16,45,14],[50,6,46,4,"script"],[50,12,46,10],[50,13,46,11,"onload"],[50,19,46,17],[50,22,46,20,"onLoad"],[50,28,46,26],[51,4,47,2],[52,4,49,2],[52,8,49,6,"onClose"],[52,15,49,13],[52,17,49,15],[53,6,50,4],[53,12,50,10,"reportDialogClosedMessageHandler"],[53,44,50,42],[53,47,50,46,"event"],[53,52,50,51],[53,56,50,56],[54,8,51,6],[54,12,51,10,"event"],[54,17,51,15],[54,18,51,16,"data"],[54,22,51,20],[54,27,51,25],[54,59,51,57],[54,61,51,59],[55,10,52,8],[55,14,52,12],[56,12,53,10,"onClose"],[56,19,53,17],[56,20,53,18],[56,21,53,19],[57,10,54,8],[57,11,54,9],[57,20,54,18],[58,12,55,10,"WINDOW"],[58,22,55,16],[58,23,55,16,"WINDOW"],[58,29,55,16],[58,30,55,17,"removeEventListener"],[58,49,55,36],[58,50,55,37],[58,59,55,46],[58,61,55,48,"reportDialogClosedMessageHandler"],[58,93,55,80],[58,94,55,81],[59,10,56,8],[60,8,57,6],[61,6,58,4],[61,7,58,5],[62,6,59,4,"WINDOW"],[62,16,59,10],[62,17,59,10,"WINDOW"],[62,23,59,10],[62,24,59,11,"addEventListener"],[62,40,59,27],[62,41,59,28],[62,50,59,37],[62,52,59,39,"reportDialogClosedMessageHandler"],[62,84,59,71],[62,85,59,72],[63,4,60,2],[64,4,62,2,"injectionPoint"],[64,18,62,16],[64,19,62,17,"appendChild"],[64,30,62,28],[64,31,62,29,"script"],[64,37,62,35],[64,38,62,36],[65,2,63,0],[66,0,63,1],[66,3]],"functionMap":{"names":["<global>","showReportDialog","reportDialogClosedMessageHandler"],"mappings":"AAA;ACS;6CCwC;KDQ;CDK"},"hasCjsExports":false},"type":"js/module"}]}