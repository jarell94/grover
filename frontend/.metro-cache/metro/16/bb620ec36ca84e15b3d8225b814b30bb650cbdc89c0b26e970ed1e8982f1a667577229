{"dependencies":[{"name":"../../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"wyofRZtYR2H2+OElRwz4anlbKJw=","exportNames":["*"],"imports":1}},{"name":"../../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":52,"index":110}}],"key":"EZPmsHt7bn9JJ4Y0grXw/CrOow0=","exportNames":["*"],"imports":1}},{"name":"../../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":79,"index":190}}],"key":"Nj05aHw7DkcWLBmtaT73GikC0NY=","exportNames":["*"],"imports":1}},{"name":"../../tracing/spanstatus.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":191},"end":{"line":4,"column":64,"index":255}}],"key":"xTnLe4eZ8UwJZsOO8L+5TFoq+AE=","exportNames":["*"],"imports":1}},{"name":"../../tracing/trace.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":256},"end":{"line":5,"column":68,"index":324}}],"key":"lxPirCfAj9/5TIIWoerfQSYiEx4=","exportNames":["*"],"imports":1}},{"name":"../ai/gen-ai-attributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":325},"end":{"line":6,"column":513,"index":838}}],"key":"nKHaXfEjIYF1icPUCGJgR0o1cZ8=","exportNames":["*"],"imports":1}},{"name":"./constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":839},"end":{"line":7,"column":57,"index":896}}],"key":"46QfplZMuoT7/1B4GqMDknw8q/g=","exportNames":["*"],"imports":1}},{"name":"./streaming.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":897},"end":{"line":8,"column":50,"index":947}}],"key":"DIl7BKZnjKPmGc4usp/qRst2QPQ=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":948},"end":{"line":9,"column":203,"index":1151}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"instrumentOpenAiClient\", {\n    enumerable: true,\n    get: function () {\n      return instrumentOpenAiClient;\n    }\n  });\n  var _currentScopesJs = require(_dependencyMap[0], \"../../currentScopes.js\");\n  var _exportsJs = require(_dependencyMap[1], \"../../exports.js\");\n  var _semanticAttributesJs = require(_dependencyMap[2], \"../../semanticAttributes.js\");\n  var _tracingSpanstatusJs = require(_dependencyMap[3], \"../../tracing/spanstatus.js\");\n  var _tracingTraceJs = require(_dependencyMap[4], \"../../tracing/trace.js\");\n  var _aiGenAiAttributesJs = require(_dependencyMap[5], \"../ai/gen-ai-attributes.js\");\n  var _constantsJs = require(_dependencyMap[6], \"./constants.js\");\n  var _streamingJs = require(_dependencyMap[7], \"./streaming.js\");\n  var _utilsJs = require(_dependencyMap[8], \"./utils.js\");\n  /**\n   * Extract request attributes from method arguments\n   */\n  function extractRequestAttributes(args, methodPath) {\n    const attributes = {\n      [_aiGenAiAttributesJs.GEN_AI_SYSTEM_ATTRIBUTE]: 'openai',\n      [_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE]: (0, _utilsJs.getOperationName)(methodPath),\n      [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.ai.openai'\n    };\n\n    // Chat completion API accepts web_search_options and tools as parameters\n    // we append web search options to the available tools to capture all tool calls\n    if (args.length > 0 && typeof args[0] === 'object' && args[0] !== null) {\n      const params = args[0];\n      const tools = Array.isArray(params.tools) ? params.tools : [];\n      const hasWebSearchOptions = params.web_search_options && typeof params.web_search_options === 'object';\n      const webSearchOptions = hasWebSearchOptions ? [{\n        type: 'web_search_options',\n        ...params.web_search_options\n      }] : [];\n      const availableTools = [...tools, ...webSearchOptions];\n      if (availableTools.length > 0) {\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE] = JSON.stringify(availableTools);\n      }\n    }\n    if (args.length > 0 && typeof args[0] === 'object' && args[0] !== null) {\n      const params = args[0];\n      attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = params.model ?? 'unknown';\n      if ('temperature' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE] = params.temperature;\n      if ('top_p' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TOP_P_ATTRIBUTE] = params.top_p;\n      if ('frequency_penalty' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE] = params.frequency_penalty;\n      if ('presence_penalty' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE] = params.presence_penalty;\n      if ('stream' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_STREAM_ATTRIBUTE] = params.stream;\n    } else {\n      attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = 'unknown';\n    }\n    return attributes;\n  }\n\n  /**\n   * Add attributes for Chat Completion responses\n   */\n  function addChatCompletionAttributes(span, response, recordOutputs) {\n    (0, _utilsJs.setCommonResponseAttributes)(span, response.id, response.model, response.created);\n    if (response.usage) {\n      (0, _utilsJs.setTokenUsageAttributes)(span, response.usage.prompt_tokens, response.usage.completion_tokens, response.usage.total_tokens);\n    }\n    if (Array.isArray(response.choices)) {\n      const finishReasons = response.choices.map(choice => choice.finish_reason).filter(reason => reason !== null);\n      if (finishReasons.length > 0) {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]: JSON.stringify(finishReasons)\n        });\n      }\n\n      // Extract tool calls from all choices (only if recordOutputs is true)\n      if (recordOutputs) {\n        const toolCalls = response.choices.map(choice => choice.message?.tool_calls).filter(calls => Array.isArray(calls) && calls.length > 0).flat();\n        if (toolCalls.length > 0) {\n          span.setAttributes({\n            [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]: JSON.stringify(toolCalls)\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Add attributes for Responses API responses\n   */\n  function addResponsesApiAttributes(span, response, recordOutputs) {\n    (0, _utilsJs.setCommonResponseAttributes)(span, response.id, response.model, response.created_at);\n    if (response.status) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]: JSON.stringify([response.status])\n      });\n    }\n    if (response.usage) {\n      (0, _utilsJs.setTokenUsageAttributes)(span, response.usage.input_tokens, response.usage.output_tokens, response.usage.total_tokens);\n    }\n\n    // Extract function calls from output (only if recordOutputs is true)\n    if (recordOutputs) {\n      const responseWithOutput = response;\n      if (Array.isArray(responseWithOutput.output) && responseWithOutput.output.length > 0) {\n        // Filter for function_call type objects in the output array\n        const functionCalls = responseWithOutput.output.filter(item => typeof item === 'object' && item !== null && item.type === 'function_call');\n        if (functionCalls.length > 0) {\n          span.setAttributes({\n            [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]: JSON.stringify(functionCalls)\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Add response attributes to spans\n   * This currently supports both Chat Completion and Responses API responses\n   */\n  function addResponseAttributes(span, result, recordOutputs) {\n    if (!result || typeof result !== 'object') return;\n    const response = result;\n    if ((0, _utilsJs.isChatCompletionResponse)(response)) {\n      addChatCompletionAttributes(span, response, recordOutputs);\n      if (recordOutputs && response.choices?.length) {\n        const responseTexts = response.choices.map(choice => choice.message?.content || '');\n        span.setAttributes({\n          [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: JSON.stringify(responseTexts)\n        });\n      }\n    } else if ((0, _utilsJs.isResponsesApiResponse)(response)) {\n      addResponsesApiAttributes(span, response, recordOutputs);\n      if (recordOutputs && response.output_text) {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: response.output_text\n        });\n      }\n    }\n  }\n\n  // Extract and record AI request inputs, if present. This is intentionally separate from response attributes.\n  function addRequestAttributes(span, params) {\n    if ('messages' in params) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]: JSON.stringify(params.messages)\n      });\n    }\n    if ('input' in params) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]: JSON.stringify(params.input)\n      });\n    }\n  }\n  function getOptionsFromIntegration() {\n    const scope = (0, _currentScopesJs.getCurrentScope)();\n    const client = scope.getClient();\n    const integration = client?.getIntegrationByName(_constantsJs.OPENAI_INTEGRATION_NAME);\n    const shouldRecordInputsAndOutputs = integration ? Boolean(client?.getOptions().sendDefaultPii) : false;\n    return {\n      recordInputs: integration?.options?.recordInputs ?? shouldRecordInputsAndOutputs,\n      recordOutputs: integration?.options?.recordOutputs ?? shouldRecordInputsAndOutputs\n    };\n  }\n\n  /**\n   * Instrument a method with Sentry spans\n   * Following Sentry AI Agents Manual Instrumentation conventions\n   * @see https://docs.sentry.io/platforms/javascript/guides/node/tracing/instrumentation/ai-agents-module/#manual-instrumentation\n   */\n  function instrumentMethod(originalMethod, methodPath, context, options) {\n    return async function instrumentedMethod(...args) {\n      const finalOptions = options || getOptionsFromIntegration();\n      const requestAttributes = extractRequestAttributes(args, methodPath);\n      const model = requestAttributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] || 'unknown';\n      const operationName = (0, _utilsJs.getOperationName)(methodPath);\n      const params = args[0];\n      const isStreamRequested = params && typeof params === 'object' && params.stream === true;\n      if (isStreamRequested) {\n        // For streaming responses, use manual span management to properly handle the async generator lifecycle\n        return (0, _tracingTraceJs.startSpanManual)({\n          name: `${operationName} ${model} stream-response`,\n          op: (0, _utilsJs.getSpanOperation)(methodPath),\n          attributes: requestAttributes\n        }, async span => {\n          try {\n            if (finalOptions.recordInputs && args[0] && typeof args[0] === 'object') {\n              addRequestAttributes(span, args[0]);\n            }\n            const result = await originalMethod.apply(context, args);\n            return (0, _streamingJs.instrumentStream)(result, span, finalOptions.recordOutputs ?? false);\n          } catch (error) {\n            // For streaming requests that fail before stream creation, we still want to record\n            // them as streaming requests but end the span gracefully\n            span.setStatus({\n              code: _tracingSpanstatusJs.SPAN_STATUS_ERROR,\n              message: 'internal_error'\n            });\n            (0, _exportsJs.captureException)(error, {\n              mechanism: {\n                handled: false,\n                type: 'auto.ai.openai.stream',\n                data: {\n                  function: methodPath\n                }\n              }\n            });\n            span.end();\n            throw error;\n          }\n        });\n      } else {\n        //  Non-streaming responses\n        return (0, _tracingTraceJs.startSpan)({\n          name: `${operationName} ${model}`,\n          op: (0, _utilsJs.getSpanOperation)(methodPath),\n          attributes: requestAttributes\n        }, async span => {\n          try {\n            if (finalOptions.recordInputs && args[0] && typeof args[0] === 'object') {\n              addRequestAttributes(span, args[0]);\n            }\n            const result = await originalMethod.apply(context, args);\n            addResponseAttributes(span, result, finalOptions.recordOutputs);\n            return result;\n          } catch (error) {\n            (0, _exportsJs.captureException)(error, {\n              mechanism: {\n                handled: false,\n                type: 'auto.ai.openai',\n                data: {\n                  function: methodPath\n                }\n              }\n            });\n            throw error;\n          }\n        });\n      }\n    };\n  }\n\n  /**\n   * Create a deep proxy for OpenAI client instrumentation\n   */\n  function createDeepProxy(target, currentPath = '', options) {\n    return new Proxy(target, {\n      get(obj, prop) {\n        const value = obj[prop];\n        const methodPath = (0, _utilsJs.buildMethodPath)(currentPath, String(prop));\n        if (typeof value === 'function' && (0, _utilsJs.shouldInstrument)(methodPath)) {\n          return instrumentMethod(value, methodPath, obj, options);\n        }\n        if (typeof value === 'function') {\n          // Bind non-instrumented functions to preserve the original `this` context,\n          // which is required for accessing private class fields (e.g. #baseURL) in OpenAI SDK v5.\n          return value.bind(obj);\n        }\n        if (value && typeof value === 'object') {\n          return createDeepProxy(value, methodPath, options);\n        }\n        return value;\n      }\n    });\n  }\n\n  /**\n   * Instrument an OpenAI client with Sentry tracing\n   * Can be used across Node.js, Cloudflare Workers, and Vercel Edge\n   */\n  function instrumentOpenAiClient(client, options) {\n    return createDeepProxy(client, '', options);\n  }\n});","lineCount":275,"map":[[7,2,308,0,"Object"],[7,8,308,0],[7,9,308,0,"defineProperty"],[7,23,308,0],[7,24,308,0,"exports"],[7,31,308,0],[8,4,308,0,"enumerable"],[8,14,308,0],[9,4,308,0,"get"],[9,7,308,0],[9,18,308,0,"get"],[9,19,308,0],[10,6,308,0],[10,13,308,9,"instrumentOpenAiClient"],[10,35,308,31],[11,4,308,31],[12,2,308,31],[13,2,1,0],[13,6,1,0,"_currentScopesJs"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_exportsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_semanticAttributesJs"],[15,27,3,0],[15,30,3,0,"require"],[15,37,3,0],[15,38,3,0,"_dependencyMap"],[15,52,3,0],[16,2,4,0],[16,6,4,0,"_tracingSpanstatusJs"],[16,26,4,0],[16,29,4,0,"require"],[16,36,4,0],[16,37,4,0,"_dependencyMap"],[16,51,4,0],[17,2,5,0],[17,6,5,0,"_tracingTraceJs"],[17,21,5,0],[17,24,5,0,"require"],[17,31,5,0],[17,32,5,0,"_dependencyMap"],[17,46,5,0],[18,2,6,0],[18,6,6,0,"_aiGenAiAttributesJs"],[18,26,6,0],[18,29,6,0,"require"],[18,36,6,0],[18,37,6,0,"_dependencyMap"],[18,51,6,0],[19,2,7,0],[19,6,7,0,"_constantsJs"],[19,18,7,0],[19,21,7,0,"require"],[19,28,7,0],[19,29,7,0,"_dependencyMap"],[19,43,7,0],[20,2,8,0],[20,6,8,0,"_streamingJs"],[20,18,8,0],[20,21,8,0,"require"],[20,28,8,0],[20,29,8,0,"_dependencyMap"],[20,43,8,0],[21,2,9,0],[21,6,9,0,"_utilsJs"],[21,14,9,0],[21,17,9,0,"require"],[21,24,9,0],[21,25,9,0,"_dependencyMap"],[21,39,9,0],[22,2,11,0],[23,0,12,0],[24,0,13,0],[25,2,14,0],[25,11,14,9,"extractRequestAttributes"],[25,35,14,33,"extractRequestAttributes"],[25,36,14,34,"args"],[25,40,14,38],[25,42,14,40,"methodPath"],[25,52,14,50],[25,54,14,52],[26,4,15,2],[26,10,15,8,"attributes"],[26,20,15,18],[26,23,15,21],[27,6,16,4],[27,7,16,5,"GEN_AI_SYSTEM_ATTRIBUTE"],[27,27,16,28],[27,28,16,28,"GEN_AI_SYSTEM_ATTRIBUTE"],[27,51,16,28],[27,54,16,31],[27,62,16,39],[28,6,17,4],[28,7,17,5,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[28,27,17,36],[28,28,17,36,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[28,59,17,36],[28,62,17,39],[28,66,17,39,"getOperationName"],[28,74,17,55],[28,75,17,55,"getOperationName"],[28,91,17,55],[28,93,17,56,"methodPath"],[28,103,17,66],[28,104,17,67],[29,6,18,4],[29,7,18,5,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[29,28,18,37],[29,29,18,37,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[29,61,18,37],[29,64,18,40],[30,4,19,2],[30,5,19,3],[32,4,21,2],[33,4,22,2],[34,4,23,2],[34,8,23,6,"args"],[34,12,23,10],[34,13,23,11,"length"],[34,19,23,17],[34,22,23,20],[34,23,23,21],[34,27,23,25],[34,34,23,32,"args"],[34,38,23,36],[34,39,23,37],[34,40,23,38],[34,41,23,39],[34,46,23,44],[34,54,23,52],[34,58,23,56,"args"],[34,62,23,60],[34,63,23,61],[34,64,23,62],[34,65,23,63],[34,70,23,68],[34,74,23,72],[34,76,23,74],[35,6,24,4],[35,12,24,10,"params"],[35,18,24,16],[35,21,24,19,"args"],[35,25,24,23],[35,26,24,24],[35,27,24,25],[35,28,24,26],[36,6,26,4],[36,12,26,10,"tools"],[36,17,26,15],[36,20,26,18,"Array"],[36,25,26,23],[36,26,26,24,"isArray"],[36,33,26,31],[36,34,26,32,"params"],[36,40,26,38],[36,41,26,39,"tools"],[36,46,26,44],[36,47,26,45],[36,50,26,48,"params"],[36,56,26,54],[36,57,26,55,"tools"],[36,62,26,60],[36,65,26,63],[36,67,26,65],[37,6,27,4],[37,12,27,10,"hasWebSearchOptions"],[37,31,27,29],[37,34,27,32,"params"],[37,40,27,38],[37,41,27,39,"web_search_options"],[37,59,27,57],[37,63,27,61],[37,70,27,68,"params"],[37,76,27,74],[37,77,27,75,"web_search_options"],[37,95,27,93],[37,100,27,98],[37,108,27,106],[38,6,28,4],[38,12,28,10,"webSearchOptions"],[38,28,28,26],[38,31,28,29,"hasWebSearchOptions"],[38,50,28,48],[38,53,29,8],[38,54,29,9],[39,8,29,11,"type"],[39,12,29,15],[39,14,29,17],[39,34,29,37],[40,8,29,39],[40,11,29,43,"params"],[40,17,29,49],[40,18,29,50,"web_search_options"],[41,6,29,71],[41,7,29,72],[41,8,29,73],[41,11,30,8],[41,13,30,10],[42,6,32,4],[42,12,32,10,"availableTools"],[42,26,32,24],[42,29,32,27],[42,30,32,28],[42,33,32,31,"tools"],[42,38,32,36],[42,40,32,38],[42,43,32,41,"webSearchOptions"],[42,59,32,57],[42,60,32,58],[43,6,34,4],[43,10,34,8,"availableTools"],[43,24,34,22],[43,25,34,23,"length"],[43,31,34,29],[43,34,34,32],[43,35,34,33],[43,37,34,35],[44,8,35,6,"attributes"],[44,18,35,16],[44,19,35,17,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[44,39,35,57],[44,40,35,57,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[44,80,35,57],[44,81,35,58],[44,84,35,61,"JSON"],[44,88,35,65],[44,89,35,66,"stringify"],[44,98,35,75],[44,99,35,76,"availableTools"],[44,113,35,90],[44,114,35,91],[45,6,36,4],[46,4,37,2],[47,4,39,2],[47,8,39,6,"args"],[47,12,39,10],[47,13,39,11,"length"],[47,19,39,17],[47,22,39,20],[47,23,39,21],[47,27,39,25],[47,34,39,32,"args"],[47,38,39,36],[47,39,39,37],[47,40,39,38],[47,41,39,39],[47,46,39,44],[47,54,39,52],[47,58,39,56,"args"],[47,62,39,60],[47,63,39,61],[47,64,39,62],[47,65,39,63],[47,70,39,68],[47,74,39,72],[47,76,39,74],[48,6,40,4],[48,12,40,10,"params"],[48,18,40,16],[48,21,40,19,"args"],[48,25,40,23],[48,26,40,24],[48,27,40,25],[48,28,40,26],[49,6,42,4,"attributes"],[49,16,42,14],[49,17,42,15,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[49,37,42,45],[49,38,42,45,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[49,68,42,45],[49,69,42,46],[49,72,42,49,"params"],[49,78,42,55],[49,79,42,56,"model"],[49,84,42,61],[49,88,42,65],[49,97,42,74],[50,6,43,4],[50,10,43,8],[50,23,43,21],[50,27,43,25,"params"],[50,33,43,31],[50,35,43,33,"attributes"],[50,45,43,43],[50,46,43,44,"GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE"],[50,66,43,80],[50,67,43,80,"GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE"],[50,103,43,80],[50,104,43,81],[50,107,43,84,"params"],[50,113,43,90],[50,114,43,91,"temperature"],[50,125,43,102],[51,6,44,4],[51,10,44,8],[51,17,44,15],[51,21,44,19,"params"],[51,27,44,25],[51,29,44,27,"attributes"],[51,39,44,37],[51,40,44,38,"GEN_AI_REQUEST_TOP_P_ATTRIBUTE"],[51,60,44,68],[51,61,44,68,"GEN_AI_REQUEST_TOP_P_ATTRIBUTE"],[51,91,44,68],[51,92,44,69],[51,95,44,72,"params"],[51,101,44,78],[51,102,44,79,"top_p"],[51,107,44,84],[52,6,45,4],[52,10,45,8],[52,29,45,27],[52,33,45,31,"params"],[52,39,45,37],[52,41,46,6,"attributes"],[52,51,46,16],[52,52,46,17,"GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE"],[52,72,46,59],[52,73,46,59,"GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE"],[52,115,46,59],[52,116,46,60],[52,119,46,63,"params"],[52,125,46,69],[52,126,46,70,"frequency_penalty"],[52,143,46,87],[53,6,47,4],[53,10,47,8],[53,28,47,26],[53,32,47,30,"params"],[53,38,47,36],[53,40,47,38,"attributes"],[53,50,47,48],[53,51,47,49,"GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE"],[53,71,47,90],[53,72,47,90,"GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE"],[53,113,47,90],[53,114,47,91],[53,117,47,94,"params"],[53,123,47,100],[53,124,47,101,"presence_penalty"],[53,140,47,117],[54,6,48,4],[54,10,48,8],[54,18,48,16],[54,22,48,20,"params"],[54,28,48,26],[54,30,48,28,"attributes"],[54,40,48,38],[54,41,48,39,"GEN_AI_REQUEST_STREAM_ATTRIBUTE"],[54,61,48,70],[54,62,48,70,"GEN_AI_REQUEST_STREAM_ATTRIBUTE"],[54,93,48,70],[54,94,48,71],[54,97,48,74,"params"],[54,103,48,80],[54,104,48,81,"stream"],[54,110,48,87],[55,4,49,2],[55,5,49,3],[55,11,49,9],[56,6,50,4,"attributes"],[56,16,50,14],[56,17,50,15,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[56,37,50,45],[56,38,50,45,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[56,68,50,45],[56,69,50,46],[56,72,50,49],[56,81,50,58],[57,4,51,2],[58,4,53,2],[58,11,53,9,"attributes"],[58,21,53,19],[59,2,54,0],[61,2,56,0],[62,0,57,0],[63,0,58,0],[64,2,59,0],[64,11,59,9,"addChatCompletionAttributes"],[64,38,59,36,"addChatCompletionAttributes"],[64,39,59,37,"span"],[64,43,59,41],[64,45,59,43,"response"],[64,53,59,51],[64,55,59,53,"recordOutputs"],[64,68,59,66],[64,70,59,68],[65,4,60,2],[65,8,60,2,"setCommonResponseAttributes"],[65,16,60,29],[65,17,60,29,"setCommonResponseAttributes"],[65,44,60,29],[65,46,60,30,"span"],[65,50,60,34],[65,52,60,36,"response"],[65,60,60,44],[65,61,60,45,"id"],[65,63,60,47],[65,65,60,49,"response"],[65,73,60,57],[65,74,60,58,"model"],[65,79,60,63],[65,81,60,65,"response"],[65,89,60,73],[65,90,60,74,"created"],[65,97,60,81],[65,98,60,82],[66,4,61,2],[66,8,61,6,"response"],[66,16,61,14],[66,17,61,15,"usage"],[66,22,61,20],[66,24,61,22],[67,6,62,4],[67,10,62,4,"setTokenUsageAttributes"],[67,18,62,27],[67,19,62,27,"setTokenUsageAttributes"],[67,42,62,27],[67,44,63,6,"span"],[67,48,63,10],[67,50,64,6,"response"],[67,58,64,14],[67,59,64,15,"usage"],[67,64,64,20],[67,65,64,21,"prompt_tokens"],[67,78,64,34],[67,80,65,6,"response"],[67,88,65,14],[67,89,65,15,"usage"],[67,94,65,20],[67,95,65,21,"completion_tokens"],[67,112,65,38],[67,114,66,6,"response"],[67,122,66,14],[67,123,66,15,"usage"],[67,128,66,20],[67,129,66,21,"total_tokens"],[67,141,67,4],[67,142,67,5],[68,4,68,2],[69,4,69,2],[69,8,69,6,"Array"],[69,13,69,11],[69,14,69,12,"isArray"],[69,21,69,19],[69,22,69,20,"response"],[69,30,69,28],[69,31,69,29,"choices"],[69,38,69,36],[69,39,69,37],[69,41,69,39],[70,6,70,4],[70,12,70,10,"finishReasons"],[70,25,70,23],[70,28,70,26,"response"],[70,36,70,34],[70,37,70,35,"choices"],[70,44,70,42],[70,45,71,7,"map"],[70,48,71,10],[70,49,71,11,"choice"],[70,55,71,17],[70,59,71,21,"choice"],[70,65,71,27],[70,66,71,28,"finish_reason"],[70,79,71,41],[70,80,71,42],[70,81,72,7,"filter"],[70,87,72,13],[70,88,72,15,"reason"],[70,94,72,21],[70,98,72,26,"reason"],[70,104,72,32],[70,109,72,37],[70,113,72,41],[70,114,72,42],[71,6,73,4],[71,10,73,8,"finishReasons"],[71,23,73,21],[71,24,73,22,"length"],[71,30,73,28],[71,33,73,31],[71,34,73,32],[71,36,73,34],[72,8,74,6,"span"],[72,12,74,10],[72,13,74,11,"setAttributes"],[72,26,74,24],[72,27,74,25],[73,10,75,8],[73,11,75,9,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[73,31,75,49],[73,32,75,49,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[73,72,75,49],[73,75,75,52,"JSON"],[73,79,75,56],[73,80,75,57,"stringify"],[73,89,75,66],[73,90,75,67,"finishReasons"],[73,103,75,80],[74,8,76,6],[74,9,76,7],[74,10,76,8],[75,6,77,4],[77,6,79,4],[78,6,80,4],[78,10,80,8,"recordOutputs"],[78,23,80,21],[78,25,80,23],[79,8,81,6],[79,14,81,12,"toolCalls"],[79,23,81,21],[79,26,81,24,"response"],[79,34,81,32],[79,35,81,33,"choices"],[79,42,81,40],[79,43,82,9,"map"],[79,46,82,12],[79,47,82,13,"choice"],[79,53,82,19],[79,57,82,23,"choice"],[79,63,82,29],[79,64,82,30,"message"],[79,71,82,37],[79,73,82,39,"tool_calls"],[79,83,82,49],[79,84,82,50],[79,85,83,9,"filter"],[79,91,83,15],[79,92,83,16,"calls"],[79,97,83,21],[79,101,83,25,"Array"],[79,106,83,30],[79,107,83,31,"isArray"],[79,114,83,38],[79,115,83,39,"calls"],[79,120,83,44],[79,121,83,45],[79,125,83,49,"calls"],[79,130,83,54],[79,131,83,55,"length"],[79,137,83,61],[79,140,83,64],[79,141,83,65],[79,142,83,66],[79,143,84,9,"flat"],[79,147,84,13],[79,148,84,14],[79,149,84,15],[80,8,86,6],[80,12,86,10,"toolCalls"],[80,21,86,19],[80,22,86,20,"length"],[80,28,86,26],[80,31,86,29],[80,32,86,30],[80,34,86,32],[81,10,87,8,"span"],[81,14,87,12],[81,15,87,13,"setAttributes"],[81,28,87,26],[81,29,87,27],[82,12,88,10],[82,13,88,11,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[82,33,88,47],[82,34,88,47,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[82,70,88,47],[82,73,88,50,"JSON"],[82,77,88,54],[82,78,88,55,"stringify"],[82,87,88,64],[82,88,88,65,"toolCalls"],[82,97,88,74],[83,10,89,8],[83,11,89,9],[83,12,89,10],[84,8,90,6],[85,6,91,4],[86,4,92,2],[87,2,93,0],[89,2,95,0],[90,0,96,0],[91,0,97,0],[92,2,98,0],[92,11,98,9,"addResponsesApiAttributes"],[92,36,98,34,"addResponsesApiAttributes"],[92,37,98,35,"span"],[92,41,98,39],[92,43,98,41,"response"],[92,51,98,49],[92,53,98,51,"recordOutputs"],[92,66,98,64],[92,68,98,66],[93,4,99,2],[93,8,99,2,"setCommonResponseAttributes"],[93,16,99,29],[93,17,99,29,"setCommonResponseAttributes"],[93,44,99,29],[93,46,99,30,"span"],[93,50,99,34],[93,52,99,36,"response"],[93,60,99,44],[93,61,99,45,"id"],[93,63,99,47],[93,65,99,49,"response"],[93,73,99,57],[93,74,99,58,"model"],[93,79,99,63],[93,81,99,65,"response"],[93,89,99,73],[93,90,99,74,"created_at"],[93,100,99,84],[93,101,99,85],[94,4,100,2],[94,8,100,6,"response"],[94,16,100,14],[94,17,100,15,"status"],[94,23,100,21],[94,25,100,23],[95,6,101,4,"span"],[95,10,101,8],[95,11,101,9,"setAttributes"],[95,24,101,22],[95,25,101,23],[96,8,102,6],[96,9,102,7,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[96,29,102,47],[96,30,102,47,"GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE"],[96,70,102,47],[96,73,102,50,"JSON"],[96,77,102,54],[96,78,102,55,"stringify"],[96,87,102,64],[96,88,102,65],[96,89,102,66,"response"],[96,97,102,74],[96,98,102,75,"status"],[96,104,102,81],[96,105,102,82],[97,6,103,4],[97,7,103,5],[97,8,103,6],[98,4,104,2],[99,4,105,2],[99,8,105,6,"response"],[99,16,105,14],[99,17,105,15,"usage"],[99,22,105,20],[99,24,105,22],[100,6,106,4],[100,10,106,4,"setTokenUsageAttributes"],[100,18,106,27],[100,19,106,27,"setTokenUsageAttributes"],[100,42,106,27],[100,44,107,6,"span"],[100,48,107,10],[100,50,108,6,"response"],[100,58,108,14],[100,59,108,15,"usage"],[100,64,108,20],[100,65,108,21,"input_tokens"],[100,77,108,33],[100,79,109,6,"response"],[100,87,109,14],[100,88,109,15,"usage"],[100,93,109,20],[100,94,109,21,"output_tokens"],[100,107,109,34],[100,109,110,6,"response"],[100,117,110,14],[100,118,110,15,"usage"],[100,123,110,20],[100,124,110,21,"total_tokens"],[100,136,111,4],[100,137,111,5],[101,4,112,2],[103,4,114,2],[104,4,115,2],[104,8,115,6,"recordOutputs"],[104,21,115,19],[104,23,115,21],[105,6,116,4],[105,12,116,10,"responseWithOutput"],[105,30,116,28],[105,33,116,31,"response"],[105,41,116,39],[106,6,117,4],[106,10,117,8,"Array"],[106,15,117,13],[106,16,117,14,"isArray"],[106,23,117,21],[106,24,117,22,"responseWithOutput"],[106,42,117,40],[106,43,117,41,"output"],[106,49,117,47],[106,50,117,48],[106,54,117,52,"responseWithOutput"],[106,72,117,70],[106,73,117,71,"output"],[106,79,117,77],[106,80,117,78,"length"],[106,86,117,84],[106,89,117,87],[106,90,117,88],[106,92,117,90],[107,8,118,6],[108,8,119,6],[108,14,119,12,"functionCalls"],[108,27,119,25],[108,30,119,28,"responseWithOutput"],[108,48,119,46],[108,49,119,47,"output"],[108,55,119,53],[108,56,119,54,"filter"],[108,62,119,60],[108,63,120,9,"item"],[108,67,120,13],[108,71,121,10],[108,78,121,17,"item"],[108,82,121,21],[108,87,121,26],[108,95,121,34],[108,99,121,38,"item"],[108,103,121,42],[108,108,121,47],[108,112,121,51],[108,116,121,56,"item"],[108,120,121,60],[108,121,121,63,"type"],[108,125,121,67],[108,130,121,72],[108,145,122,6],[108,146,122,7],[109,8,124,6],[109,12,124,10,"functionCalls"],[109,25,124,23],[109,26,124,24,"length"],[109,32,124,30],[109,35,124,33],[109,36,124,34],[109,38,124,36],[110,10,125,8,"span"],[110,14,125,12],[110,15,125,13,"setAttributes"],[110,28,125,26],[110,29,125,27],[111,12,126,10],[111,13,126,11,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[111,33,126,47],[111,34,126,47,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[111,70,126,47],[111,73,126,50,"JSON"],[111,77,126,54],[111,78,126,55,"stringify"],[111,87,126,64],[111,88,126,65,"functionCalls"],[111,101,126,78],[112,10,127,8],[112,11,127,9],[112,12,127,10],[113,8,128,6],[114,6,129,4],[115,4,130,2],[116,2,131,0],[118,2,133,0],[119,0,134,0],[120,0,135,0],[121,0,136,0],[122,2,137,0],[122,11,137,9,"addResponseAttributes"],[122,32,137,30,"addResponseAttributes"],[122,33,137,31,"span"],[122,37,137,35],[122,39,137,37,"result"],[122,45,137,43],[122,47,137,45,"recordOutputs"],[122,60,137,58],[122,62,137,60],[123,4,138,2],[123,8,138,6],[123,9,138,7,"result"],[123,15,138,13],[123,19,138,17],[123,26,138,24,"result"],[123,32,138,30],[123,37,138,35],[123,45,138,43],[123,47,138,45],[124,4,140,2],[124,10,140,8,"response"],[124,18,140,16],[124,21,140,19,"result"],[124,27,140,25],[125,4,142,2],[125,8,142,6],[125,12,142,6,"isChatCompletionResponse"],[125,20,142,30],[125,21,142,30,"isChatCompletionResponse"],[125,45,142,30],[125,47,142,31,"response"],[125,55,142,39],[125,56,142,40],[125,58,142,42],[126,6,143,4,"addChatCompletionAttributes"],[126,33,143,31],[126,34,143,32,"span"],[126,38,143,36],[126,40,143,38,"response"],[126,48,143,46],[126,50,143,48,"recordOutputs"],[126,63,143,61],[126,64,143,62],[127,6,144,4],[127,10,144,8,"recordOutputs"],[127,23,144,21],[127,27,144,25,"response"],[127,35,144,33],[127,36,144,34,"choices"],[127,43,144,41],[127,45,144,43,"length"],[127,51,144,49],[127,53,144,51],[128,8,145,6],[128,14,145,12,"responseTexts"],[128,27,145,25],[128,30,145,28,"response"],[128,38,145,36],[128,39,145,37,"choices"],[128,46,145,44],[128,47,145,45,"map"],[128,50,145,48],[128,51,145,49,"choice"],[128,57,145,55],[128,61,145,59,"choice"],[128,67,145,65],[128,68,145,66,"message"],[128,75,145,73],[128,77,145,75,"content"],[128,84,145,82],[128,88,145,86],[128,90,145,88],[128,91,145,89],[129,8,146,6,"span"],[129,12,146,10],[129,13,146,11,"setAttributes"],[129,26,146,24],[129,27,146,25],[130,10,146,27],[130,11,146,28,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[130,31,146,58],[130,32,146,58,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[130,62,146,58],[130,65,146,61,"JSON"],[130,69,146,65],[130,70,146,66,"stringify"],[130,79,146,75],[130,80,146,76,"responseTexts"],[130,93,146,89],[131,8,146,91],[131,9,146,92],[131,10,146,93],[132,6,147,4],[133,4,148,2],[133,5,148,3],[133,11,148,9],[133,15,148,13],[133,19,148,13,"isResponsesApiResponse"],[133,27,148,35],[133,28,148,35,"isResponsesApiResponse"],[133,50,148,35],[133,52,148,36,"response"],[133,60,148,44],[133,61,148,45],[133,63,148,47],[134,6,149,4,"addResponsesApiAttributes"],[134,31,149,29],[134,32,149,30,"span"],[134,36,149,34],[134,38,149,36,"response"],[134,46,149,44],[134,48,149,46,"recordOutputs"],[134,61,149,59],[134,62,149,60],[135,6,150,4],[135,10,150,8,"recordOutputs"],[135,23,150,21],[135,27,150,25,"response"],[135,35,150,33],[135,36,150,34,"output_text"],[135,47,150,45],[135,49,150,47],[136,8,151,6,"span"],[136,12,151,10],[136,13,151,11,"setAttributes"],[136,26,151,24],[136,27,151,25],[137,10,151,27],[137,11,151,28,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[137,31,151,58],[137,32,151,58,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[137,62,151,58],[137,65,151,61,"response"],[137,73,151,69],[137,74,151,70,"output_text"],[138,8,151,82],[138,9,151,83],[138,10,151,84],[139,6,152,4],[140,4,153,2],[141,2,154,0],[143,2,156,0],[144,2,157,0],[144,11,157,9,"addRequestAttributes"],[144,31,157,29,"addRequestAttributes"],[144,32,157,30,"span"],[144,36,157,34],[144,38,157,36,"params"],[144,44,157,42],[144,46,157,44],[145,4,158,2],[145,8,158,6],[145,18,158,16],[145,22,158,20,"params"],[145,28,158,26],[145,30,158,28],[146,6,159,4,"span"],[146,10,159,8],[146,11,159,9,"setAttributes"],[146,24,159,22],[146,25,159,23],[147,8,159,25],[147,9,159,26,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[147,29,159,59],[147,30,159,59,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[147,63,159,59],[147,66,159,62,"JSON"],[147,70,159,66],[147,71,159,67,"stringify"],[147,80,159,76],[147,81,159,77,"params"],[147,87,159,83],[147,88,159,84,"messages"],[147,96,159,92],[148,6,159,94],[148,7,159,95],[148,8,159,96],[149,4,160,2],[150,4,161,2],[150,8,161,6],[150,15,161,13],[150,19,161,17,"params"],[150,25,161,23],[150,27,161,25],[151,6,162,4,"span"],[151,10,162,8],[151,11,162,9,"setAttributes"],[151,24,162,22],[151,25,162,23],[152,8,162,25],[152,9,162,26,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[152,29,162,59],[152,30,162,59,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[152,63,162,59],[152,66,162,62,"JSON"],[152,70,162,66],[152,71,162,67,"stringify"],[152,80,162,76],[152,81,162,77,"params"],[152,87,162,83],[152,88,162,84,"input"],[152,93,162,89],[153,6,162,91],[153,7,162,92],[153,8,162,93],[154,4,163,2],[155,2,164,0],[156,2,166,0],[156,11,166,9,"getOptionsFromIntegration"],[156,36,166,34,"getOptionsFromIntegration"],[156,37,166,34],[156,39,166,37],[157,4,167,2],[157,10,167,8,"scope"],[157,15,167,13],[157,18,167,16],[157,22,167,16,"getCurrentScope"],[157,38,167,31],[157,39,167,31,"getCurrentScope"],[157,54,167,31],[157,56,167,32],[157,57,167,33],[158,4,168,2],[158,10,168,8,"client"],[158,16,168,14],[158,19,168,17,"scope"],[158,24,168,22],[158,25,168,23,"getClient"],[158,34,168,32],[158,35,168,33],[158,36,168,34],[159,4,169,2],[159,10,169,8,"integration"],[159,21,169,19],[159,24,169,22,"client"],[159,30,169,28],[159,32,169,30,"getIntegrationByName"],[159,52,169,50],[159,53,169,51,"OPENAI_INTEGRATION_NAME"],[159,65,169,74],[159,66,169,74,"OPENAI_INTEGRATION_NAME"],[159,89,169,74],[159,90,169,75],[160,4,170,2],[160,10,170,8,"shouldRecordInputsAndOutputs"],[160,38,170,36],[160,41,170,39,"integration"],[160,52,170,50],[160,55,170,53,"Boolean"],[160,62,170,60],[160,63,170,61,"client"],[160,69,170,67],[160,71,170,69,"getOptions"],[160,81,170,79],[160,82,170,80],[160,83,170,81],[160,84,170,82,"sendDefaultPii"],[160,98,170,96],[160,99,170,97],[160,102,170,100],[160,107,170,105],[161,4,172,2],[161,11,172,9],[162,6,173,4,"recordInputs"],[162,18,173,16],[162,20,173,18,"integration"],[162,31,173,29],[162,33,173,31,"options"],[162,40,173,38],[162,42,173,40,"recordInputs"],[162,54,173,52],[162,58,173,56,"shouldRecordInputsAndOutputs"],[162,86,173,84],[163,6,174,4,"recordOutputs"],[163,19,174,17],[163,21,174,19,"integration"],[163,32,174,30],[163,34,174,32,"options"],[163,41,174,39],[163,43,174,41,"recordOutputs"],[163,56,174,54],[163,60,174,58,"shouldRecordInputsAndOutputs"],[164,4,175,2],[164,5,175,3],[165,2,176,0],[167,2,178,0],[168,0,179,0],[169,0,180,0],[170,0,181,0],[171,0,182,0],[172,2,183,0],[172,11,183,9,"instrumentMethod"],[172,27,183,25,"instrumentMethod"],[172,28,184,2,"originalMethod"],[172,42,184,16],[172,44,185,2,"methodPath"],[172,54,185,12],[172,56,186,2,"context"],[172,63,186,9],[172,65,187,2,"options"],[172,72,187,9],[172,74,188,2],[173,4,189,2],[173,11,189,9],[173,26,189,24,"instrumentedMethod"],[173,44,189,42,"instrumentedMethod"],[173,45,189,43],[173,48,189,46,"args"],[173,52,189,50],[173,54,189,52],[174,6,190,4],[174,12,190,10,"finalOptions"],[174,24,190,22],[174,27,190,25,"options"],[174,34,190,32],[174,38,190,36,"getOptionsFromIntegration"],[174,63,190,61],[174,64,190,62],[174,65,190,63],[175,6,191,4],[175,12,191,10,"requestAttributes"],[175,29,191,27],[175,32,191,30,"extractRequestAttributes"],[175,56,191,54],[175,57,191,55,"args"],[175,61,191,59],[175,63,191,61,"methodPath"],[175,73,191,71],[175,74,191,72],[176,6,192,4],[176,12,192,10,"model"],[176,17,192,15],[176,20,192,19,"requestAttributes"],[176,37,192,36],[176,38,192,37,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[176,58,192,67],[176,59,192,67,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[176,89,192,67],[176,90,192,68],[176,94,192,74],[176,103,192,83],[177,6,193,4],[177,12,193,10,"operationName"],[177,25,193,23],[177,28,193,26],[177,32,193,26,"getOperationName"],[177,40,193,42],[177,41,193,42,"getOperationName"],[177,57,193,42],[177,59,193,43,"methodPath"],[177,69,193,53],[177,70,193,54],[178,6,195,4],[178,12,195,10,"params"],[178,18,195,16],[178,21,195,19,"args"],[178,25,195,23],[178,26,195,24],[178,27,195,25],[178,28,195,26],[179,6,196,4],[179,12,196,10,"isStreamRequested"],[179,29,196,27],[179,32,196,30,"params"],[179,38,196,36],[179,42,196,40],[179,49,196,47,"params"],[179,55,196,53],[179,60,196,58],[179,68,196,66],[179,72,196,70,"params"],[179,78,196,76],[179,79,196,77,"stream"],[179,85,196,83],[179,90,196,88],[179,94,196,92],[180,6,198,4],[180,10,198,8,"isStreamRequested"],[180,27,198,25],[180,29,198,27],[181,8,199,6],[182,8,200,6],[182,15,200,13],[182,19,200,13,"startSpanManual"],[182,34,200,28],[182,35,200,28,"startSpanManual"],[182,50,200,28],[182,52,201,8],[183,10,202,10,"name"],[183,14,202,14],[183,16,202,16],[183,19,202,19,"operationName"],[183,32,202,32],[183,36,202,36,"model"],[183,41,202,41],[183,59,202,59],[184,10,203,10,"op"],[184,12,203,12],[184,14,203,14],[184,18,203,14,"getSpanOperation"],[184,26,203,30],[184,27,203,30,"getSpanOperation"],[184,43,203,30],[184,45,203,31,"methodPath"],[184,55,203,41],[184,56,203,42],[185,10,204,10,"attributes"],[185,20,204,20],[185,22,204,22,"requestAttributes"],[186,8,205,8],[186,9,205,9],[186,11,206,8],[186,17,206,15,"span"],[186,21,206,19],[186,25,206,24],[187,10,207,10],[187,14,207,14],[188,12,208,12],[188,16,208,16,"finalOptions"],[188,28,208,28],[188,29,208,29,"recordInputs"],[188,41,208,41],[188,45,208,45,"args"],[188,49,208,49],[188,50,208,50],[188,51,208,51],[188,52,208,52],[188,56,208,56],[188,63,208,63,"args"],[188,67,208,67],[188,68,208,68],[188,69,208,69],[188,70,208,70],[188,75,208,75],[188,83,208,83],[188,85,208,85],[189,14,209,14,"addRequestAttributes"],[189,34,209,34],[189,35,209,35,"span"],[189,39,209,39],[189,41,209,41,"args"],[189,45,209,45],[189,46,209,46],[189,47,209,47],[189,48,209,49],[189,49,209,50],[190,12,210,12],[191,12,212,12],[191,18,212,18,"result"],[191,24,212,24],[191,27,212,27],[191,33,212,33,"originalMethod"],[191,47,212,47],[191,48,212,48,"apply"],[191,53,212,53],[191,54,212,54,"context"],[191,61,212,61],[191,63,212,63,"args"],[191,67,212,67],[191,68,212,68],[192,12,214,12],[192,19,214,19],[192,23,214,19,"instrumentStream"],[192,35,214,35],[192,36,214,35,"instrumentStream"],[192,52,214,35],[192,54,215,14,"result"],[192,60,215,20],[192,62,216,14,"span"],[192,66,216,18],[192,68,217,14,"finalOptions"],[192,80,217,26],[192,81,217,27,"recordOutputs"],[192,94,217,40],[192,98,217,44],[192,103,218,12],[192,104,218,13],[193,10,219,10],[193,11,219,11],[193,12,219,12],[193,19,219,19,"error"],[193,24,219,24],[193,26,219,26],[194,12,220,12],[195,12,221,12],[196,12,222,12,"span"],[196,16,222,16],[196,17,222,17,"setStatus"],[196,26,222,26],[196,27,222,27],[197,14,222,29,"code"],[197,18,222,33],[197,20,222,35,"SPAN_STATUS_ERROR"],[197,40,222,52],[197,41,222,52,"SPAN_STATUS_ERROR"],[197,58,222,52],[198,14,222,54,"message"],[198,21,222,61],[198,23,222,63],[199,12,222,80],[199,13,222,81],[199,14,222,82],[200,12,223,12],[200,16,223,12,"captureException"],[200,26,223,28],[200,27,223,28,"captureException"],[200,43,223,28],[200,45,223,29,"error"],[200,50,223,34],[200,52,223,36],[201,14,224,14,"mechanism"],[201,23,224,23],[201,25,224,25],[202,16,225,16,"handled"],[202,23,225,23],[202,25,225,25],[202,30,225,30],[203,16,226,16,"type"],[203,20,226,20],[203,22,226,22],[203,45,226,45],[204,16,227,16,"data"],[204,20,227,20],[204,22,227,22],[205,18,228,18,"function"],[205,26,228,26],[205,28,228,28,"methodPath"],[206,16,229,16],[207,14,230,14],[208,12,231,12],[208,13,231,13],[208,14,231,14],[209,12,232,12,"span"],[209,16,232,16],[209,17,232,17,"end"],[209,20,232,20],[209,21,232,21],[209,22,232,22],[210,12,233,12],[210,18,233,18,"error"],[210,23,233,23],[211,10,234,10],[212,8,235,8],[212,9,236,6],[212,10,236,7],[213,6,237,4],[213,7,237,5],[213,13,237,11],[214,8,238,6],[215,8,239,6],[215,15,239,13],[215,19,239,13,"startSpan"],[215,34,239,22],[215,35,239,22,"startSpan"],[215,44,239,22],[215,46,240,8],[216,10,241,10,"name"],[216,14,241,14],[216,16,241,16],[216,19,241,19,"operationName"],[216,32,241,32],[216,36,241,36,"model"],[216,41,241,41],[216,43,241,43],[217,10,242,10,"op"],[217,12,242,12],[217,14,242,14],[217,18,242,14,"getSpanOperation"],[217,26,242,30],[217,27,242,30,"getSpanOperation"],[217,43,242,30],[217,45,242,31,"methodPath"],[217,55,242,41],[217,56,242,42],[218,10,243,10,"attributes"],[218,20,243,20],[218,22,243,22,"requestAttributes"],[219,8,244,8],[219,9,244,9],[219,11,245,8],[219,17,245,15,"span"],[219,21,245,19],[219,25,245,24],[220,10,246,10],[220,14,246,14],[221,12,247,12],[221,16,247,16,"finalOptions"],[221,28,247,28],[221,29,247,29,"recordInputs"],[221,41,247,41],[221,45,247,45,"args"],[221,49,247,49],[221,50,247,50],[221,51,247,51],[221,52,247,52],[221,56,247,56],[221,63,247,63,"args"],[221,67,247,67],[221,68,247,68],[221,69,247,69],[221,70,247,70],[221,75,247,75],[221,83,247,83],[221,85,247,85],[222,14,248,14,"addRequestAttributes"],[222,34,248,34],[222,35,248,35,"span"],[222,39,248,39],[222,41,248,41,"args"],[222,45,248,45],[222,46,248,46],[222,47,248,47],[222,48,248,49],[222,49,248,50],[223,12,249,12],[224,12,251,12],[224,18,251,18,"result"],[224,24,251,24],[224,27,251,27],[224,33,251,33,"originalMethod"],[224,47,251,47],[224,48,251,48,"apply"],[224,53,251,53],[224,54,251,54,"context"],[224,61,251,61],[224,63,251,63,"args"],[224,67,251,67],[224,68,251,68],[225,12,252,12,"addResponseAttributes"],[225,33,252,33],[225,34,252,34,"span"],[225,38,252,38],[225,40,252,40,"result"],[225,46,252,46],[225,48,252,48,"finalOptions"],[225,60,252,60],[225,61,252,61,"recordOutputs"],[225,74,252,74],[225,75,252,75],[226,12,253,12],[226,19,253,19,"result"],[226,25,253,25],[227,10,254,10],[227,11,254,11],[227,12,254,12],[227,19,254,19,"error"],[227,24,254,24],[227,26,254,26],[228,12,255,12],[228,16,255,12,"captureException"],[228,26,255,28],[228,27,255,28,"captureException"],[228,43,255,28],[228,45,255,29,"error"],[228,50,255,34],[228,52,255,36],[229,14,256,14,"mechanism"],[229,23,256,23],[229,25,256,25],[230,16,257,16,"handled"],[230,23,257,23],[230,25,257,25],[230,30,257,30],[231,16,258,16,"type"],[231,20,258,20],[231,22,258,22],[231,38,258,38],[232,16,259,16,"data"],[232,20,259,20],[232,22,259,22],[233,18,260,18,"function"],[233,26,260,26],[233,28,260,28,"methodPath"],[234,16,261,16],[235,14,262,14],[236,12,263,12],[236,13,263,13],[236,14,263,14],[237,12,264,12],[237,18,264,18,"error"],[237,23,264,23],[238,10,265,10],[239,8,266,8],[239,9,267,6],[239,10,267,7],[240,6,268,4],[241,4,269,2],[241,5,269,3],[242,2,270,0],[244,2,272,0],[245,0,273,0],[246,0,274,0],[247,2,275,0],[247,11,275,9,"createDeepProxy"],[247,26,275,24,"createDeepProxy"],[247,27,275,25,"target"],[247,33,275,31],[247,35,275,33,"currentPath"],[247,46,275,44],[247,49,275,47],[247,51,275,49],[247,53,275,51,"options"],[247,60,275,58],[247,62,275,60],[248,4,276,2],[248,11,276,9],[248,15,276,13,"Proxy"],[248,20,276,18],[248,21,276,19,"target"],[248,27,276,25],[248,29,276,27],[249,6,277,4,"get"],[249,9,277,7,"get"],[249,10,277,8,"obj"],[249,13,277,11],[249,15,277,13,"prop"],[249,19,277,17],[249,21,277,19],[250,8,278,6],[250,14,278,12,"value"],[250,19,278,17],[250,22,278,21,"obj"],[250,25,278,24],[250,26,278,27,"prop"],[250,30,278,31],[250,31,278,32],[251,8,279,6],[251,14,279,12,"methodPath"],[251,24,279,22],[251,27,279,25],[251,31,279,25,"buildMethodPath"],[251,39,279,40],[251,40,279,40,"buildMethodPath"],[251,55,279,40],[251,57,279,41,"currentPath"],[251,68,279,52],[251,70,279,54,"String"],[251,76,279,60],[251,77,279,61,"prop"],[251,81,279,65],[251,82,279,66],[251,83,279,67],[252,8,281,6],[252,12,281,10],[252,19,281,17,"value"],[252,24,281,22],[252,29,281,27],[252,39,281,37],[252,43,281,41],[252,47,281,41,"shouldInstrument"],[252,55,281,57],[252,56,281,57,"shouldInstrument"],[252,72,281,57],[252,74,281,58,"methodPath"],[252,84,281,68],[252,85,281,69],[252,87,281,71],[253,10,282,8],[253,17,282,15,"instrumentMethod"],[253,33,282,31],[253,34,282,32,"value"],[253,39,282,37],[253,41,282,40,"methodPath"],[253,51,282,50],[253,53,282,52,"obj"],[253,56,282,55],[253,58,282,57,"options"],[253,65,282,64],[253,66,282,65],[254,8,283,6],[255,8,285,6],[255,12,285,10],[255,19,285,17,"value"],[255,24,285,22],[255,29,285,27],[255,39,285,37],[255,41,285,39],[256,10,286,8],[257,10,287,8],[258,10,288,8],[258,17,288,15,"value"],[258,22,288,20],[258,23,288,21,"bind"],[258,27,288,25],[258,28,288,26,"obj"],[258,31,288,29],[258,32,288,30],[259,8,289,6],[260,8,291,6],[260,12,291,10,"value"],[260,17,291,15],[260,21,291,19],[260,28,291,26,"value"],[260,33,291,31],[260,38,291,36],[260,46,291,44],[260,48,291,46],[261,10,292,8],[261,17,292,15,"createDeepProxy"],[261,32,292,30],[261,33,292,31,"value"],[261,38,292,36],[261,40,292,39,"methodPath"],[261,50,292,49],[261,52,292,51,"options"],[261,59,292,58],[261,60,292,59],[262,8,293,6],[263,8,295,6],[263,15,295,13,"value"],[263,20,295,18],[264,6,296,4],[265,4,297,2],[265,5,297,3],[265,6,297,4],[266,2,298,0],[268,2,300,0],[269,0,301,0],[270,0,302,0],[271,0,303,0],[272,2,304,0],[272,11,304,9,"instrumentOpenAiClient"],[272,33,304,31,"instrumentOpenAiClient"],[272,34,304,32,"client"],[272,40,304,38],[272,42,304,40,"options"],[272,49,304,47],[272,51,304,49],[273,4,305,2],[273,11,305,9,"createDeepProxy"],[273,26,305,24],[273,27,305,25,"client"],[273,33,305,31],[273,35,305,33],[273,37,305,35],[273,39,305,37,"options"],[273,46,305,44],[273,47,305,45],[274,2,306,0],[275,0,306,1],[275,3]],"functionMap":{"names":["<global>","extractRequestAttributes","addChatCompletionAttributes","response.choices.map$argument_0","response.choices.map.filter$argument_0","addResponsesApiAttributes","responseWithOutput.output.filter$argument_0","addResponseAttributes","addRequestAttributes","getOptionsFromIntegration","instrumentMethod","instrumentedMethod","startSpanManual$argument_1","startSpan$argument_1","createDeepProxy","Proxy$argument_1.get","instrumentOpenAiClient"],"mappings":"AAA;ACa;CDwC;AEK;WCY,8BD;cEC,2BF;aCU,oCD;gBEC,iDF;CFU;AKK;QCsB;uFDC;CLU;AOM;iDJQ,uCI;CPS;AQG;CRO;ASE;CTU;AUO;SCM;QCiB;SD6B;QEU;SFqB;GDG;CVC;AcK;ICE;KDmB;CdE;AgBM;ChBE"},"hasCjsExports":false},"type":"js/module"}]}