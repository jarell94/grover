{"dependencies":[{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":681},"end":{"line":10,"column":36,"index":717}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"screenshotIntegration\", {\n    enumerable: true,\n    get: function () {\n      return screenshotIntegration;\n    }\n  });\n  var _wrapper = require(_dependencyMap[0], \"../wrapper\");\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  const INTEGRATION_NAME = 'Screenshot';\n  /** Adds screenshots to error events */\n  const screenshotIntegration = () => {\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce: () => {\n        // noop\n      },\n      processEvent\n    };\n  };\n  function processEvent(event, hint, client) {\n    var _a, _b, _c;\n    return __awaiter(this, void 0, void 0, function* () {\n      const hasException = ((_a = event.exception) === null || _a === void 0 ? void 0 : _a.values) && event.exception.values.length > 0;\n      if (!hasException || ((_c = (_b = client.getOptions()).beforeScreenshot) === null || _c === void 0 ? void 0 : _c.call(_b, event, hint)) === false) {\n        return event;\n      }\n      const screenshots = yield _wrapper.NATIVE.captureScreenshot();\n      if (screenshots && screenshots.length > 0) {\n        hint.attachments = [...screenshots, ...((hint === null || hint === void 0 ? void 0 : hint.attachments) || [])];\n      }\n      return event;\n    });\n  }\n});","lineCount":66,"map":[[7,2,13,0,"Object"],[7,8,13,0],[7,9,13,0,"defineProperty"],[7,23,13,0],[7,24,13,0,"exports"],[7,31,13,0],[8,4,13,0,"enumerable"],[8,14,13,0],[9,4,13,0,"get"],[9,7,13,0],[9,18,13,0,"get"],[9,19,13,0],[10,6,13,0],[10,13,13,0,"screenshotIntegration"],[10,34,13,0],[11,4,13,0],[12,2,13,0],[13,2,10,0],[13,6,10,0,"_wrapper"],[13,14,10,0],[13,17,10,0,"require"],[13,24,10,0],[13,25,10,0,"_dependencyMap"],[13,39,10,0],[14,2,1,0],[14,6,1,4,"__awaiter"],[14,15,1,13],[14,18,1,17],[14,22,1,21],[14,26,1,25],[14,30,1,29],[14,31,1,30,"__awaiter"],[14,40,1,39],[14,44,1,44],[14,54,1,54,"thisArg"],[14,61,1,61],[14,63,1,63,"_arguments"],[14,73,1,73],[14,75,1,75,"P"],[14,76,1,76],[14,78,1,78,"generator"],[14,87,1,87],[14,89,1,89],[15,4,2,4],[15,13,2,13,"adopt"],[15,18,2,18,"adopt"],[15,19,2,19,"value"],[15,24,2,24],[15,26,2,26],[16,6,2,28],[16,13,2,35,"value"],[16,18,2,40],[16,30,2,52,"P"],[16,31,2,53],[16,34,2,56,"value"],[16,39,2,61],[16,42,2,64],[16,46,2,68,"P"],[16,47,2,69],[16,48,2,70],[16,58,2,80,"resolve"],[16,65,2,87],[16,67,2,89],[17,8,2,91,"resolve"],[17,15,2,98],[17,16,2,99,"value"],[17,21,2,104],[17,22,2,105],[18,6,2,107],[18,7,2,108],[18,8,2,109],[19,4,2,111],[20,4,3,4],[20,11,3,11],[20,16,3,16,"P"],[20,17,3,17],[20,22,3,22,"P"],[20,23,3,23],[20,26,3,26,"Promise"],[20,33,3,33],[20,34,3,34],[20,36,3,36],[20,46,3,46,"resolve"],[20,53,3,53],[20,55,3,55,"reject"],[20,61,3,61],[20,63,3,63],[21,6,4,8],[21,15,4,17,"fulfilled"],[21,24,4,26,"fulfilled"],[21,25,4,27,"value"],[21,30,4,32],[21,32,4,34],[22,8,4,36],[22,12,4,40],[23,10,4,42,"step"],[23,14,4,46],[23,15,4,47,"generator"],[23,24,4,56],[23,25,4,57,"next"],[23,29,4,61],[23,30,4,62,"value"],[23,35,4,67],[23,36,4,68],[23,37,4,69],[24,8,4,71],[24,9,4,72],[24,10,4,73],[24,17,4,80,"e"],[24,18,4,81],[24,20,4,83],[25,10,4,85,"reject"],[25,16,4,91],[25,17,4,92,"e"],[25,18,4,93],[25,19,4,94],[26,8,4,96],[27,6,4,98],[28,6,5,8],[28,15,5,17,"rejected"],[28,23,5,25,"rejected"],[28,24,5,26,"value"],[28,29,5,31],[28,31,5,33],[29,8,5,35],[29,12,5,39],[30,10,5,41,"step"],[30,14,5,45],[30,15,5,46,"generator"],[30,24,5,55],[30,25,5,56],[30,32,5,63],[30,33,5,64],[30,34,5,65,"value"],[30,39,5,70],[30,40,5,71],[30,41,5,72],[31,8,5,74],[31,9,5,75],[31,10,5,76],[31,17,5,83,"e"],[31,18,5,84],[31,20,5,86],[32,10,5,88,"reject"],[32,16,5,94],[32,17,5,95,"e"],[32,18,5,96],[32,19,5,97],[33,8,5,99],[34,6,5,101],[35,6,6,8],[35,15,6,17,"step"],[35,19,6,21,"step"],[35,20,6,22,"result"],[35,26,6,28],[35,28,6,30],[36,8,6,32,"result"],[36,14,6,38],[36,15,6,39,"done"],[36,19,6,43],[36,22,6,46,"resolve"],[36,29,6,53],[36,30,6,54,"result"],[36,36,6,60],[36,37,6,61,"value"],[36,42,6,66],[36,43,6,67],[36,46,6,70,"adopt"],[36,51,6,75],[36,52,6,76,"result"],[36,58,6,82],[36,59,6,83,"value"],[36,64,6,88],[36,65,6,89],[36,66,6,90,"then"],[36,70,6,94],[36,71,6,95,"fulfilled"],[36,80,6,104],[36,82,6,106,"rejected"],[36,90,6,114],[36,91,6,115],[37,6,6,117],[38,6,7,8,"step"],[38,10,7,12],[38,11,7,13],[38,12,7,14,"generator"],[38,21,7,23],[38,24,7,26,"generator"],[38,33,7,35],[38,34,7,36,"apply"],[38,39,7,41],[38,40,7,42,"thisArg"],[38,47,7,49],[38,49,7,51,"_arguments"],[38,59,7,61],[38,63,7,65],[38,65,7,67],[38,66,7,68],[38,68,7,70,"next"],[38,72,7,74],[38,73,7,75],[38,74,7,76],[38,75,7,77],[39,4,8,4],[39,5,8,5],[39,6,8,6],[40,2,9,0],[40,3,9,1],[41,2,11,0],[41,8,11,6,"INTEGRATION_NAME"],[41,24,11,22],[41,27,11,25],[41,39,11,37],[42,2,12,0],[43,2,13,7],[43,8,13,13,"screenshotIntegration"],[43,29,13,34],[43,32,13,37,"screenshotIntegration"],[43,33,13,37],[43,38,13,43],[44,4,14,4],[44,11,14,11],[45,6,15,8,"name"],[45,10,15,12],[45,12,15,14,"INTEGRATION_NAME"],[45,28,15,30],[46,6,16,8,"setupOnce"],[46,15,16,17],[46,17,16,19,"setupOnce"],[46,18,16,19],[46,23,16,25],[47,8,17,12],[48,6,17,12],[48,7,18,9],[49,6,19,8,"processEvent"],[50,4,20,4],[50,5,20,5],[51,2,21,0],[51,3,21,1],[52,2,22,0],[52,11,22,9,"processEvent"],[52,23,22,21,"processEvent"],[52,24,22,22,"event"],[52,29,22,27],[52,31,22,29,"hint"],[52,35,22,33],[52,37,22,35,"client"],[52,43,22,41],[52,45,22,43],[53,4,23,4],[53,8,23,8,"_a"],[53,10,23,10],[53,12,23,12,"_b"],[53,14,23,14],[53,16,23,16,"_c"],[53,18,23,18],[54,4,24,4],[54,11,24,11,"__awaiter"],[54,20,24,20],[54,21,24,21],[54,25,24,25],[54,27,24,27],[54,32,24,32],[54,33,24,33],[54,35,24,35],[54,40,24,40],[54,41,24,41],[54,43,24,43],[54,56,24,56],[55,6,25,8],[55,12,25,14,"hasException"],[55,24,25,26],[55,27,25,29],[55,28,25,30],[55,29,25,31,"_a"],[55,31,25,33],[55,34,25,36,"event"],[55,39,25,41],[55,40,25,42,"exception"],[55,49,25,51],[55,55,25,57],[55,59,25,61],[55,63,25,65,"_a"],[55,65,25,67],[55,70,25,72],[55,75,25,77],[55,76,25,78],[55,79,25,81],[55,84,25,86],[55,85,25,87],[55,88,25,90,"_a"],[55,90,25,92],[55,91,25,93,"values"],[55,97,25,99],[55,102,25,104,"event"],[55,107,25,109],[55,108,25,110,"exception"],[55,117,25,119],[55,118,25,120,"values"],[55,124,25,126],[55,125,25,127,"length"],[55,131,25,133],[55,134,25,136],[55,135,25,137],[56,6,26,8],[56,10,26,12],[56,11,26,13,"hasException"],[56,23,26,25],[56,27,26,29],[56,28,26,30],[56,29,26,31,"_c"],[56,31,26,33],[56,34,26,36],[56,35,26,37,"_b"],[56,37,26,39],[56,40,26,42,"client"],[56,46,26,48],[56,47,26,49,"getOptions"],[56,57,26,59],[56,58,26,60],[56,59,26,61],[56,61,26,63,"beforeScreenshot"],[56,77,26,79],[56,83,26,85],[56,87,26,89],[56,91,26,93,"_c"],[56,93,26,95],[56,98,26,100],[56,103,26,105],[56,104,26,106],[56,107,26,109],[56,112,26,114],[56,113,26,115],[56,116,26,118,"_c"],[56,118,26,120],[56,119,26,121,"call"],[56,123,26,125],[56,124,26,126,"_b"],[56,126,26,128],[56,128,26,130,"event"],[56,133,26,135],[56,135,26,137,"hint"],[56,139,26,141],[56,140,26,142],[56,146,26,148],[56,151,26,153],[56,153,26,155],[57,8,27,12],[57,15,27,19,"event"],[57,20,27,24],[58,6,28,8],[59,6,29,8],[59,12,29,14,"screenshots"],[59,23,29,25],[59,26,29,28],[59,32,29,34,"NATIVE"],[59,40,29,40],[59,41,29,40,"NATIVE"],[59,47,29,40],[59,48,29,41,"captureScreenshot"],[59,65,29,58],[59,66,29,59],[59,67,29,60],[60,6,30,8],[60,10,30,12,"screenshots"],[60,21,30,23],[60,25,30,27,"screenshots"],[60,36,30,38],[60,37,30,39,"length"],[60,43,30,45],[60,46,30,48],[60,47,30,49],[60,49,30,51],[61,8,31,12,"hint"],[61,12,31,16],[61,13,31,17,"attachments"],[61,24,31,28],[61,27,31,31],[61,28,31,32],[61,31,31,35,"screenshots"],[61,42,31,46],[61,44,31,48],[61,48,31,52],[61,49,31,53,"hint"],[61,53,31,57],[61,58,31,62],[61,62,31,66],[61,66,31,70,"hint"],[61,70,31,74],[61,75,31,79],[61,80,31,84],[61,81,31,85],[61,84,31,88],[61,89,31,93],[61,90,31,94],[61,93,31,97,"hint"],[61,97,31,101],[61,98,31,102,"attachments"],[61,109,31,113],[61,114,31,118],[61,116,31,120],[61,117,31,121],[61,118,31,122],[62,6,32,8],[63,6,33,8],[63,13,33,15,"event"],[63,18,33,20],[64,4,34,4],[64,5,34,5],[64,6,34,6],[65,2,35,0],[66,0,35,1],[66,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","screenshotIntegration","setupOnce","processEvent","__awaiter$argument_3"],"mappings":"AAA,4CC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;qCOI;mBCG;SDE;CPG;ASC;2CCE;KDU;CTC"},"hasCjsExports":false},"type":"js/module"}]}