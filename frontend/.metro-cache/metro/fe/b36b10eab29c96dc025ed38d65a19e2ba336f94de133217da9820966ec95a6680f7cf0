{"dependencies":[{"name":"../debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"rfhktnzi6PvZxT1xtyHWbBktN/w=","exportNames":["*"],"imports":1}},{"name":"../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":131,"index":180}}],"key":"Ovsn9ORXEwSazI36ru//KBDD8LQ=","exportNames":["*"],"imports":1}},{"name":"../utils/debug-logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":181},"end":{"line":3,"column":49,"index":230}}],"key":"bptn1GZFOkS4BOMU8jhPqqHmvAc=","exportNames":["*"],"imports":1}},{"name":"../utils/spanUtils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":231},"end":{"line":4,"column":67,"index":298}}],"key":"UzLeGx1bDOwqjtebNy27AzwV/PI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"setMeasurement\", {\n    enumerable: true,\n    get: function () {\n      return setMeasurement;\n    }\n  });\n  Object.defineProperty(exports, \"timedEventsToMeasurements\", {\n    enumerable: true,\n    get: function () {\n      return timedEventsToMeasurements;\n    }\n  });\n  var _debugBuildJs = require(_dependencyMap[0], \"../debug-build.js\");\n  var _semanticAttributesJs = require(_dependencyMap[1], \"../semanticAttributes.js\");\n  var _utilsDebugLoggerJs = require(_dependencyMap[2], \"../utils/debug-logger.js\");\n  var _utilsSpanUtilsJs = require(_dependencyMap[3], \"../utils/spanUtils.js\");\n  /**\n   * Adds a measurement to the active transaction on the current global scope. You can optionally pass in a different span\n   * as the 4th parameter.\n   */\n  function setMeasurement(name, value, unit, activeSpan = (0, _utilsSpanUtilsJs.getActiveSpan)()) {\n    const rootSpan = activeSpan && (0, _utilsSpanUtilsJs.getRootSpan)(activeSpan);\n    if (rootSpan) {\n      _debugBuildJs.DEBUG_BUILD && _utilsDebugLoggerJs.debug.log(`[Measurement] Setting measurement on root span: ${name} = ${value} ${unit}`);\n      rootSpan.addEvent(name, {\n        [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]: value,\n        [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]: unit\n      });\n    }\n  }\n\n  /**\n   * Convert timed events to measurements.\n   */\n  function timedEventsToMeasurements(events) {\n    if (!events || events.length === 0) {\n      return undefined;\n    }\n    const measurements = {};\n    events.forEach(event => {\n      const attributes = event.attributes || {};\n      const unit = attributes[_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT];\n      const value = attributes[_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];\n      if (typeof unit === 'string' && typeof value === 'number') {\n        measurements[event.name] = {\n          value,\n          unit\n        };\n      }\n    });\n    return measurements;\n  }\n});","lineCount":59,"map":[[7,2,44,0,"Object"],[7,8,44,0],[7,9,44,0,"defineProperty"],[7,23,44,0],[7,24,44,0,"exports"],[7,31,44,0],[8,4,44,0,"enumerable"],[8,14,44,0],[9,4,44,0,"get"],[9,7,44,0],[9,18,44,0,"get"],[9,19,44,0],[10,6,44,0],[10,13,44,9,"setMeasurement"],[10,27,44,23],[11,4,44,23],[12,2,44,23],[13,2,44,0,"Object"],[13,8,44,0],[13,9,44,0,"defineProperty"],[13,23,44,0],[13,24,44,0,"exports"],[13,31,44,0],[14,4,44,0,"enumerable"],[14,14,44,0],[15,4,44,0,"get"],[15,7,44,0],[15,18,44,0,"get"],[15,19,44,0],[16,6,44,0],[16,13,44,25,"timedEventsToMeasurements"],[16,38,44,50],[17,4,44,50],[18,2,44,50],[19,2,1,0],[19,6,1,0,"_debugBuildJs"],[19,19,1,0],[19,22,1,0,"require"],[19,29,1,0],[19,30,1,0,"_dependencyMap"],[19,44,1,0],[20,2,2,0],[20,6,2,0,"_semanticAttributesJs"],[20,27,2,0],[20,30,2,0,"require"],[20,37,2,0],[20,38,2,0,"_dependencyMap"],[20,52,2,0],[21,2,3,0],[21,6,3,0,"_utilsDebugLoggerJs"],[21,25,3,0],[21,28,3,0,"require"],[21,35,3,0],[21,36,3,0,"_dependencyMap"],[21,50,3,0],[22,2,4,0],[22,6,4,0,"_utilsSpanUtilsJs"],[22,23,4,0],[22,26,4,0,"require"],[22,33,4,0],[22,34,4,0,"_dependencyMap"],[22,48,4,0],[23,2,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,2,10,0],[27,11,10,9,"setMeasurement"],[27,25,10,23,"setMeasurement"],[27,26,10,24,"name"],[27,30,10,28],[27,32,10,30,"value"],[27,37,10,35],[27,39,10,37,"unit"],[27,43,10,41],[27,45,10,43,"activeSpan"],[27,55,10,53],[27,58,10,56],[27,62,10,56,"getActiveSpan"],[27,79,10,69],[27,80,10,69,"getActiveSpan"],[27,93,10,69],[27,95,10,70],[27,96,10,71],[27,98,10,73],[28,4,11,2],[28,10,11,8,"rootSpan"],[28,18,11,16],[28,21,11,19,"activeSpan"],[28,31,11,29],[28,35,11,33],[28,39,11,33,"getRootSpan"],[28,56,11,44],[28,57,11,44,"getRootSpan"],[28,68,11,44],[28,70,11,45,"activeSpan"],[28,80,11,55],[28,81,11,56],[29,4,13,2],[29,8,13,6,"rootSpan"],[29,16,13,14],[29,18,13,16],[30,6,14,4,"DEBUG_BUILD"],[30,19,14,15],[30,20,14,15,"DEBUG_BUILD"],[30,31,14,15],[30,35,14,19,"debug"],[30,54,14,24],[30,55,14,24,"debug"],[30,60,14,24],[30,61,14,25,"log"],[30,64,14,28],[30,65,14,29],[30,116,14,80,"name"],[30,120,14,84],[30,126,14,90,"value"],[30,131,14,95],[30,135,14,99,"unit"],[30,139,14,103],[30,141,14,105],[30,142,14,106],[31,6,15,4,"rootSpan"],[31,14,15,12],[31,15,15,13,"addEvent"],[31,23,15,21],[31,24,15,22,"name"],[31,28,15,26],[31,30,15,28],[32,8,16,6],[32,9,16,7,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[32,30,16,50],[32,31,16,50,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[32,74,16,50],[32,77,16,53,"value"],[32,82,16,58],[33,8,17,6],[33,9,17,7,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[33,30,17,49],[33,31,17,49,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[33,73,17,49],[33,76,17,52,"unit"],[34,6,18,4],[34,7,18,5],[34,8,18,6],[35,4,19,2],[36,2,20,0],[38,2,22,0],[39,0,23,0],[40,0,24,0],[41,2,25,0],[41,11,25,9,"timedEventsToMeasurements"],[41,36,25,34,"timedEventsToMeasurements"],[41,37,25,35,"events"],[41,43,25,41],[41,45,25,43],[42,4,26,2],[42,8,26,6],[42,9,26,7,"events"],[42,15,26,13],[42,19,26,17,"events"],[42,25,26,23],[42,26,26,24,"length"],[42,32,26,30],[42,37,26,35],[42,38,26,36],[42,40,26,38],[43,6,27,4],[43,13,27,11,"undefined"],[43,22,27,20],[44,4,28,2],[45,4,30,2],[45,10,30,8,"measurements"],[45,22,30,20],[45,25,30,23],[45,26,30,24],[45,27,30,25],[46,4,31,2,"events"],[46,10,31,8],[46,11,31,9,"forEach"],[46,18,31,16],[46,19,31,17,"event"],[46,24,31,22],[46,28,31,26],[47,6,32,4],[47,12,32,10,"attributes"],[47,22,32,20],[47,25,32,23,"event"],[47,30,32,28],[47,31,32,29,"attributes"],[47,41,32,39],[47,45,32,43],[47,46,32,44],[47,47,32,45],[48,6,33,4],[48,12,33,10,"unit"],[48,16,33,14],[48,19,33,17,"attributes"],[48,29,33,27],[48,30,33,28,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[48,51,33,70],[48,52,33,70,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT"],[48,94,33,70],[48,95,33,71],[49,6,34,4],[49,12,34,10,"value"],[49,17,34,15],[49,20,34,18,"attributes"],[49,30,34,28],[49,31,34,29,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[49,52,34,72],[49,53,34,72,"SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE"],[49,96,34,72],[49,97,34,73],[50,6,36,4],[50,10,36,8],[50,17,36,15,"unit"],[50,21,36,19],[50,26,36,24],[50,34,36,32],[50,38,36,36],[50,45,36,43,"value"],[50,50,36,48],[50,55,36,53],[50,63,36,61],[50,65,36,63],[51,8,37,6,"measurements"],[51,20,37,18],[51,21,37,19,"event"],[51,26,37,24],[51,27,37,25,"name"],[51,31,37,29],[51,32,37,30],[51,35,37,33],[52,10,37,35,"value"],[52,15,37,40],[53,10,37,42,"unit"],[54,8,37,47],[54,9,37,48],[55,6,38,4],[56,4,39,2],[56,5,39,3],[56,6,39,4],[57,4,41,2],[57,11,41,9,"measurements"],[57,23,41,21],[58,2,42,0],[59,0,42,1],[59,3]],"functionMap":{"names":["<global>","setMeasurement","timedEventsToMeasurements","events.forEach$argument_0"],"mappings":"AAA;ACS;CDU;AEK;iBCM;GDQ;CFG"},"hasCjsExports":false},"type":"js/module"}]}