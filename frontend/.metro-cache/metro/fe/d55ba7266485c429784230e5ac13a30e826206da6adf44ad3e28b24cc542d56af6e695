{"dependencies":[{"name":"../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"4IMzW1L9FGOQbFYVibN4P3pVG0E=","exportNames":["*"],"imports":1}},{"name":"../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":60},"end":{"line":2,"column":65,"index":125}}],"key":"PyiI6yM07W7J+gN2cHiTPsTCV4c=","exportNames":["*"],"imports":1}},{"name":"../instrument/console.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":76,"index":202}}],"key":"mF9BzpGjRI9MEeXaI3fN4hpukgo=","exportNames":["*"],"imports":1}},{"name":"../integration.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":203},"end":{"line":4,"column":54,"index":257}}],"key":"B8aKvpmafw58aWtupuC7GWTMiwo=","exportNames":["*"],"imports":1}},{"name":"../utils/debug-logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":258},"end":{"line":5,"column":58,"index":316}}],"key":"bptn1GZFOkS4BOMU8jhPqqHmvAc=","exportNames":["*"],"imports":1}},{"name":"../utils/misc.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":317},"end":{"line":6,"column":57,"index":374}}],"key":"k0C+0ymNRwyO20/vsxl2n7srIEY=","exportNames":["*"],"imports":1}},{"name":"../utils/severity.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":375},"end":{"line":7,"column":63,"index":438}}],"key":"bM6xP+waOuKu/MRFtZ++FJqpEPg=","exportNames":["*"],"imports":1}},{"name":"../utils/string.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":439},"end":{"line":8,"column":46,"index":485}}],"key":"TOLHLvcm9bKbk8t+hoSWk6MQRNY=","exportNames":["*"],"imports":1}},{"name":"../utils/worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":486},"end":{"line":9,"column":51,"index":537}}],"key":"P+UFfr1ne09dGLmc90iZCFaYonQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"captureConsoleIntegration\", {\n    enumerable: true,\n    get: function () {\n      return captureConsoleIntegration;\n    }\n  });\n  var _currentScopesJs = require(_dependencyMap[0], \"../currentScopes.js\");\n  var _exportsJs = require(_dependencyMap[1], \"../exports.js\");\n  var _instrumentConsoleJs = require(_dependencyMap[2], \"../instrument/console.js\");\n  var _integrationJs = require(_dependencyMap[3], \"../integration.js\");\n  var _utilsDebugLoggerJs = require(_dependencyMap[4], \"../utils/debug-logger.js\");\n  var _utilsMiscJs = require(_dependencyMap[5], \"../utils/misc.js\");\n  var _utilsSeverityJs = require(_dependencyMap[6], \"../utils/severity.js\");\n  var _utilsStringJs = require(_dependencyMap[7], \"../utils/string.js\");\n  var _utilsWorldwideJs = require(_dependencyMap[8], \"../utils/worldwide.js\");\n  const INTEGRATION_NAME = 'CaptureConsole';\n  const _captureConsoleIntegration = (options = {}) => {\n    const levels = options.levels || _utilsDebugLoggerJs.CONSOLE_LEVELS;\n    const handled = options.handled ?? true;\n    return {\n      name: INTEGRATION_NAME,\n      setup(client) {\n        if (!('console' in _utilsWorldwideJs.GLOBAL_OBJ)) {\n          return;\n        }\n        (0, _instrumentConsoleJs.addConsoleInstrumentationHandler)(({\n          args,\n          level\n        }) => {\n          if ((0, _currentScopesJs.getClient)() !== client || !levels.includes(level)) {\n            return;\n          }\n          consoleHandler(args, level, handled);\n        });\n      }\n    };\n  };\n\n  /**\n   * Send Console API calls as Sentry Events.\n   */\n  const captureConsoleIntegration = (0, _integrationJs.defineIntegration)(_captureConsoleIntegration);\n  function consoleHandler(args, level, handled) {\n    const captureContext = {\n      level: (0, _utilsSeverityJs.severityLevelFromString)(level),\n      extra: {\n        arguments: args\n      }\n    };\n    (0, _currentScopesJs.withScope)(scope => {\n      scope.addEventProcessor(event => {\n        event.logger = 'console';\n        (0, _utilsMiscJs.addExceptionMechanism)(event, {\n          handled,\n          type: 'auto.core.capture_console'\n        });\n        return event;\n      });\n      if (level === 'assert') {\n        if (!args[0]) {\n          const message = `Assertion failed: ${(0, _utilsStringJs.safeJoin)(args.slice(1), ' ') || 'console.assert'}`;\n          scope.setExtra('arguments', args.slice(1));\n          (0, _exportsJs.captureMessage)(message, captureContext);\n        }\n        return;\n      }\n      const error = args.find(arg => arg instanceof Error);\n      if (error) {\n        (0, _exportsJs.captureException)(error, captureContext);\n        return;\n      }\n      const message = (0, _utilsStringJs.safeJoin)(args, ' ');\n      (0, _exportsJs.captureMessage)(message, captureContext);\n    });\n  }\n});","lineCount":82,"map":[[7,2,80,0,"Object"],[7,8,80,0],[7,9,80,0,"defineProperty"],[7,23,80,0],[7,24,80,0,"exports"],[7,31,80,0],[8,4,80,0,"enumerable"],[8,14,80,0],[9,4,80,0,"get"],[9,7,80,0],[9,18,80,0,"get"],[9,19,80,0],[10,6,80,0],[10,13,80,9,"captureConsoleIntegration"],[10,38,80,34],[11,4,80,34],[12,2,80,34],[13,2,1,0],[13,6,1,0,"_currentScopesJs"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_exportsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_instrumentConsoleJs"],[15,26,3,0],[15,29,3,0,"require"],[15,36,3,0],[15,37,3,0,"_dependencyMap"],[15,51,3,0],[16,2,4,0],[16,6,4,0,"_integrationJs"],[16,20,4,0],[16,23,4,0,"require"],[16,30,4,0],[16,31,4,0,"_dependencyMap"],[16,45,4,0],[17,2,5,0],[17,6,5,0,"_utilsDebugLoggerJs"],[17,25,5,0],[17,28,5,0,"require"],[17,35,5,0],[17,36,5,0,"_dependencyMap"],[17,50,5,0],[18,2,6,0],[18,6,6,0,"_utilsMiscJs"],[18,18,6,0],[18,21,6,0,"require"],[18,28,6,0],[18,29,6,0,"_dependencyMap"],[18,43,6,0],[19,2,7,0],[19,6,7,0,"_utilsSeverityJs"],[19,22,7,0],[19,25,7,0,"require"],[19,32,7,0],[19,33,7,0,"_dependencyMap"],[19,47,7,0],[20,2,8,0],[20,6,8,0,"_utilsStringJs"],[20,20,8,0],[20,23,8,0,"require"],[20,30,8,0],[20,31,8,0,"_dependencyMap"],[20,45,8,0],[21,2,9,0],[21,6,9,0,"_utilsWorldwideJs"],[21,23,9,0],[21,26,9,0,"require"],[21,33,9,0],[21,34,9,0,"_dependencyMap"],[21,48,9,0],[22,2,11,0],[22,8,11,6,"INTEGRATION_NAME"],[22,24,11,22],[22,27,11,25],[22,43,11,41],[23,2,13,0],[23,8,13,6,"_captureConsoleIntegration"],[23,34,13,32],[23,37,13,36,"_captureConsoleIntegration"],[23,38,13,37,"options"],[23,45,13,44],[23,48,13,47],[23,49,13,48],[23,50,13,49],[23,55,13,54],[24,4,14,2],[24,10,14,8,"levels"],[24,16,14,14],[24,19,14,17,"options"],[24,26,14,24],[24,27,14,25,"levels"],[24,33,14,31],[24,37,14,35,"CONSOLE_LEVELS"],[24,56,14,49],[24,57,14,49,"CONSOLE_LEVELS"],[24,71,14,49],[25,4,15,2],[25,10,15,8,"handled"],[25,17,15,15],[25,20,15,18,"options"],[25,27,15,25],[25,28,15,26,"handled"],[25,35,15,33],[25,39,15,37],[25,43,15,41],[26,4,17,2],[26,11,17,9],[27,6,18,4,"name"],[27,10,18,8],[27,12,18,10,"INTEGRATION_NAME"],[27,28,18,26],[28,6,19,4,"setup"],[28,11,19,9,"setup"],[28,12,19,10,"client"],[28,18,19,16],[28,20,19,18],[29,8,20,6],[29,12,20,10],[29,14,20,12],[29,23,20,21],[29,27,20,25,"GLOBAL_OBJ"],[29,44,20,35],[29,45,20,35,"GLOBAL_OBJ"],[29,55,20,35],[29,56,20,36],[29,58,20,38],[30,10,21,8],[31,8,22,6],[32,8,24,6],[32,12,24,6,"addConsoleInstrumentationHandler"],[32,32,24,38],[32,33,24,38,"addConsoleInstrumentationHandler"],[32,65,24,38],[32,67,24,39],[32,68,24,40],[33,10,24,42,"args"],[33,14,24,46],[34,10,24,48,"level"],[35,8,24,54],[35,9,24,55],[35,14,24,60],[36,10,25,8],[36,14,25,12],[36,18,25,12,"getClient"],[36,34,25,21],[36,35,25,21,"getClient"],[36,44,25,21],[36,46,25,22],[36,47,25,23],[36,52,25,28,"client"],[36,58,25,34],[36,62,25,38],[36,63,25,39,"levels"],[36,69,25,45],[36,70,25,46,"includes"],[36,78,25,54],[36,79,25,55,"level"],[36,84,25,60],[36,85,25,61],[36,87,25,63],[37,12,26,10],[38,10,27,8],[39,10,29,8,"consoleHandler"],[39,24,29,22],[39,25,29,23,"args"],[39,29,29,27],[39,31,29,29,"level"],[39,36,29,34],[39,38,29,36,"handled"],[39,45,29,43],[39,46,29,44],[40,8,30,6],[40,9,30,7],[40,10,30,8],[41,6,31,4],[42,4,32,2],[42,5,32,3],[43,2,33,0],[43,3,33,2],[45,2,35,0],[46,0,36,0],[47,0,37,0],[48,2,38,0],[48,8,38,6,"captureConsoleIntegration"],[48,33,38,31],[48,36,38,34],[48,40,38,34,"defineIntegration"],[48,54,38,51],[48,55,38,51,"defineIntegration"],[48,72,38,51],[48,74,38,52,"_captureConsoleIntegration"],[48,100,38,78],[48,101,38,79],[49,2,40,0],[49,11,40,9,"consoleHandler"],[49,25,40,23,"consoleHandler"],[49,26,40,24,"args"],[49,30,40,28],[49,32,40,30,"level"],[49,37,40,35],[49,39,40,37,"handled"],[49,46,40,44],[49,48,40,46],[50,4,41,2],[50,10,41,8,"captureContext"],[50,24,41,22],[50,27,41,25],[51,6,42,4,"level"],[51,11,42,9],[51,13,42,11],[51,17,42,11,"severityLevelFromString"],[51,33,42,34],[51,34,42,34,"severityLevelFromString"],[51,57,42,34],[51,59,42,35,"level"],[51,64,42,40],[51,65,42,41],[52,6,43,4,"extra"],[52,11,43,9],[52,13,43,11],[53,8,44,6,"arguments"],[53,17,44,15],[53,19,44,17,"args"],[54,6,45,4],[55,4,46,2],[55,5,46,3],[56,4,48,2],[56,8,48,2,"withScope"],[56,24,48,11],[56,25,48,11,"withScope"],[56,34,48,11],[56,36,48,12,"scope"],[56,41,48,17],[56,45,48,21],[57,6,49,4,"scope"],[57,11,49,9],[57,12,49,10,"addEventProcessor"],[57,29,49,27],[57,30,49,28,"event"],[57,35,49,33],[57,39,49,37],[58,8,50,6,"event"],[58,13,50,11],[58,14,50,12,"logger"],[58,20,50,18],[58,23,50,21],[58,32,50,30],[59,8,52,6],[59,12,52,6,"addExceptionMechanism"],[59,24,52,27],[59,25,52,27,"addExceptionMechanism"],[59,46,52,27],[59,48,52,28,"event"],[59,53,52,33],[59,55,52,35],[60,10,53,8,"handled"],[60,17,53,15],[61,10,54,8,"type"],[61,14,54,12],[61,16,54,14],[62,8,55,6],[62,9,55,7],[62,10,55,8],[63,8,57,6],[63,15,57,13,"event"],[63,20,57,18],[64,6,58,4],[64,7,58,5],[64,8,58,6],[65,6,60,4],[65,10,60,8,"level"],[65,15,60,13],[65,20,60,18],[65,28,60,26],[65,30,60,28],[66,8,61,6],[66,12,61,10],[66,13,61,11,"args"],[66,17,61,15],[66,18,61,16],[66,19,61,17],[66,20,61,18],[66,22,61,20],[67,10,62,8],[67,16,62,14,"message"],[67,23,62,21],[67,26,62,24],[67,47,62,45],[67,51,62,45,"safeJoin"],[67,65,62,53],[67,66,62,53,"safeJoin"],[67,74,62,53],[67,76,62,54,"args"],[67,80,62,58],[67,81,62,59,"slice"],[67,86,62,64],[67,87,62,65],[67,88,62,66],[67,89,62,67],[67,91,62,69],[67,94,62,72],[67,95,62,73],[67,99,62,77],[67,115,62,93],[67,117,62,95],[68,10,63,8,"scope"],[68,15,63,13],[68,16,63,14,"setExtra"],[68,24,63,22],[68,25,63,23],[68,36,63,34],[68,38,63,36,"args"],[68,42,63,40],[68,43,63,41,"slice"],[68,48,63,46],[68,49,63,47],[68,50,63,48],[68,51,63,49],[68,52,63,50],[69,10,64,8],[69,14,64,8,"captureMessage"],[69,24,64,22],[69,25,64,22,"captureMessage"],[69,39,64,22],[69,41,64,23,"message"],[69,48,64,30],[69,50,64,32,"captureContext"],[69,64,64,46],[69,65,64,47],[70,8,65,6],[71,8,66,6],[72,6,67,4],[73,6,69,4],[73,12,69,10,"error"],[73,17,69,15],[73,20,69,18,"args"],[73,24,69,22],[73,25,69,23,"find"],[73,29,69,27],[73,30,69,28,"arg"],[73,33,69,31],[73,37,69,35,"arg"],[73,40,69,38],[73,52,69,50,"Error"],[73,57,69,55],[73,58,69,56],[74,6,70,4],[74,10,70,8,"error"],[74,15,70,13],[74,17,70,15],[75,8,71,6],[75,12,71,6,"captureException"],[75,22,71,22],[75,23,71,22,"captureException"],[75,39,71,22],[75,41,71,23,"error"],[75,46,71,28],[75,48,71,30,"captureContext"],[75,62,71,44],[75,63,71,45],[76,8,72,6],[77,6,73,4],[78,6,75,4],[78,12,75,10,"message"],[78,19,75,17],[78,22,75,20],[78,26,75,20,"safeJoin"],[78,40,75,28],[78,41,75,28,"safeJoin"],[78,49,75,28],[78,51,75,29,"args"],[78,55,75,33],[78,57,75,35],[78,60,75,38],[78,61,75,39],[79,6,76,4],[79,10,76,4,"captureMessage"],[79,20,76,18],[79,21,76,18,"captureMessage"],[79,35,76,18],[79,37,76,19,"message"],[79,44,76,26],[79,46,76,28,"captureContext"],[79,60,76,42],[79,61,76,43],[80,4,77,2],[80,5,77,3],[80,6,77,4],[81,2,78,0],[82,0,78,1],[82,3]],"functionMap":{"names":["<global>","_captureConsoleIntegration","setup","addConsoleInstrumentationHandler$argument_0","consoleHandler","withScope$argument_0","scope.addEventProcessor$argument_0","args.find$argument_0"],"mappings":"AAA;oCCY;ICM;uCCK;ODM;KDC;CDE;AIO;YCQ;4BCC;KDS;4BEW,2BF;GDQ;CJC"},"hasCjsExports":false},"type":"js/module"}]}