{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":115,"index":115}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createReduxEnhancer\", {\n    enumerable: true,\n    get: function () {\n      return createReduxEnhancer;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  const ACTION_BREADCRUMB_CATEGORY = 'redux.action';\n  const ACTION_BREADCRUMB_TYPE = 'info';\n  const defaultOptions = {\n    attachReduxState: true,\n    actionTransformer: action => action,\n    stateTransformer: state => state || null\n  };\n\n  /**\n   * Creates an enhancer that would be passed to Redux's createStore to log actions and the latest state to Sentry.\n   *\n   * @param enhancerOptions Options to pass to the enhancer\n   */\n  function createReduxEnhancer(enhancerOptions) {\n    // Note: We return an any type as to not have type conflicts.\n    const options = Object.assign({}, defaultOptions, enhancerOptions);\n    return next => (reducer, initialState) => {\n      options.attachReduxState && (0, _sentryCore.getGlobalScope)().addEventProcessor((event, hint) => {\n        try {\n          // @ts-expect-error try catch to reduce bundle size\n          if (event.type === undefined && event.contexts.state.state.type === 'redux') {\n            hint.attachments = [...(hint.attachments || []),\n            // @ts-expect-error try catch to reduce bundle size\n            {\n              filename: 'redux_state.json',\n              data: JSON.stringify(event.contexts.state.state.value)\n            }];\n          }\n        } catch {\n          // empty\n        }\n        return event;\n      });\n      function sentryWrapReducer(reducer) {\n        return (state, action) => {\n          const newState = reducer(state, action);\n          const scope = (0, _sentryCore.getCurrentScope)();\n\n          /* Action breadcrumbs */\n          const transformedAction = options.actionTransformer(action);\n          if (typeof transformedAction !== 'undefined' && transformedAction !== null) {\n            (0, _sentryCore.addBreadcrumb)({\n              category: ACTION_BREADCRUMB_CATEGORY,\n              data: transformedAction,\n              type: ACTION_BREADCRUMB_TYPE\n            });\n          }\n\n          /* Set latest state to scope */\n          const transformedState = options.stateTransformer(newState);\n          if (typeof transformedState !== 'undefined' && transformedState !== null) {\n            const client = (0, _sentryCore.getClient)();\n            const options = client?.getOptions();\n            const normalizationDepth = options?.normalizeDepth || 3; // default state normalization depth to 3\n\n            // Set the normalization depth of the redux state to the configured `normalizeDepth` option or a sane number as a fallback\n            const newStateContext = {\n              state: {\n                type: 'redux',\n                value: transformedState\n              }\n            };\n            (0, _sentryCore.addNonEnumerableProperty)(newStateContext, '__sentry_override_normalization_depth__', 3 +\n            // 3 layers for `state.value.transformedState`\n            normalizationDepth // rest for the actual state\n            );\n            scope.setContext('state', newStateContext);\n          } else {\n            scope.setContext('state', null);\n          }\n\n          /* Allow user to configure scope with latest state */\n          const {\n            configureScopeWithState\n          } = options;\n          if (typeof configureScopeWithState === 'function') {\n            configureScopeWithState(scope, newState);\n          }\n          return newState;\n        };\n      }\n      const store = next(sentryWrapReducer(reducer), initialState);\n\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      store.replaceReducer = new Proxy(store.replaceReducer, {\n        apply: function (target, thisArg, args) {\n          target.apply(thisArg, [sentryWrapReducer(args[0])]);\n        }\n      });\n      return store;\n    };\n  }\n});","lineCount":106,"map":[[7,2,103,0,"Object"],[7,8,103,0],[7,9,103,0,"defineProperty"],[7,23,103,0],[7,24,103,0,"exports"],[7,31,103,0],[8,4,103,0,"enumerable"],[8,14,103,0],[9,4,103,0,"get"],[9,7,103,0],[9,18,103,0,"get"],[9,19,103,0],[10,6,103,0],[10,13,103,9,"createReduxEnhancer"],[10,32,103,28],[11,4,103,28],[12,2,103,28],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,3,0],[14,8,3,6,"ACTION_BREADCRUMB_CATEGORY"],[14,34,3,32],[14,37,3,35],[14,51,3,49],[15,2,4,0],[15,8,4,6,"ACTION_BREADCRUMB_TYPE"],[15,30,4,28],[15,33,4,31],[15,39,4,37],[16,2,6,0],[16,8,6,6,"defaultOptions"],[16,22,6,20],[16,25,6,23],[17,4,7,2,"attachReduxState"],[17,20,7,18],[17,22,7,20],[17,26,7,24],[18,4,8,2,"actionTransformer"],[18,21,8,19],[18,23,8,21,"action"],[18,29,8,27],[18,33,8,31,"action"],[18,39,8,37],[19,4,9,2,"stateTransformer"],[19,20,9,18],[19,22,9,20,"state"],[19,27,9,25],[19,31,9,29,"state"],[19,36,9,34],[19,40,9,38],[20,2,10,0],[20,3,10,1],[22,2,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,2,17,0],[27,11,17,9,"createReduxEnhancer"],[27,30,17,28,"createReduxEnhancer"],[27,31,17,29,"enhancerOptions"],[27,46,17,44],[27,48,17,46],[28,4,18,2],[29,4,19,2],[29,10,19,8,"options"],[29,17,19,15],[29,20,19,15,"Object"],[29,26,19,15],[29,27,19,15,"assign"],[29,33,19,15],[29,38,20,7,"defaultOptions"],[29,52,20,21],[29,54,21,7,"enhancerOptions"],[29,69,21,22],[29,70,22,3],[30,4,24,2],[30,11,24,10,"next"],[30,15,24,14],[30,19,25,4],[30,20,25,5,"reducer"],[30,27,25,12],[30,29,25,14,"initialState"],[30,41,25,26],[30,46,25,31],[31,6,26,6,"options"],[31,13,26,13],[31,14,26,14,"attachReduxState"],[31,30,26,30],[31,34,27,8],[31,38,27,8,"getGlobalScope"],[31,49,27,22],[31,50,27,22,"getGlobalScope"],[31,64,27,22],[31,66,27,23],[31,67,27,24],[31,68,27,25,"addEventProcessor"],[31,85,27,42],[31,86,27,43],[31,87,27,44,"event"],[31,92,27,49],[31,94,27,51,"hint"],[31,98,27,55],[31,103,27,60],[32,8,28,10],[32,12,28,14],[33,10,29,12],[34,10,30,12],[34,14,30,16,"event"],[34,19,30,21],[34,20,30,22,"type"],[34,24,30,26],[34,29,30,31,"undefined"],[34,38,30,40],[34,42,30,44,"event"],[34,47,30,49],[34,48,30,50,"contexts"],[34,56,30,58],[34,57,30,59,"state"],[34,62,30,64],[34,63,30,65,"state"],[34,68,30,70],[34,69,30,71,"type"],[34,73,30,75],[34,78,30,80],[34,85,30,87],[34,87,30,89],[35,12,31,14,"hint"],[35,16,31,18],[35,17,31,19,"attachments"],[35,28,31,30],[35,31,31,33],[35,32,32,16],[35,36,32,20,"hint"],[35,40,32,24],[35,41,32,25,"attachments"],[35,52,32,36],[35,56,32,40],[35,58,32,42],[35,59,32,43],[36,12,33,16],[37,12,34,16],[38,14,34,18,"filename"],[38,22,34,26],[38,24,34,28],[38,42,34,46],[39,14,34,48,"data"],[39,18,34,52],[39,20,34,54,"JSON"],[39,24,34,58],[39,25,34,59,"stringify"],[39,34,34,68],[39,35,34,69,"event"],[39,40,34,74],[39,41,34,75,"contexts"],[39,49,34,83],[39,50,34,84,"state"],[39,55,34,89],[39,56,34,90,"state"],[39,61,34,95],[39,62,34,96,"value"],[39,67,34,101],[40,12,34,103],[40,13,34,104],[40,14,35,15],[41,10,36,12],[42,8,37,10],[42,9,37,11],[42,10,37,12],[42,16,37,18],[43,10,38,12],[44,8,38,12],[45,8,40,10],[45,15,40,17,"event"],[45,20,40,22],[46,6,41,8],[46,7,41,9],[46,8,41,10],[47,6,43,6],[47,15,43,15,"sentryWrapReducer"],[47,32,43,32,"sentryWrapReducer"],[47,33,43,33,"reducer"],[47,40,43,40],[47,42,43,42],[48,8,44,8],[48,15,44,15],[48,16,44,16,"state"],[48,21,44,21],[48,23,44,23,"action"],[48,29,44,29],[48,34,44,34],[49,10,45,10],[49,16,45,16,"newState"],[49,24,45,24],[49,27,45,27,"reducer"],[49,34,45,34],[49,35,45,35,"state"],[49,40,45,40],[49,42,45,42,"action"],[49,48,45,48],[49,49,45,49],[50,10,47,10],[50,16,47,16,"scope"],[50,21,47,21],[50,24,47,24],[50,28,47,24,"getCurrentScope"],[50,39,47,39],[50,40,47,39,"getCurrentScope"],[50,55,47,39],[50,57,47,40],[50,58,47,41],[52,10,49,10],[53,10,50,10],[53,16,50,16,"transformedAction"],[53,33,50,33],[53,36,50,36,"options"],[53,43,50,43],[53,44,50,44,"actionTransformer"],[53,61,50,61],[53,62,50,62,"action"],[53,68,50,68],[53,69,50,69],[54,10,51,10],[54,14,51,14],[54,21,51,21,"transformedAction"],[54,38,51,38],[54,43,51,43],[54,54,51,54],[54,58,51,58,"transformedAction"],[54,75,51,75],[54,80,51,80],[54,84,51,84],[54,86,51,86],[55,12,52,12],[55,16,52,12,"addBreadcrumb"],[55,27,52,25],[55,28,52,25,"addBreadcrumb"],[55,41,52,25],[55,43,52,26],[56,14,53,14,"category"],[56,22,53,22],[56,24,53,24,"ACTION_BREADCRUMB_CATEGORY"],[56,50,53,50],[57,14,54,14,"data"],[57,18,54,18],[57,20,54,20,"transformedAction"],[57,37,54,37],[58,14,55,14,"type"],[58,18,55,18],[58,20,55,20,"ACTION_BREADCRUMB_TYPE"],[59,12,56,12],[59,13,56,13],[59,14,56,14],[60,10,57,10],[62,10,59,10],[63,10,60,10],[63,16,60,16,"transformedState"],[63,32,60,32],[63,35,60,35,"options"],[63,42,60,42],[63,43,60,43,"stateTransformer"],[63,59,60,59],[63,60,60,60,"newState"],[63,68,60,68],[63,69,60,69],[64,10,61,10],[64,14,61,14],[64,21,61,21,"transformedState"],[64,37,61,37],[64,42,61,42],[64,53,61,53],[64,57,61,57,"transformedState"],[64,73,61,73],[64,78,61,78],[64,82,61,82],[64,84,61,84],[65,12,62,12],[65,18,62,18,"client"],[65,24,62,24],[65,27,62,27],[65,31,62,27,"getClient"],[65,42,62,36],[65,43,62,36,"getClient"],[65,52,62,36],[65,54,62,37],[65,55,62,38],[66,12,63,12],[66,18,63,18,"options"],[66,25,63,25],[66,28,63,28,"client"],[66,34,63,34],[66,36,63,36,"getOptions"],[66,46,63,46],[66,47,63,47],[66,48,63,48],[67,12,64,12],[67,18,64,18,"normalizationDepth"],[67,36,64,36],[67,39,64,39,"options"],[67,46,64,46],[67,48,64,48,"normalizeDepth"],[67,62,64,62],[67,66,64,66],[67,67,64,67],[67,68,64,68],[67,69,64,69],[69,12,66,12],[70,12,67,12],[70,18,67,18,"newStateContext"],[70,33,67,33],[70,36,67,36],[71,14,67,38,"state"],[71,19,67,43],[71,21,67,45],[72,16,67,47,"type"],[72,20,67,51],[72,22,67,53],[72,29,67,60],[73,16,67,62,"value"],[73,21,67,67],[73,23,67,69,"transformedState"],[74,14,67,86],[75,12,67,88],[75,13,67,89],[76,12,68,12],[76,16,68,12,"addNonEnumerableProperty"],[76,27,68,36],[76,28,68,36,"addNonEnumerableProperty"],[76,52,68,36],[76,54,69,14,"newStateContext"],[76,69,69,29],[76,71,70,14],[76,112,70,55],[76,114,71,14],[76,115,71,15],[77,12,71,18],[78,12,72,16,"normalizationDepth"],[78,30,72,34],[78,31,72,36],[79,12,73,12],[79,13,73,13],[80,12,75,12,"scope"],[80,17,75,17],[80,18,75,18,"setContext"],[80,28,75,28],[80,29,75,29],[80,36,75,36],[80,38,75,38,"newStateContext"],[80,53,75,53],[80,54,75,54],[81,10,76,10],[81,11,76,11],[81,17,76,17],[82,12,77,12,"scope"],[82,17,77,17],[82,18,77,18,"setContext"],[82,28,77,28],[82,29,77,29],[82,36,77,36],[82,38,77,38],[82,42,77,42],[82,43,77,43],[83,10,78,10],[85,10,80,10],[86,10,81,10],[86,16,81,16],[87,12,81,18,"configureScopeWithState"],[88,10,81,42],[88,11,81,43],[88,14,81,46,"options"],[88,21,81,53],[89,10,82,10],[89,14,82,14],[89,21,82,21,"configureScopeWithState"],[89,44,82,44],[89,49,82,49],[89,59,82,59],[89,61,82,61],[90,12,83,12,"configureScopeWithState"],[90,35,83,35],[90,36,83,36,"scope"],[90,41,83,41],[90,43,83,43,"newState"],[90,51,83,51],[90,52,83,52],[91,10,84,10],[92,10,86,10],[92,17,86,17,"newState"],[92,25,86,25],[93,8,87,8],[93,9,87,9],[94,6,88,6],[95,6,90,6],[95,12,90,12,"store"],[95,17,90,17],[95,20,90,20,"next"],[95,24,90,24],[95,25,90,25,"sentryWrapReducer"],[95,42,90,42],[95,43,90,43,"reducer"],[95,50,90,50],[95,51,90,51],[95,53,90,53,"initialState"],[95,65,90,65],[95,66,90,66],[97,6,92,6],[98,6,93,6,"store"],[98,11,93,11],[98,12,93,12,"replaceReducer"],[98,26,93,26],[98,29,93,29],[98,33,93,33,"Proxy"],[98,38,93,38],[98,39,93,39,"store"],[98,44,93,44],[98,45,93,45,"replaceReducer"],[98,59,93,59],[98,61,93,61],[99,8,94,8,"apply"],[99,13,94,13],[99,15,94,15],[99,24,94,15,"apply"],[99,25,94,25,"target"],[99,31,94,31],[99,33,94,33,"thisArg"],[99,40,94,40],[99,42,94,42,"args"],[99,46,94,46],[99,48,94,48],[100,10,95,10,"target"],[100,16,95,16],[100,17,95,17,"apply"],[100,22,95,22],[100,23,95,23,"thisArg"],[100,30,95,30],[100,32,95,32],[100,33,95,33,"sentryWrapReducer"],[100,50,95,50],[100,51,95,51,"args"],[100,55,95,55],[100,56,95,56],[100,57,95,57],[100,58,95,58],[100,59,95,59],[100,60,95,60],[100,61,95,61],[101,8,96,8],[102,6,97,6],[102,7,97,7],[102,8,97,8],[103,6,99,6],[103,13,99,13,"store"],[103,18,99,18],[104,4,100,4],[104,5,100,5],[105,2,101,0],[106,0,101,1],[106,3]],"functionMap":{"names":["<global>","defaultOptions.actionTransformer","defaultOptions.stateTransformer","createReduxEnhancer","<anonymous>","getGlobalScope.addEventProcessor$argument_0","sentryWrapReducer","Proxy$argument_1.apply"],"mappings":"AAA;qBCO,gBD;oBEC,sBF;AGQ;SCO;2CCG;SDc;MEE;eFC;SE2C;OFC;eGM;SHE;KDI;CHC"},"hasCjsExports":false},"type":"js/module"}]}