{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":78,"index":139}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"resourceTimingToSpanAttributes\", {\n    enumerable: true,\n    get: function () {\n      return resourceTimingToSpanAttributes;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _utilsJs = require(_dependencyMap[1], \"./utils.js\");\n  function getAbsoluteTime(time = 0) {\n    return (((0, _sentryCore.browserPerformanceTimeOrigin)() || performance.timeOrigin) + time) / 1000;\n  }\n\n  /**\n   * Converts a PerformanceResourceTiming entry to span data for the resource span. Most importantly,\n   * it converts the timing values from timestamps relative to the `performance.timeOrigin` to absolute timestamps\n   * in seconds.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming#timestamps\n   *\n   * @param resourceTiming\n   * @returns An array where the first element is the attribute name and the second element is the attribute value.\n   */\n  function resourceTimingToSpanAttributes(resourceTiming) {\n    const timingSpanData = {};\n    // Checking for only `undefined` and `null` is intentional because it's\n    // valid for `nextHopProtocol` to be an empty string.\n    if (resourceTiming.nextHopProtocol != undefined) {\n      const {\n        name,\n        version\n      } = (0, _utilsJs.extractNetworkProtocol)(resourceTiming.nextHopProtocol);\n      timingSpanData['network.protocol.version'] = version;\n      timingSpanData['network.protocol.name'] = name;\n    }\n    if (!((0, _sentryCore.browserPerformanceTimeOrigin)() || (0, _utilsJs.getBrowserPerformanceAPI)()?.timeOrigin)) {\n      return timingSpanData;\n    }\n    return Object.assign({}, timingSpanData, {\n      'http.request.redirect_start': getAbsoluteTime(resourceTiming.redirectStart),\n      'http.request.redirect_end': getAbsoluteTime(resourceTiming.redirectEnd),\n      'http.request.worker_start': getAbsoluteTime(resourceTiming.workerStart),\n      'http.request.fetch_start': getAbsoluteTime(resourceTiming.fetchStart),\n      'http.request.domain_lookup_start': getAbsoluteTime(resourceTiming.domainLookupStart),\n      'http.request.domain_lookup_end': getAbsoluteTime(resourceTiming.domainLookupEnd),\n      'http.request.connect_start': getAbsoluteTime(resourceTiming.connectStart),\n      'http.request.secure_connection_start': getAbsoluteTime(resourceTiming.secureConnectionStart),\n      'http.request.connection_end': getAbsoluteTime(resourceTiming.connectEnd),\n      'http.request.request_start': getAbsoluteTime(resourceTiming.requestStart),\n      'http.request.response_start': getAbsoluteTime(resourceTiming.responseStart),\n      'http.request.response_end': getAbsoluteTime(resourceTiming.responseEnd),\n      // For TTFB we actually want the relative time from timeOrigin to responseStart\n      // This way, TTFB always measures the \"first page load\" experience.\n      // see: https://web.dev/articles/ttfb#measure-resource-requests\n      'http.request.time_to_first_byte': (resourceTiming.responseStart ?? 0) / 1000\n    });\n  }\n});","lineCount":63,"map":[[7,2,61,0,"Object"],[7,8,61,0],[7,9,61,0,"defineProperty"],[7,23,61,0],[7,24,61,0,"exports"],[7,31,61,0],[8,4,61,0,"enumerable"],[8,14,61,0],[9,4,61,0,"get"],[9,7,61,0],[9,18,61,0,"get"],[9,19,61,0],[10,6,61,0],[10,13,61,9,"resourceTimingToSpanAttributes"],[10,43,61,39],[11,4,61,39],[12,2,61,39],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_utilsJs"],[14,14,2,0],[14,17,2,0,"require"],[14,24,2,0],[14,25,2,0,"_dependencyMap"],[14,39,2,0],[15,2,4,0],[15,11,4,9,"getAbsoluteTime"],[15,26,4,24,"getAbsoluteTime"],[15,27,4,25,"time"],[15,31,4,29],[15,34,4,32],[15,35,4,33],[15,37,4,35],[16,4,5,2],[16,11,5,9],[16,12,5,10],[16,13,5,11],[16,17,5,11,"browserPerformanceTimeOrigin"],[16,28,5,39],[16,29,5,39,"browserPerformanceTimeOrigin"],[16,57,5,39],[16,59,5,40],[16,60,5,41],[16,64,5,45,"performance"],[16,75,5,56],[16,76,5,57,"timeOrigin"],[16,86,5,67],[16,90,5,71,"time"],[16,94,5,75],[16,98,5,79],[16,102,5,83],[17,2,6,0],[19,2,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,2,18,0],[29,11,18,9,"resourceTimingToSpanAttributes"],[29,41,18,39,"resourceTimingToSpanAttributes"],[29,42,18,40,"resourceTiming"],[29,56,18,54],[29,58,18,56],[30,4,19,2],[30,10,19,8,"timingSpanData"],[30,24,19,22],[30,27,19,25],[30,28,19,26],[30,29,19,27],[31,4,20,2],[32,4,21,2],[33,4,22,2],[33,8,22,6,"resourceTiming"],[33,22,22,20],[33,23,22,21,"nextHopProtocol"],[33,38,22,36],[33,42,22,40,"undefined"],[33,51,22,49],[33,53,22,51],[34,6,23,4],[34,12,23,10],[35,8,23,12,"name"],[35,12,23,16],[36,8,23,18,"version"],[37,6,23,26],[37,7,23,27],[37,10,23,30],[37,14,23,30,"extractNetworkProtocol"],[37,22,23,52],[37,23,23,52,"extractNetworkProtocol"],[37,45,23,52],[37,47,23,53,"resourceTiming"],[37,61,23,67],[37,62,23,68,"nextHopProtocol"],[37,77,23,83],[37,78,23,84],[38,6,24,4,"timingSpanData"],[38,20,24,18],[38,21,24,19],[38,47,24,45],[38,48,24,46],[38,51,24,49,"version"],[38,58,24,56],[39,6,25,4,"timingSpanData"],[39,20,25,18],[39,21,25,19],[39,44,25,42],[39,45,25,43],[39,48,25,46,"name"],[39,52,25,50],[40,4,26,2],[41,4,28,2],[41,8,28,6],[41,10,28,8],[41,14,28,8,"browserPerformanceTimeOrigin"],[41,25,28,36],[41,26,28,36,"browserPerformanceTimeOrigin"],[41,54,28,36],[41,56,28,37],[41,57,28,38],[41,61,28,42],[41,65,28,42,"getBrowserPerformanceAPI"],[41,73,28,66],[41,74,28,66,"getBrowserPerformanceAPI"],[41,98,28,66],[41,100,28,67],[41,101,28,68],[41,103,28,70,"timeOrigin"],[41,113,28,80],[41,114,28,81],[41,116,28,83],[42,6,29,4],[42,13,29,11,"timingSpanData"],[42,27,29,25],[43,4,30,2],[44,4,32,2],[44,11,32,2,"Object"],[44,17,32,2],[44,18,32,2,"assign"],[44,24,32,2],[44,29,33,7,"timingSpanData"],[44,43,33,21],[45,6,35,4],[45,35,35,33],[45,37,35,35,"getAbsoluteTime"],[45,52,35,50],[45,53,35,51,"resourceTiming"],[45,67,35,65],[45,68,35,66,"redirectStart"],[45,81,35,79],[45,82,35,80],[46,6,36,4],[46,33,36,31],[46,35,36,33,"getAbsoluteTime"],[46,50,36,48],[46,51,36,49,"resourceTiming"],[46,65,36,63],[46,66,36,64,"redirectEnd"],[46,77,36,75],[46,78,36,76],[47,6,38,4],[47,33,38,31],[47,35,38,33,"getAbsoluteTime"],[47,50,38,48],[47,51,38,49,"resourceTiming"],[47,65,38,63],[47,66,38,64,"workerStart"],[47,77,38,75],[47,78,38,76],[48,6,40,4],[48,32,40,30],[48,34,40,32,"getAbsoluteTime"],[48,49,40,47],[48,50,40,48,"resourceTiming"],[48,64,40,62],[48,65,40,63,"fetchStart"],[48,75,40,73],[48,76,40,74],[49,6,42,4],[49,40,42,38],[49,42,42,40,"getAbsoluteTime"],[49,57,42,55],[49,58,42,56,"resourceTiming"],[49,72,42,70],[49,73,42,71,"domainLookupStart"],[49,90,42,88],[49,91,42,89],[50,6,43,4],[50,38,43,36],[50,40,43,38,"getAbsoluteTime"],[50,55,43,53],[50,56,43,54,"resourceTiming"],[50,70,43,68],[50,71,43,69,"domainLookupEnd"],[50,86,43,84],[50,87,43,85],[51,6,45,4],[51,34,45,32],[51,36,45,34,"getAbsoluteTime"],[51,51,45,49],[51,52,45,50,"resourceTiming"],[51,66,45,64],[51,67,45,65,"connectStart"],[51,79,45,77],[51,80,45,78],[52,6,46,4],[52,44,46,42],[52,46,46,44,"getAbsoluteTime"],[52,61,46,59],[52,62,46,60,"resourceTiming"],[52,76,46,74],[52,77,46,75,"secureConnectionStart"],[52,98,46,96],[52,99,46,97],[53,6,47,4],[53,35,47,33],[53,37,47,35,"getAbsoluteTime"],[53,52,47,50],[53,53,47,51,"resourceTiming"],[53,67,47,65],[53,68,47,66,"connectEnd"],[53,78,47,76],[53,79,47,77],[54,6,49,4],[54,34,49,32],[54,36,49,34,"getAbsoluteTime"],[54,51,49,49],[54,52,49,50,"resourceTiming"],[54,66,49,64],[54,67,49,65,"requestStart"],[54,79,49,77],[54,80,49,78],[55,6,51,4],[55,35,51,33],[55,37,51,35,"getAbsoluteTime"],[55,52,51,50],[55,53,51,51,"resourceTiming"],[55,67,51,65],[55,68,51,66,"responseStart"],[55,81,51,79],[55,82,51,80],[56,6,52,4],[56,33,52,31],[56,35,52,33,"getAbsoluteTime"],[56,50,52,48],[56,51,52,49,"resourceTiming"],[56,65,52,63],[56,66,52,64,"responseEnd"],[56,77,52,75],[56,78,52,76],[57,6,54,4],[58,6,55,4],[59,6,56,4],[60,6,57,4],[60,39,57,37],[60,41,57,39],[60,42,57,40,"resourceTiming"],[60,56,57,54],[60,57,57,55,"responseStart"],[60,70,57,68],[60,74,57,72],[60,75,57,73],[60,79,57,77],[61,4,57,81],[62,2,59,0],[63,0,59,1],[63,3]],"functionMap":{"names":["<global>","getAbsoluteTime","resourceTimingToSpanAttributes"],"mappings":"AAA;ACG;CDE;AEY;CFyC"},"hasCjsExports":false},"type":"js/module"}]}