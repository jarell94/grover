{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":681},"end":{"line":10,"column":37,"index":718}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":719},"end":{"line":11,"column":36,"index":755}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"viewHierarchyIntegration\", {\n    enumerable: true,\n    get: function () {\n      return viewHierarchyIntegration;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _wrapper = require(_dependencyMap[1], \"../wrapper\");\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  const filename = 'view-hierarchy.json';\n  const contentType = 'application/json';\n  const attachmentType = 'event.view_hierarchy';\n  const INTEGRATION_NAME = 'ViewHierarchy';\n  /** Adds ViewHierarchy to error events */\n  const viewHierarchyIntegration = () => {\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce: () => {\n        // noop\n      },\n      processEvent\n    };\n  };\n  function processEvent(event, hint) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n      const hasException = ((_a = event.exception) === null || _a === void 0 ? void 0 : _a.values) && event.exception.values.length > 0;\n      if (!hasException) {\n        return event;\n      }\n      let viewHierarchy = null;\n      try {\n        viewHierarchy = yield _wrapper.NATIVE.fetchViewHierarchy();\n      } catch (e) {\n        _sentryCore.debug.error('Failed to get view hierarchy from native.', e);\n      }\n      if (viewHierarchy) {\n        hint.attachments = [{\n          filename,\n          contentType,\n          attachmentType,\n          data: viewHierarchy\n        }, ...((hint === null || hint === void 0 ? void 0 : hint.attachments) || [])];\n      }\n      return event;\n    });\n  }\n});","lineCount":80,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"viewHierarchyIntegration"],[10,37,17,0],[11,4,17,0],[12,2,17,0],[13,2,10,0],[13,6,10,0,"_sentryCore"],[13,17,10,0],[13,20,10,0,"require"],[13,27,10,0],[13,28,10,0,"_dependencyMap"],[13,42,10,0],[14,2,11,0],[14,6,11,0,"_wrapper"],[14,14,11,0],[14,17,11,0,"require"],[14,24,11,0],[14,25,11,0,"_dependencyMap"],[14,39,11,0],[15,2,1,0],[15,6,1,4,"__awaiter"],[15,15,1,13],[15,18,1,17],[15,22,1,21],[15,26,1,25],[15,30,1,29],[15,31,1,30,"__awaiter"],[15,40,1,39],[15,44,1,44],[15,54,1,54,"thisArg"],[15,61,1,61],[15,63,1,63,"_arguments"],[15,73,1,73],[15,75,1,75,"P"],[15,76,1,76],[15,78,1,78,"generator"],[15,87,1,87],[15,89,1,89],[16,4,2,4],[16,13,2,13,"adopt"],[16,18,2,18,"adopt"],[16,19,2,19,"value"],[16,24,2,24],[16,26,2,26],[17,6,2,28],[17,13,2,35,"value"],[17,18,2,40],[17,30,2,52,"P"],[17,31,2,53],[17,34,2,56,"value"],[17,39,2,61],[17,42,2,64],[17,46,2,68,"P"],[17,47,2,69],[17,48,2,70],[17,58,2,80,"resolve"],[17,65,2,87],[17,67,2,89],[18,8,2,91,"resolve"],[18,15,2,98],[18,16,2,99,"value"],[18,21,2,104],[18,22,2,105],[19,6,2,107],[19,7,2,108],[19,8,2,109],[20,4,2,111],[21,4,3,4],[21,11,3,11],[21,16,3,16,"P"],[21,17,3,17],[21,22,3,22,"P"],[21,23,3,23],[21,26,3,26,"Promise"],[21,33,3,33],[21,34,3,34],[21,36,3,36],[21,46,3,46,"resolve"],[21,53,3,53],[21,55,3,55,"reject"],[21,61,3,61],[21,63,3,63],[22,6,4,8],[22,15,4,17,"fulfilled"],[22,24,4,26,"fulfilled"],[22,25,4,27,"value"],[22,30,4,32],[22,32,4,34],[23,8,4,36],[23,12,4,40],[24,10,4,42,"step"],[24,14,4,46],[24,15,4,47,"generator"],[24,24,4,56],[24,25,4,57,"next"],[24,29,4,61],[24,30,4,62,"value"],[24,35,4,67],[24,36,4,68],[24,37,4,69],[25,8,4,71],[25,9,4,72],[25,10,4,73],[25,17,4,80,"e"],[25,18,4,81],[25,20,4,83],[26,10,4,85,"reject"],[26,16,4,91],[26,17,4,92,"e"],[26,18,4,93],[26,19,4,94],[27,8,4,96],[28,6,4,98],[29,6,5,8],[29,15,5,17,"rejected"],[29,23,5,25,"rejected"],[29,24,5,26,"value"],[29,29,5,31],[29,31,5,33],[30,8,5,35],[30,12,5,39],[31,10,5,41,"step"],[31,14,5,45],[31,15,5,46,"generator"],[31,24,5,55],[31,25,5,56],[31,32,5,63],[31,33,5,64],[31,34,5,65,"value"],[31,39,5,70],[31,40,5,71],[31,41,5,72],[32,8,5,74],[32,9,5,75],[32,10,5,76],[32,17,5,83,"e"],[32,18,5,84],[32,20,5,86],[33,10,5,88,"reject"],[33,16,5,94],[33,17,5,95,"e"],[33,18,5,96],[33,19,5,97],[34,8,5,99],[35,6,5,101],[36,6,6,8],[36,15,6,17,"step"],[36,19,6,21,"step"],[36,20,6,22,"result"],[36,26,6,28],[36,28,6,30],[37,8,6,32,"result"],[37,14,6,38],[37,15,6,39,"done"],[37,19,6,43],[37,22,6,46,"resolve"],[37,29,6,53],[37,30,6,54,"result"],[37,36,6,60],[37,37,6,61,"value"],[37,42,6,66],[37,43,6,67],[37,46,6,70,"adopt"],[37,51,6,75],[37,52,6,76,"result"],[37,58,6,82],[37,59,6,83,"value"],[37,64,6,88],[37,65,6,89],[37,66,6,90,"then"],[37,70,6,94],[37,71,6,95,"fulfilled"],[37,80,6,104],[37,82,6,106,"rejected"],[37,90,6,114],[37,91,6,115],[38,6,6,117],[39,6,7,8,"step"],[39,10,7,12],[39,11,7,13],[39,12,7,14,"generator"],[39,21,7,23],[39,24,7,26,"generator"],[39,33,7,35],[39,34,7,36,"apply"],[39,39,7,41],[39,40,7,42,"thisArg"],[39,47,7,49],[39,49,7,51,"_arguments"],[39,59,7,61],[39,63,7,65],[39,65,7,67],[39,66,7,68],[39,68,7,70,"next"],[39,72,7,74],[39,73,7,75],[39,74,7,76],[39,75,7,77],[40,4,8,4],[40,5,8,5],[40,6,8,6],[41,2,9,0],[41,3,9,1],[42,2,12,0],[42,8,12,6,"filename"],[42,16,12,14],[42,19,12,17],[42,40,12,38],[43,2,13,0],[43,8,13,6,"contentType"],[43,19,13,17],[43,22,13,20],[43,40,13,38],[44,2,14,0],[44,8,14,6,"attachmentType"],[44,22,14,20],[44,25,14,23],[44,47,14,45],[45,2,15,0],[45,8,15,6,"INTEGRATION_NAME"],[45,24,15,22],[45,27,15,25],[45,42,15,40],[46,2,16,0],[47,2,17,7],[47,8,17,13,"viewHierarchyIntegration"],[47,32,17,37],[47,35,17,40,"viewHierarchyIntegration"],[47,36,17,40],[47,41,17,46],[48,4,18,4],[48,11,18,11],[49,6,19,8,"name"],[49,10,19,12],[49,12,19,14,"INTEGRATION_NAME"],[49,28,19,30],[50,6,20,8,"setupOnce"],[50,15,20,17],[50,17,20,19,"setupOnce"],[50,18,20,19],[50,23,20,25],[51,8,21,12],[52,6,21,12],[52,7,22,9],[53,6,23,8,"processEvent"],[54,4,24,4],[54,5,24,5],[55,2,25,0],[55,3,25,1],[56,2,26,0],[56,11,26,9,"processEvent"],[56,23,26,21,"processEvent"],[56,24,26,22,"event"],[56,29,26,27],[56,31,26,29,"hint"],[56,35,26,33],[56,37,26,35],[57,4,27,4],[57,8,27,8,"_a"],[57,10,27,10],[58,4,28,4],[58,11,28,11,"__awaiter"],[58,20,28,20],[58,21,28,21],[58,25,28,25],[58,27,28,27],[58,32,28,32],[58,33,28,33],[58,35,28,35],[58,40,28,40],[58,41,28,41],[58,43,28,43],[58,56,28,56],[59,6,29,8],[59,12,29,14,"hasException"],[59,24,29,26],[59,27,29,29],[59,28,29,30],[59,29,29,31,"_a"],[59,31,29,33],[59,34,29,36,"event"],[59,39,29,41],[59,40,29,42,"exception"],[59,49,29,51],[59,55,29,57],[59,59,29,61],[59,63,29,65,"_a"],[59,65,29,67],[59,70,29,72],[59,75,29,77],[59,76,29,78],[59,79,29,81],[59,84,29,86],[59,85,29,87],[59,88,29,90,"_a"],[59,90,29,92],[59,91,29,93,"values"],[59,97,29,99],[59,102,29,104,"event"],[59,107,29,109],[59,108,29,110,"exception"],[59,117,29,119],[59,118,29,120,"values"],[59,124,29,126],[59,125,29,127,"length"],[59,131,29,133],[59,134,29,136],[59,135,29,137],[60,6,30,8],[60,10,30,12],[60,11,30,13,"hasException"],[60,23,30,25],[60,25,30,27],[61,8,31,12],[61,15,31,19,"event"],[61,20,31,24],[62,6,32,8],[63,6,33,8],[63,10,33,12,"viewHierarchy"],[63,23,33,25],[63,26,33,28],[63,30,33,32],[64,6,34,8],[64,10,34,12],[65,8,35,12,"viewHierarchy"],[65,21,35,25],[65,24,35,28],[65,30,35,34,"NATIVE"],[65,38,35,40],[65,39,35,40,"NATIVE"],[65,45,35,40],[65,46,35,41,"fetchViewHierarchy"],[65,64,35,59],[65,65,35,60],[65,66,35,61],[66,6,36,8],[66,7,36,9],[66,8,37,8],[66,15,37,15,"e"],[66,16,37,16],[66,18,37,18],[67,8,38,12,"debug"],[67,19,38,17],[67,20,38,17,"debug"],[67,25,38,17],[67,26,38,18,"error"],[67,31,38,23],[67,32,38,24],[67,75,38,67],[67,77,38,69,"e"],[67,78,38,70],[67,79,38,71],[68,6,39,8],[69,6,40,8],[69,10,40,12,"viewHierarchy"],[69,23,40,25],[69,25,40,27],[70,8,41,12,"hint"],[70,12,41,16],[70,13,41,17,"attachments"],[70,24,41,28],[70,27,41,31],[70,28,42,16],[71,10,43,20,"filename"],[71,18,43,28],[72,10,44,20,"contentType"],[72,21,44,31],[73,10,45,20,"attachmentType"],[73,24,45,34],[74,10,46,20,"data"],[74,14,46,24],[74,16,46,26,"viewHierarchy"],[75,8,47,16],[75,9,47,17],[75,11,48,16],[75,15,48,20],[75,16,48,21,"hint"],[75,20,48,25],[75,25,48,30],[75,29,48,34],[75,33,48,38,"hint"],[75,37,48,42],[75,42,48,47],[75,47,48,52],[75,48,48,53],[75,51,48,56],[75,56,48,61],[75,57,48,62],[75,60,48,65,"hint"],[75,64,48,69],[75,65,48,70,"attachments"],[75,76,48,81],[75,81,48,86],[75,83,48,88],[75,84,48,89],[75,85,49,13],[76,6,50,8],[77,6,51,8],[77,13,51,15,"event"],[77,18,51,20],[78,4,52,4],[78,5,52,5],[78,6,52,6],[79,2,53,0],[80,0,53,1],[80,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","viewHierarchyIntegration","setupOnce","processEvent","__awaiter$argument_3"],"mappings":"AAA,4CC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;wCOQ;mBCG;SDE;CPG;ASC;2CCE;KDwB;CTC"},"hasCjsExports":false},"type":"js/module"}]}