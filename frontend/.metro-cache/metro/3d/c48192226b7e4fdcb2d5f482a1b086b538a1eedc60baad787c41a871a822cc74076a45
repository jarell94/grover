{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":36,"index":86}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"DEFAULT_BUFFER_SIZE\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_BUFFER_SIZE;\n    }\n  });\n  Object.defineProperty(exports, \"NativeTransport\", {\n    enumerable: true,\n    get: function () {\n      return NativeTransport;\n    }\n  });\n  exports.makeNativeTransport = makeNativeTransport;\n  exports.makeNativeTransportFactory = makeNativeTransportFactory;\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _wrapper = require(_dependencyMap[1], \"../wrapper\");\n  const DEFAULT_BUFFER_SIZE = 30;\n  /** Native Transport class implementation */\n  class NativeTransport {\n    constructor(options = {}) {\n      this._buffer = (0, _sentryCore.makePromiseBuffer)(options.bufferSize || DEFAULT_BUFFER_SIZE);\n    }\n    /**\n     * Sends the envelope to the Store endpoint in Sentry.\n     *\n     * @param envelope Envelope that should be sent to Sentry.\n     */\n    send(envelope) {\n      // TODO: We currently can't retrieve the response information from native\n      return this._buffer.add(() => _wrapper.NATIVE.sendEnvelope(envelope)).then(() => ({}));\n    }\n    /**\n     * Wait for all envelopes to be sent or the timeout to expire, whichever comes first.\n     *\n     * @param timeout Maximum time in ms the transport should wait for envelopes to be flushed. Omitting this parameter will\n     *   cause the transport to wait until all events are sent before resolving the promise.\n     * @returns A promise that will resolve with `true` if all events are sent before the timeout, or `false` if there are\n     * still events in the queue when the timeout is reached.\n     */\n    flush(timeout) {\n      return this._buffer.drain(timeout);\n    }\n  }\n  /**\n   * Creates a Native Transport.\n   */\n  function makeNativeTransport(options = {}) {\n    return new NativeTransport(options);\n  }\n  /**\n   * Creates a Native Transport factory if the native transport is available.\n   */\n  function makeNativeTransportFactory({\n    enableNative\n  }) {\n    if (enableNative && _wrapper.NATIVE.isNativeAvailable()) {\n      return makeNativeTransport;\n    }\n    return null;\n  }\n});","lineCount":67,"map":[[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"enumerable"],[8,14,3,0],[9,4,3,0,"get"],[9,7,3,0],[9,18,3,0,"get"],[9,19,3,0],[10,6,3,0],[10,13,3,0,"DEFAULT_BUFFER_SIZE"],[10,32,3,0],[11,4,3,0],[12,2,3,0],[13,2,5,0,"Object"],[13,8,5,0],[13,9,5,0,"defineProperty"],[13,23,5,0],[13,24,5,0,"exports"],[13,31,5,0],[14,4,5,0,"enumerable"],[14,14,5,0],[15,4,5,0,"get"],[15,7,5,0],[15,18,5,0,"get"],[15,19,5,0],[16,6,5,0],[16,13,5,0,"NativeTransport"],[16,28,5,0],[17,4,5,0],[18,2,5,0],[19,2,33,0,"exports"],[19,9,33,0],[19,10,33,0,"makeNativeTransport"],[19,29,33,0],[19,32,33,0,"makeNativeTransport"],[19,51,33,0],[20,2,39,0,"exports"],[20,9,39,0],[20,10,39,0,"makeNativeTransportFactory"],[20,36,39,0],[20,39,39,0,"makeNativeTransportFactory"],[20,65,39,0],[21,2,1,0],[21,6,1,0,"_sentryCore"],[21,17,1,0],[21,20,1,0,"require"],[21,27,1,0],[21,28,1,0,"_dependencyMap"],[21,42,1,0],[22,2,2,0],[22,6,2,0,"_wrapper"],[22,14,2,0],[22,17,2,0,"require"],[22,24,2,0],[22,25,2,0,"_dependencyMap"],[22,39,2,0],[23,2,3,7],[23,8,3,13,"DEFAULT_BUFFER_SIZE"],[23,27,3,32],[23,30,3,35],[23,32,3,37],[24,2,4,0],[25,2,5,7],[25,8,5,13,"NativeTransport"],[25,23,5,28],[25,24,5,29],[26,4,6,4,"constructor"],[26,15,6,15,"constructor"],[26,16,6,16,"options"],[26,23,6,23],[26,26,6,26],[26,27,6,27],[26,28,6,28],[26,30,6,30],[27,6,7,8],[27,10,7,12],[27,11,7,13,"_buffer"],[27,18,7,20],[27,21,7,23],[27,25,7,23,"makePromiseBuffer"],[27,36,7,40],[27,37,7,40,"makePromiseBuffer"],[27,54,7,40],[27,56,7,41,"options"],[27,63,7,48],[27,64,7,49,"bufferSize"],[27,74,7,59],[27,78,7,63,"DEFAULT_BUFFER_SIZE"],[27,97,7,82],[27,98,7,83],[28,4,8,4],[29,4,9,4],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,4,14,4,"send"],[34,8,14,8,"send"],[34,9,14,9,"envelope"],[34,17,14,17],[34,19,14,19],[35,6,15,8],[36,6,16,8],[36,13,16,15],[36,17,16,19],[36,18,16,20,"_buffer"],[36,25,16,27],[36,26,16,28,"add"],[36,29,16,31],[36,30,16,32],[36,36,16,38,"NATIVE"],[36,44,16,44],[36,45,16,44,"NATIVE"],[36,51,16,44],[36,52,16,45,"sendEnvelope"],[36,64,16,57],[36,65,16,58,"envelope"],[36,73,16,66],[36,74,16,67],[36,75,16,68],[36,76,16,69,"then"],[36,80,16,73],[36,81,16,74],[36,88,16,81],[36,89,16,82],[36,90,16,83],[36,91,16,84],[36,92,16,85],[37,4,17,4],[38,4,18,4],[39,0,19,0],[40,0,20,0],[41,0,21,0],[42,0,22,0],[43,0,23,0],[44,0,24,0],[45,0,25,0],[46,4,26,4,"flush"],[46,9,26,9,"flush"],[46,10,26,10,"timeout"],[46,17,26,17],[46,19,26,19],[47,6,27,8],[47,13,27,15],[47,17,27,19],[47,18,27,20,"_buffer"],[47,25,27,27],[47,26,27,28,"drain"],[47,31,27,33],[47,32,27,34,"timeout"],[47,39,27,41],[47,40,27,42],[48,4,28,4],[49,2,29,0],[50,2,30,0],[51,0,31,0],[52,0,32,0],[53,2,33,7],[53,11,33,16,"makeNativeTransport"],[53,30,33,35,"makeNativeTransport"],[53,31,33,36,"options"],[53,38,33,43],[53,41,33,46],[53,42,33,47],[53,43,33,48],[53,45,33,50],[54,4,34,4],[54,11,34,11],[54,15,34,15,"NativeTransport"],[54,30,34,30],[54,31,34,31,"options"],[54,38,34,38],[54,39,34,39],[55,2,35,0],[56,2,36,0],[57,0,37,0],[58,0,38,0],[59,2,39,7],[59,11,39,16,"makeNativeTransportFactory"],[59,37,39,42,"makeNativeTransportFactory"],[59,38,39,43],[60,4,39,45,"enableNative"],[61,2,39,59],[61,3,39,60],[61,5,39,62],[62,4,40,4],[62,8,40,8,"enableNative"],[62,20,40,20],[62,24,40,24,"NATIVE"],[62,32,40,30],[62,33,40,30,"NATIVE"],[62,39,40,30],[62,40,40,31,"isNativeAvailable"],[62,57,40,48],[62,58,40,49],[62,59,40,50],[62,61,40,52],[63,6,41,8],[63,13,41,15,"makeNativeTransport"],[63,32,41,34],[64,4,42,4],[65,4,43,4],[65,11,43,11],[65,15,43,15],[66,2,44,0],[67,0,44,1],[67,3]],"functionMap":{"names":["<global>","NativeTransport","NativeTransport#constructor","NativeTransport#send","_buffer.add$argument_0","_buffer.add.then$argument_0","NativeTransport#flush","makeNativeTransport","makeNativeTransportFactory"],"mappings":"AAA;OCI;ICC;KDE;IEM;gCCE,mCD,OE,UF;KFC;IKS;KLE;CDC;OOI;CPE;OQI;CRK"},"hasCjsExports":false},"type":"js/module"}]}