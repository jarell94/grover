{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":31},"end":{"line":2,"column":61,"index":92}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"],"imports":1}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":41,"index":134}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../utils/environment","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":135},"end":{"line":4,"column":45,"index":180}}],"key":"ZHbdf+zAJuwAaiIxqWoPGRJz4oo=","exportNames":["*"],"imports":1}},{"name":"./../integrations/debugsymbolicatorutils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":181},"end":{"line":5,"column":72,"index":253}}],"key":"nUqhHiztfuAdMFFfqd4U6Ns6Szo=","exportNames":["*"],"imports":1}},{"name":"./span","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":254},"end":{"line":6,"column":90,"index":344}}],"key":"WASfu1uBL/rVwi9nIGl911GmKqk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"INTEGRATION_NAME\", {\n    enumerable: true,\n    get: function () {\n      return INTEGRATION_NAME;\n    }\n  });\n  Object.defineProperty(exports, \"defaultReactNativeTracingOptions\", {\n    enumerable: true,\n    get: function () {\n      return defaultReactNativeTracingOptions;\n    }\n  });\n  Object.defineProperty(exports, \"reactNativeTracingIntegration\", {\n    enumerable: true,\n    get: function () {\n      return reactNativeTracingIntegration;\n    }\n  });\n  exports.getCurrentReactNativeTracingIntegration = getCurrentReactNativeTracingIntegration;\n  exports.getReactNativeTracingIntegration = getReactNativeTracingIntegration;\n  var _sentryBrowser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _sentryCore = require(_dependencyMap[1], \"@sentry/core\");\n  var _utilsEnvironment = require(_dependencyMap[2], \"../utils/environment\");\n  var _integrationsDebugsymbolicatorutils = require(_dependencyMap[3], \"./../integrations/debugsymbolicatorutils\");\n  var _span = require(_dependencyMap[4], \"./span\");\n  /* eslint-disable max-lines */\n\n  const INTEGRATION_NAME = 'ReactNativeTracing';\n  function getDefaultTracePropagationTargets() {\n    if ((0, _utilsEnvironment.isWeb)()) {\n      return undefined;\n    }\n    return [/.*/];\n  }\n  const defaultReactNativeTracingOptions = {\n    // Fetch in React Native is a `whatwg-fetch` polyfill which uses XHR under the hood.\n    // This causes duplicates when both `traceFetch` and `traceXHR` are enabled at the same time.\n    // https://github.com/facebook/react-native/blob/28945c68da056ab2ac01de7e542a845b2bca6096/packages/react-native/Libraries/Network/fetch.js\n    // (RN Web uses browsers native fetch implementation)\n    traceFetch: (0, _utilsEnvironment.isWeb)() ? true : false,\n    traceXHR: true,\n    enableHTTPTimings: true\n  };\n  const reactNativeTracingIntegration = (options = {}) => {\n    var _a, _b, _c, _d;\n    const state = {\n      currentRoute: undefined\n    };\n    const finalOptions = Object.assign(Object.assign(Object.assign({}, defaultReactNativeTracingOptions), options), {\n      beforeStartSpan: (_a = options.beforeStartSpan) !== null && _a !== void 0 ? _a : options => options,\n      finalTimeoutMs: (_b = options.finalTimeoutMs) !== null && _b !== void 0 ? _b : _span.defaultIdleOptions.finalTimeout,\n      idleTimeoutMs: (_c = options.idleTimeoutMs) !== null && _c !== void 0 ? _c : _span.defaultIdleOptions.idleTimeout\n    });\n    const userShouldCreateSpanForRequest = finalOptions.shouldCreateSpanForRequest;\n    // Drop Dev Server Spans\n    const devServerUrl = (_d = (0, _integrationsDebugsymbolicatorutils.getDevServer)()) === null || _d === void 0 ? void 0 : _d.url;\n    const finalShouldCreateSpanForRequest = devServerUrl === undefined ? userShouldCreateSpanForRequest : url => {\n      if (url.startsWith(devServerUrl)) {\n        return false;\n      }\n      if (userShouldCreateSpanForRequest) {\n        return userShouldCreateSpanForRequest(url);\n      }\n      return true;\n    };\n    finalOptions.shouldCreateSpanForRequest = finalShouldCreateSpanForRequest;\n    const setup = client => {\n      (0, _span.addDefaultOpForSpanFrom)(client);\n      (0, _span.addThreadInfoToSpan)(client);\n      (0, _sentryBrowser.instrumentOutgoingRequests)(client, {\n        traceFetch: finalOptions.traceFetch,\n        traceXHR: finalOptions.traceXHR,\n        shouldCreateSpanForRequest: finalOptions.shouldCreateSpanForRequest,\n        tracePropagationTargets: client.getOptions().tracePropagationTargets || getDefaultTracePropagationTargets()\n      });\n    };\n    const processEvent = event => {\n      if (event.contexts && state.currentRoute) {\n        event.contexts.app = Object.assign({\n          view_names: [state.currentRoute]\n        }, event.contexts.app);\n      }\n      return event;\n    };\n    return {\n      name: INTEGRATION_NAME,\n      setup,\n      processEvent,\n      options: finalOptions,\n      state,\n      setCurrentRoute: route => {\n        state.currentRoute = route;\n      }\n    };\n  };\n  /**\n   * Returns the current React Native Tracing integration.\n   */\n  function getCurrentReactNativeTracingIntegration() {\n    const client = (0, _sentryCore.getClient)();\n    if (!client) {\n      return undefined;\n    }\n    return getReactNativeTracingIntegration(client);\n  }\n  /**\n   * Returns React Native Tracing integration of given client.\n   */\n  function getReactNativeTracingIntegration(client) {\n    return client.getIntegrationByName(INTEGRATION_NAME);\n  }\n});","lineCount":118,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"INTEGRATION_NAME"],[10,29,7,0],[11,4,7,0],[12,2,7,0],[13,2,14,0,"Object"],[13,8,14,0],[13,9,14,0,"defineProperty"],[13,23,14,0],[13,24,14,0,"exports"],[13,31,14,0],[14,4,14,0,"enumerable"],[14,14,14,0],[15,4,14,0,"get"],[15,7,14,0],[15,18,14,0,"get"],[15,19,14,0],[16,6,14,0],[16,13,14,0,"defaultReactNativeTracingOptions"],[16,45,14,0],[17,4,14,0],[18,2,14,0],[19,2,23,0,"Object"],[19,8,23,0],[19,9,23,0,"defineProperty"],[19,23,23,0],[19,24,23,0,"exports"],[19,31,23,0],[20,4,23,0,"enumerable"],[20,14,23,0],[21,4,23,0,"get"],[21,7,23,0],[21,18,23,0,"get"],[21,19,23,0],[22,6,23,0],[22,13,23,0,"reactNativeTracingIntegration"],[22,42,23,0],[23,4,23,0],[24,2,23,0],[25,2,74,0,"exports"],[25,9,74,0],[25,10,74,0,"getCurrentReactNativeTracingIntegration"],[25,49,74,0],[25,52,74,0,"getCurrentReactNativeTracingIntegration"],[25,91,74,0],[26,2,84,0,"exports"],[26,9,84,0],[26,10,84,0,"getReactNativeTracingIntegration"],[26,42,84,0],[26,45,84,0,"getReactNativeTracingIntegration"],[26,77,84,0],[27,2,2,0],[27,6,2,0,"_sentryBrowser"],[27,20,2,0],[27,23,2,0,"require"],[27,30,2,0],[27,31,2,0,"_dependencyMap"],[27,45,2,0],[28,2,3,0],[28,6,3,0,"_sentryCore"],[28,17,3,0],[28,20,3,0,"require"],[28,27,3,0],[28,28,3,0,"_dependencyMap"],[28,42,3,0],[29,2,4,0],[29,6,4,0,"_utilsEnvironment"],[29,23,4,0],[29,26,4,0,"require"],[29,33,4,0],[29,34,4,0,"_dependencyMap"],[29,48,4,0],[30,2,5,0],[30,6,5,0,"_integrationsDebugsymbolicatorutils"],[30,41,5,0],[30,44,5,0,"require"],[30,51,5,0],[30,52,5,0,"_dependencyMap"],[30,66,5,0],[31,2,6,0],[31,6,6,0,"_span"],[31,11,6,0],[31,14,6,0,"require"],[31,21,6,0],[31,22,6,0,"_dependencyMap"],[31,36,6,0],[32,2,1,0],[34,2,7,7],[34,8,7,13,"INTEGRATION_NAME"],[34,24,7,29],[34,27,7,32],[34,47,7,52],[35,2,8,0],[35,11,8,9,"getDefaultTracePropagationTargets"],[35,44,8,42,"getDefaultTracePropagationTargets"],[35,45,8,42],[35,47,8,45],[36,4,9,4],[36,8,9,8],[36,12,9,8,"isWeb"],[36,29,9,13],[36,30,9,13,"isWeb"],[36,35,9,13],[36,37,9,14],[36,38,9,15],[36,40,9,17],[37,6,10,8],[37,13,10,15,"undefined"],[37,22,10,24],[38,4,11,4],[39,4,12,4],[39,11,12,11],[39,12,12,12],[39,16,12,16],[39,17,12,17],[40,2,13,0],[41,2,14,7],[41,8,14,13,"defaultReactNativeTracingOptions"],[41,40,14,45],[41,43,14,48],[42,4,15,4],[43,4,16,4],[44,4,17,4],[45,4,18,4],[46,4,19,4,"traceFetch"],[46,14,19,14],[46,16,19,16],[46,20,19,16,"isWeb"],[46,37,19,21],[46,38,19,21,"isWeb"],[46,43,19,21],[46,45,19,22],[46,46,19,23],[46,49,19,26],[46,53,19,30],[46,56,19,33],[46,61,19,38],[47,4,20,4,"traceXHR"],[47,12,20,12],[47,14,20,14],[47,18,20,18],[48,4,21,4,"enableHTTPTimings"],[48,21,21,21],[48,23,21,23],[49,2,22,0],[49,3,22,1],[50,2,23,7],[50,8,23,13,"reactNativeTracingIntegration"],[50,37,23,42],[50,40,23,45,"reactNativeTracingIntegration"],[50,41,23,46,"options"],[50,48,23,53],[50,51,23,56],[50,52,23,57],[50,53,23,58],[50,58,23,63],[51,4,24,4],[51,8,24,8,"_a"],[51,10,24,10],[51,12,24,12,"_b"],[51,14,24,14],[51,16,24,16,"_c"],[51,18,24,18],[51,20,24,20,"_d"],[51,22,24,22],[52,4,25,4],[52,10,25,10,"state"],[52,15,25,15],[52,18,25,18],[53,6,26,8,"currentRoute"],[53,18,26,20],[53,20,26,22,"undefined"],[54,4,27,4],[54,5,27,5],[55,4,28,4],[55,10,28,10,"finalOptions"],[55,22,28,22],[55,25,28,25,"Object"],[55,31,28,31],[55,32,28,32,"assign"],[55,38,28,38],[55,39,28,39,"Object"],[55,45,28,45],[55,46,28,46,"assign"],[55,52,28,52],[55,53,28,53,"Object"],[55,59,28,59],[55,60,28,60,"assign"],[55,66,28,66],[55,67,28,67],[55,68,28,68],[55,69,28,69],[55,71,28,71,"defaultReactNativeTracingOptions"],[55,103,28,103],[55,104,28,104],[55,106,28,106,"options"],[55,113,28,113],[55,114,28,114],[55,116,28,116],[56,6,28,118,"beforeStartSpan"],[56,21,28,133],[56,23,28,135],[56,24,28,136,"_a"],[56,26,28,138],[56,29,28,141,"options"],[56,36,28,148],[56,37,28,149,"beforeStartSpan"],[56,52,28,164],[56,58,28,170],[56,62,28,174],[56,66,28,178,"_a"],[56,68,28,180],[56,73,28,185],[56,78,28,190],[56,79,28,191],[56,82,28,194,"_a"],[56,84,28,196],[56,87,28,201,"options"],[56,94,28,208],[56,98,28,213,"options"],[56,105,28,221],[57,6,28,223,"finalTimeoutMs"],[57,20,28,237],[57,22,28,239],[57,23,28,240,"_b"],[57,25,28,242],[57,28,28,245,"options"],[57,35,28,252],[57,36,28,253,"finalTimeoutMs"],[57,50,28,267],[57,56,28,273],[57,60,28,277],[57,64,28,281,"_b"],[57,66,28,283],[57,71,28,288],[57,76,28,293],[57,77,28,294],[57,80,28,297,"_b"],[57,82,28,299],[57,85,28,302,"defaultIdleOptions"],[57,90,28,320],[57,91,28,320,"defaultIdleOptions"],[57,109,28,320],[57,110,28,321,"finalTimeout"],[57,122,28,333],[58,6,28,335,"idleTimeoutMs"],[58,19,28,348],[58,21,28,350],[58,22,28,351,"_c"],[58,24,28,353],[58,27,28,356,"options"],[58,34,28,363],[58,35,28,364,"idleTimeoutMs"],[58,48,28,377],[58,54,28,383],[58,58,28,387],[58,62,28,391,"_c"],[58,64,28,393],[58,69,28,398],[58,74,28,403],[58,75,28,404],[58,78,28,407,"_c"],[58,80,28,409],[58,83,28,412,"defaultIdleOptions"],[58,88,28,430],[58,89,28,430,"defaultIdleOptions"],[58,107,28,430],[58,108,28,431,"idleTimeout"],[59,4,28,443],[59,5,28,444],[59,6,28,445],[60,4,29,4],[60,10,29,10,"userShouldCreateSpanForRequest"],[60,40,29,40],[60,43,29,43,"finalOptions"],[60,55,29,55],[60,56,29,56,"shouldCreateSpanForRequest"],[60,82,29,82],[61,4,30,4],[62,4,31,4],[62,10,31,10,"devServerUrl"],[62,22,31,22],[62,25,31,25],[62,26,31,26,"_d"],[62,28,31,28],[62,31,31,31],[62,35,31,31,"getDevServer"],[62,70,31,43],[62,71,31,43,"getDevServer"],[62,83,31,43],[62,85,31,44],[62,86,31,45],[62,92,31,51],[62,96,31,55],[62,100,31,59,"_d"],[62,102,31,61],[62,107,31,66],[62,112,31,71],[62,113,31,72],[62,116,31,75],[62,121,31,80],[62,122,31,81],[62,125,31,84,"_d"],[62,127,31,86],[62,128,31,87,"url"],[62,131,31,90],[63,4,32,4],[63,10,32,10,"finalShouldCreateSpanForRequest"],[63,41,32,41],[63,44,32,44,"devServerUrl"],[63,56,32,56],[63,61,32,61,"undefined"],[63,70,32,70],[63,73,33,10,"userShouldCreateSpanForRequest"],[63,103,33,40],[63,106,34,11,"url"],[63,109,34,14],[63,113,34,19],[64,6,35,12],[64,10,35,16,"url"],[64,13,35,19],[64,14,35,20,"startsWith"],[64,24,35,30],[64,25,35,31,"devServerUrl"],[64,37,35,43],[64,38,35,44],[64,40,35,46],[65,8,36,16],[65,15,36,23],[65,20,36,28],[66,6,37,12],[67,6,38,12],[67,10,38,16,"userShouldCreateSpanForRequest"],[67,40,38,46],[67,42,38,48],[68,8,39,16],[68,15,39,23,"userShouldCreateSpanForRequest"],[68,45,39,53],[68,46,39,54,"url"],[68,49,39,57],[68,50,39,58],[69,6,40,12],[70,6,41,12],[70,13,41,19],[70,17,41,23],[71,4,42,8],[71,5,42,9],[72,4,43,4,"finalOptions"],[72,16,43,16],[72,17,43,17,"shouldCreateSpanForRequest"],[72,43,43,43],[72,46,43,46,"finalShouldCreateSpanForRequest"],[72,77,43,77],[73,4,44,4],[73,10,44,10,"setup"],[73,15,44,15],[73,18,44,19,"client"],[73,24,44,25],[73,28,44,30],[74,6,45,8],[74,10,45,8,"addDefaultOpForSpanFrom"],[74,15,45,31],[74,16,45,31,"addDefaultOpForSpanFrom"],[74,39,45,31],[74,41,45,32,"client"],[74,47,45,38],[74,48,45,39],[75,6,46,8],[75,10,46,8,"addThreadInfoToSpan"],[75,15,46,27],[75,16,46,27,"addThreadInfoToSpan"],[75,35,46,27],[75,37,46,28,"client"],[75,43,46,34],[75,44,46,35],[76,6,47,8],[76,10,47,8,"instrumentOutgoingRequests"],[76,24,47,34],[76,25,47,34,"instrumentOutgoingRequests"],[76,51,47,34],[76,53,47,35,"client"],[76,59,47,41],[76,61,47,43],[77,8,48,12,"traceFetch"],[77,18,48,22],[77,20,48,24,"finalOptions"],[77,32,48,36],[77,33,48,37,"traceFetch"],[77,43,48,47],[78,8,49,12,"traceXHR"],[78,16,49,20],[78,18,49,22,"finalOptions"],[78,30,49,34],[78,31,49,35,"traceXHR"],[78,39,49,43],[79,8,50,12,"shouldCreateSpanForRequest"],[79,34,50,38],[79,36,50,40,"finalOptions"],[79,48,50,52],[79,49,50,53,"shouldCreateSpanForRequest"],[79,75,50,79],[80,8,51,12,"tracePropagationTargets"],[80,31,51,35],[80,33,51,37,"client"],[80,39,51,43],[80,40,51,44,"getOptions"],[80,50,51,54],[80,51,51,55],[80,52,51,56],[80,53,51,57,"tracePropagationTargets"],[80,76,51,80],[80,80,51,84,"getDefaultTracePropagationTargets"],[80,113,51,117],[80,114,51,118],[81,6,52,8],[81,7,52,9],[81,8,52,10],[82,4,53,4],[82,5,53,5],[83,4,54,4],[83,10,54,10,"processEvent"],[83,22,54,22],[83,25,54,26,"event"],[83,30,54,31],[83,34,54,36],[84,6,55,8],[84,10,55,12,"event"],[84,15,55,17],[84,16,55,18,"contexts"],[84,24,55,26],[84,28,55,30,"state"],[84,33,55,35],[84,34,55,36,"currentRoute"],[84,46,55,48],[84,48,55,50],[85,8,56,12,"event"],[85,13,56,17],[85,14,56,18,"contexts"],[85,22,56,26],[85,23,56,27,"app"],[85,26,56,30],[85,29,56,33,"Object"],[85,35,56,39],[85,36,56,40,"assign"],[85,42,56,46],[85,43,56,47],[86,10,56,49,"view_names"],[86,20,56,59],[86,22,56,61],[86,23,56,62,"state"],[86,28,56,67],[86,29,56,68,"currentRoute"],[86,41,56,80],[87,8,56,82],[87,9,56,83],[87,11,56,85,"event"],[87,16,56,90],[87,17,56,91,"contexts"],[87,25,56,99],[87,26,56,100,"app"],[87,29,56,103],[87,30,56,104],[88,6,57,8],[89,6,58,8],[89,13,58,15,"event"],[89,18,58,20],[90,4,59,4],[90,5,59,5],[91,4,60,4],[91,11,60,11],[92,6,61,8,"name"],[92,10,61,12],[92,12,61,14,"INTEGRATION_NAME"],[92,28,61,30],[93,6,62,8,"setup"],[93,11,62,13],[94,6,63,8,"processEvent"],[94,18,63,20],[95,6,64,8,"options"],[95,13,64,15],[95,15,64,17,"finalOptions"],[95,27,64,29],[96,6,65,8,"state"],[96,11,65,13],[97,6,66,8,"setCurrentRoute"],[97,21,66,23],[97,23,66,26,"route"],[97,28,66,31],[97,32,66,36],[98,8,67,12,"state"],[98,13,67,17],[98,14,67,18,"currentRoute"],[98,26,67,30],[98,29,67,33,"route"],[98,34,67,38],[99,6,68,8],[100,4,69,4],[100,5,69,5],[101,2,70,0],[101,3,70,1],[102,2,71,0],[103,0,72,0],[104,0,73,0],[105,2,74,7],[105,11,74,16,"getCurrentReactNativeTracingIntegration"],[105,50,74,55,"getCurrentReactNativeTracingIntegration"],[105,51,74,55],[105,53,74,58],[106,4,75,4],[106,10,75,10,"client"],[106,16,75,16],[106,19,75,19],[106,23,75,19,"getClient"],[106,34,75,28],[106,35,75,28,"getClient"],[106,44,75,28],[106,46,75,29],[106,47,75,30],[107,4,76,4],[107,8,76,8],[107,9,76,9,"client"],[107,15,76,15],[107,17,76,17],[108,6,77,8],[108,13,77,15,"undefined"],[108,22,77,24],[109,4,78,4],[110,4,79,4],[110,11,79,11,"getReactNativeTracingIntegration"],[110,43,79,43],[110,44,79,44,"client"],[110,50,79,50],[110,51,79,51],[111,2,80,0],[112,2,81,0],[113,0,82,0],[114,0,83,0],[115,2,84,7],[115,11,84,16,"getReactNativeTracingIntegration"],[115,43,84,48,"getReactNativeTracingIntegration"],[115,44,84,49,"client"],[115,50,84,55],[115,52,84,57],[116,4,85,4],[116,11,85,11,"client"],[116,17,85,17],[116,18,85,18,"getIntegrationByName"],[116,38,85,38],[116,39,85,39,"INTEGRATION_NAME"],[116,55,85,55],[116,56,85,56],[117,2,86,0],[118,0,86,1],[118,3]],"functionMap":{"names":["<global>","getDefaultTracePropagationTargets","reactNativeTracingIntegration","<anonymous>","setup","processEvent","setCurrentRoute","getCurrentReactNativeTracingIntegration","getReactNativeTracingIntegration"],"mappings":"AAA;ACO;CDK;6CEU;wMCK,oBD;UCM;SDQ;kBEE;KFS;yBGC;KHK;yBIO;SJE;CFE;OOI;CPM;OQI;CRE"},"hasCjsExports":false},"type":"js/module"}]}