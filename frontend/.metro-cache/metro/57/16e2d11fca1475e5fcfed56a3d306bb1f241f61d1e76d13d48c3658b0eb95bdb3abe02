{"dependencies":[{"name":"../integration.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"B8aKvpmafw58aWtupuC7GWTMiwo=","exportNames":["*"],"imports":1}},{"name":"../metadata.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":88,"index":143}}],"key":"e+GcWU7PM4jYDq7rLAthu62vi9g=","exportNames":["*"],"imports":1}},{"name":"../utils/envelope.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":144},"end":{"line":3,"column":59,"index":203}}],"key":"yiniLg9hHeIHPDkrzeivR1oDz5o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"moduleMetadataIntegration\", {\n    enumerable: true,\n    get: function () {\n      return moduleMetadataIntegration;\n    }\n  });\n  var _integrationJs = require(_dependencyMap[0], \"../integration.js\");\n  var _metadataJs = require(_dependencyMap[1], \"../metadata.js\");\n  var _utilsEnvelopeJs = require(_dependencyMap[2], \"../utils/envelope.js\");\n  /**\n   * Adds module metadata to stack frames.\n   *\n   * Metadata can be injected by the Sentry bundler plugins using the `moduleMetadata` config option.\n   *\n   * When this integration is added, the metadata passed to the bundler plugin is added to the stack frames of all events\n   * under the `module_metadata` property. This can be used to help in tagging or routing of events from different teams\n   * our sources\n   */\n  const moduleMetadataIntegration = (0, _integrationJs.defineIntegration)(() => {\n    return {\n      name: 'ModuleMetadata',\n      setup(client) {\n        // We need to strip metadata from stack frames before sending them to Sentry since these are client side only.\n        client.on('beforeEnvelope', envelope => {\n          (0, _utilsEnvelopeJs.forEachEnvelopeItem)(envelope, (item, type) => {\n            if (type === 'event') {\n              const event = Array.isArray(item) ? item[1] : undefined;\n              if (event) {\n                (0, _metadataJs.stripMetadataFromStackFrames)(event);\n                item[1] = event;\n              }\n            }\n          });\n        });\n        client.on('applyFrameMetadata', event => {\n          // Only apply stack frame metadata to error events\n          if (event.type) {\n            return;\n          }\n          const stackParser = client.getOptions().stackParser;\n          (0, _metadataJs.addMetadataToStackFrames)(stackParser, event);\n        });\n      }\n    };\n  });\n});","lineCount":52,"map":[[7,2,45,0,"Object"],[7,8,45,0],[7,9,45,0,"defineProperty"],[7,23,45,0],[7,24,45,0,"exports"],[7,31,45,0],[8,4,45,0,"enumerable"],[8,14,45,0],[9,4,45,0,"get"],[9,7,45,0],[9,18,45,0,"get"],[9,19,45,0],[10,6,45,0],[10,13,45,9,"moduleMetadataIntegration"],[10,38,45,34],[11,4,45,34],[12,2,45,34],[13,2,1,0],[13,6,1,0,"_integrationJs"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_metadataJs"],[14,17,2,0],[14,20,2,0,"require"],[14,27,2,0],[14,28,2,0,"_dependencyMap"],[14,42,2,0],[15,2,3,0],[15,6,3,0,"_utilsEnvelopeJs"],[15,22,3,0],[15,25,3,0,"require"],[15,32,3,0],[15,33,3,0,"_dependencyMap"],[15,47,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,2,14,0],[25,8,14,6,"moduleMetadataIntegration"],[25,33,14,31],[25,36,14,34],[25,40,14,34,"defineIntegration"],[25,54,14,51],[25,55,14,51,"defineIntegration"],[25,72,14,51],[25,74,14,52],[25,80,14,58],[26,4,15,2],[26,11,15,9],[27,6,16,4,"name"],[27,10,16,8],[27,12,16,10],[27,28,16,26],[28,6,17,4,"setup"],[28,11,17,9,"setup"],[28,12,17,10,"client"],[28,18,17,16],[28,20,17,18],[29,8,18,6],[30,8,19,6,"client"],[30,14,19,12],[30,15,19,13,"on"],[30,17,19,15],[30,18,19,16],[30,34,19,32],[30,36,19,34,"envelope"],[30,44,19,42],[30,48,19,46],[31,10,20,8],[31,14,20,8,"forEachEnvelopeItem"],[31,30,20,27],[31,31,20,27,"forEachEnvelopeItem"],[31,50,20,27],[31,52,20,28,"envelope"],[31,60,20,36],[31,62,20,38],[31,63,20,39,"item"],[31,67,20,43],[31,69,20,45,"type"],[31,73,20,49],[31,78,20,54],[32,12,21,10],[32,16,21,14,"type"],[32,20,21,18],[32,25,21,23],[32,32,21,30],[32,34,21,32],[33,14,22,12],[33,20,22,18,"event"],[33,25,22,23],[33,28,22,26,"Array"],[33,33,22,31],[33,34,22,32,"isArray"],[33,41,22,39],[33,42,22,40,"item"],[33,46,22,44],[33,47,22,45],[33,50,22,49,"item"],[33,54,22,53],[33,55,22,56],[33,56,22,57],[33,57,22,58],[33,60,22,61,"undefined"],[33,69,22,70],[34,14,24,12],[34,18,24,16,"event"],[34,23,24,21],[34,25,24,23],[35,16,25,14],[35,20,25,14,"stripMetadataFromStackFrames"],[35,31,25,42],[35,32,25,42,"stripMetadataFromStackFrames"],[35,60,25,42],[35,62,25,43,"event"],[35,67,25,48],[35,68,25,49],[36,16,26,14,"item"],[36,20,26,18],[36,21,26,19],[36,22,26,20],[36,23,26,21],[36,26,26,24,"event"],[36,31,26,29],[37,14,27,12],[38,12,28,10],[39,10,29,8],[39,11,29,9],[39,12,29,10],[40,8,30,6],[40,9,30,7],[40,10,30,8],[41,8,32,6,"client"],[41,14,32,12],[41,15,32,13,"on"],[41,17,32,15],[41,18,32,16],[41,38,32,36],[41,40,32,38,"event"],[41,45,32,43],[41,49,32,47],[42,10,33,8],[43,10,34,8],[43,14,34,12,"event"],[43,19,34,17],[43,20,34,18,"type"],[43,24,34,22],[43,26,34,24],[44,12,35,10],[45,10,36,8],[46,10,38,8],[46,16,38,14,"stackParser"],[46,27,38,25],[46,30,38,28,"client"],[46,36,38,34],[46,37,38,35,"getOptions"],[46,47,38,45],[46,48,38,46],[46,49,38,47],[46,50,38,48,"stackParser"],[46,61,38,59],[47,10,39,8],[47,14,39,8,"addMetadataToStackFrames"],[47,25,39,32],[47,26,39,32,"addMetadataToStackFrames"],[47,50,39,32],[47,52,39,33,"stackParser"],[47,63,39,44],[47,65,39,46,"event"],[47,70,39,51],[47,71,39,52],[48,8,40,6],[48,9,40,7],[48,10,40,8],[49,6,41,4],[50,4,42,2],[50,5,42,3],[51,2,43,0],[51,3,43,1],[51,4,43,2],[52,0,43,3],[52,3]],"functionMap":{"names":["<global>","defineIntegration$argument_0","setup","client.on$argument_1","forEachEnvelopeItem$argument_1"],"mappings":"AAA;oDCa;ICG;kCCE;sCCC;SDS;ODC;sCCE;ODQ;KDC;CDE"},"hasCjsExports":false},"type":"js/module"}]}