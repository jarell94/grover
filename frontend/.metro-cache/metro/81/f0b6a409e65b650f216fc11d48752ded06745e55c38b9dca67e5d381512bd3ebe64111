{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":126,"index":126}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"reportingObserverIntegration\", {\n    enumerable: true,\n    get: function () {\n      return reportingObserverIntegration;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  const WINDOW = _sentryCore.GLOBAL_OBJ;\n  const INTEGRATION_NAME = 'ReportingObserver';\n  const SETUP_CLIENTS = new WeakMap();\n  const _reportingObserverIntegration = (options = {}) => {\n    const types = options.types || ['crash', 'deprecation', 'intervention'];\n\n    /** Handler for the reporting observer. */\n    function handler(reports) {\n      if (!SETUP_CLIENTS.has((0, _sentryCore.getClient)())) {\n        return;\n      }\n      for (const report of reports) {\n        (0, _sentryCore.withScope)(scope => {\n          scope.setExtra('url', report.url);\n          const label = `ReportingObserver [${report.type}]`;\n          let details = 'No details available';\n          if (report.body) {\n            // Object.keys doesn't work on ReportBody, as all properties are inherited\n            const plainBody = {};\n\n            // eslint-disable-next-line guard-for-in\n            for (const prop in report.body) {\n              plainBody[prop] = report.body[prop];\n            }\n            scope.setExtra('body', plainBody);\n            if (report.type === 'crash') {\n              const body = report.body;\n              // A fancy way to create a message out of crashId OR reason OR both OR fallback\n              details = [body.crashId || '', body.reason || ''].join(' ').trim() || details;\n            } else {\n              const body = report.body;\n              details = body.message || details;\n            }\n          }\n          (0, _sentryCore.captureMessage)(`${label}: ${details}`);\n        });\n      }\n    }\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce() {\n        if (!(0, _sentryCore.supportsReportingObserver)()) {\n          return;\n        }\n        const observer = new WINDOW.ReportingObserver(handler, {\n          buffered: true,\n          types\n        });\n        observer.observe();\n      },\n      setup(client) {\n        SETUP_CLIENTS.set(client, true);\n      }\n    };\n  };\n\n  /**\n   * Reporting API integration - https://w3c.github.io/reporting/\n   */\n  const reportingObserverIntegration = (0, _sentryCore.defineIntegration)(_reportingObserverIntegration);\n});","lineCount":74,"map":[[7,2,82,0,"Object"],[7,8,82,0],[7,9,82,0,"defineProperty"],[7,23,82,0],[7,24,82,0,"exports"],[7,31,82,0],[8,4,82,0,"enumerable"],[8,14,82,0],[9,4,82,0,"get"],[9,7,82,0],[9,18,82,0,"get"],[9,19,82,0],[10,6,82,0],[10,13,82,9,"reportingObserverIntegration"],[10,41,82,37],[11,4,82,37],[12,2,82,37],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,3,0],[14,8,3,6,"WINDOW"],[14,14,3,12],[14,17,3,15,"GLOBAL_OBJ"],[14,28,3,25],[14,29,3,25,"GLOBAL_OBJ"],[14,39,3,25],[15,2,5,0],[15,8,5,6,"INTEGRATION_NAME"],[15,24,5,22],[15,27,5,25],[15,46,5,44],[16,2,7,0],[16,8,7,6,"SETUP_CLIENTS"],[16,21,7,19],[16,24,7,22],[16,28,7,26,"WeakMap"],[16,35,7,33],[16,36,7,34],[16,37,7,35],[17,2,9,0],[17,8,9,6,"_reportingObserverIntegration"],[17,37,9,35],[17,40,9,39,"_reportingObserverIntegration"],[17,41,9,40,"options"],[17,48,9,47],[17,51,9,50],[17,52,9,51],[17,53,9,52],[17,58,9,57],[18,4,10,2],[18,10,10,8,"types"],[18,15,10,13],[18,18,10,16,"options"],[18,25,10,23],[18,26,10,24,"types"],[18,31,10,29],[18,35,10,33],[18,36,10,34],[18,43,10,41],[18,45,10,43],[18,58,10,56],[18,60,10,58],[18,74,10,72],[18,75,10,73],[20,4,12,2],[21,4,13,2],[21,13,13,11,"handler"],[21,20,13,18,"handler"],[21,21,13,19,"reports"],[21,28,13,26],[21,30,13,28],[22,6,14,4],[22,10,14,8],[22,11,14,9,"SETUP_CLIENTS"],[22,24,14,22],[22,25,14,23,"has"],[22,28,14,26],[22,29,14,27],[22,33,14,27,"getClient"],[22,44,14,36],[22,45,14,36,"getClient"],[22,54,14,36],[22,56,14,37],[22,57,14,39],[22,58,14,40],[22,60,14,42],[23,8,15,6],[24,6,16,4],[25,6,18,4],[25,11,18,9],[25,17,18,15,"report"],[25,23,18,21],[25,27,18,25,"reports"],[25,34,18,32],[25,36,18,34],[26,8,19,6],[26,12,19,6,"withScope"],[26,23,19,15],[26,24,19,15,"withScope"],[26,33,19,15],[26,35,19,16,"scope"],[26,40,19,21],[26,44,19,25],[27,10,20,8,"scope"],[27,15,20,13],[27,16,20,14,"setExtra"],[27,24,20,22],[27,25,20,23],[27,30,20,28],[27,32,20,30,"report"],[27,38,20,36],[27,39,20,37,"url"],[27,42,20,40],[27,43,20,41],[28,10,22,8],[28,16,22,14,"label"],[28,21,22,19],[28,24,22,22],[28,46,22,44,"report"],[28,52,22,50],[28,53,22,51,"type"],[28,57,22,55],[28,60,22,58],[29,10,23,8],[29,14,23,12,"details"],[29,21,23,19],[29,24,23,22],[29,46,23,44],[30,10,25,8],[30,14,25,12,"report"],[30,20,25,18],[30,21,25,19,"body"],[30,25,25,23],[30,27,25,25],[31,12,26,10],[32,12,27,10],[32,18,27,16,"plainBody"],[32,27,27,25],[32,30,29,3],[32,31,29,4],[32,32,29,5],[34,12,31,10],[35,12,32,10],[35,17,32,15],[35,23,32,21,"prop"],[35,27,32,25],[35,31,32,29,"report"],[35,37,32,35],[35,38,32,36,"body"],[35,42,32,40],[35,44,32,42],[36,14,33,12,"plainBody"],[36,23,33,21],[36,24,33,22,"prop"],[36,28,33,26],[36,29,33,27],[36,32,33,30,"report"],[36,38,33,36],[36,39,33,37,"body"],[36,43,33,41],[36,44,33,42,"prop"],[36,48,33,46],[36,49,33,47],[37,12,34,10],[38,12,36,10,"scope"],[38,17,36,15],[38,18,36,16,"setExtra"],[38,26,36,24],[38,27,36,25],[38,33,36,31],[38,35,36,33,"plainBody"],[38,44,36,42],[38,45,36,43],[39,12,38,10],[39,16,38,14,"report"],[39,22,38,20],[39,23,38,21,"type"],[39,27,38,25],[39,32,38,30],[39,39,38,37],[39,41,38,39],[40,14,39,12],[40,20,39,18,"body"],[40,24,39,22],[40,27,39,25,"report"],[40,33,39,31],[40,34,39,32,"body"],[40,38,39,36],[41,14,40,12],[42,14,41,12,"details"],[42,21,41,19],[42,24,41,22],[42,25,41,23,"body"],[42,29,41,27],[42,30,41,28,"crashId"],[42,37,41,35],[42,41,41,39],[42,43,41,41],[42,45,41,43,"body"],[42,49,41,47],[42,50,41,48,"reason"],[42,56,41,54],[42,60,41,58],[42,62,41,60],[42,63,41,61],[42,64,41,62,"join"],[42,68,41,66],[42,69,41,67],[42,72,41,70],[42,73,41,71],[42,74,41,72,"trim"],[42,78,41,76],[42,79,41,77],[42,80,41,78],[42,84,41,82,"details"],[42,91,41,89],[43,12,42,10],[43,13,42,11],[43,19,42,17],[44,14,43,12],[44,20,43,18,"body"],[44,24,43,22],[44,27,43,25,"report"],[44,33,43,31],[44,34,43,32,"body"],[44,38,43,36],[45,14,44,12,"details"],[45,21,44,19],[45,24,44,22,"body"],[45,28,44,26],[45,29,44,27,"message"],[45,36,44,34],[45,40,44,38,"details"],[45,47,44,45],[46,12,45,10],[47,10,46,8],[48,10,48,8],[48,14,48,8,"captureMessage"],[48,25,48,22],[48,26,48,22,"captureMessage"],[48,40,48,22],[48,42,48,23],[48,45,48,26,"label"],[48,50,48,31],[48,55,48,36,"details"],[48,62,48,43],[48,64,48,45],[48,65,48,46],[49,8,49,6],[49,9,49,7],[49,10,49,8],[50,6,50,4],[51,4,51,2],[52,4,53,2],[52,11,53,9],[53,6,54,4,"name"],[53,10,54,8],[53,12,54,10,"INTEGRATION_NAME"],[53,28,54,26],[54,6,55,4,"setupOnce"],[54,15,55,13,"setupOnce"],[54,16,55,13],[54,18,55,16],[55,8,56,6],[55,12,56,10],[55,13,56,11],[55,17,56,11,"supportsReportingObserver"],[55,28,56,36],[55,29,56,36,"supportsReportingObserver"],[55,54,56,36],[55,56,56,37],[55,57,56,38],[55,59,56,40],[56,10,57,8],[57,8,58,6],[58,8,60,6],[58,14,60,12,"observer"],[58,22,60,20],[58,25,60,23],[58,29,60,28,"WINDOW"],[58,35,60,34],[58,36,60,37,"ReportingObserver"],[58,53,60,54],[58,54,61,8,"handler"],[58,61,61,15],[58,63,62,8],[59,10,63,10,"buffered"],[59,18,63,18],[59,20,63,20],[59,24,63,24],[60,10,64,10,"types"],[61,8,65,8],[61,9,66,6],[61,10,66,7],[62,8,68,6,"observer"],[62,16,68,14],[62,17,68,15,"observe"],[62,24,68,22],[62,25,68,23],[62,26,68,24],[63,6,69,4],[63,7,69,5],[64,6,71,4,"setup"],[64,11,71,9,"setup"],[64,12,71,10,"client"],[64,18,71,16],[64,20,71,18],[65,8,72,6,"SETUP_CLIENTS"],[65,21,72,19],[65,22,72,20,"set"],[65,25,72,23],[65,26,72,24,"client"],[65,32,72,30],[65,34,72,32],[65,38,72,36],[65,39,72,37],[66,6,73,4],[67,4,74,2],[67,5,74,3],[68,2,75,0],[68,3,75,2],[70,2,77,0],[71,0,78,0],[72,0,79,0],[73,2,80,0],[73,8,80,6,"reportingObserverIntegration"],[73,36,80,34],[73,39,80,37],[73,43,80,37,"defineIntegration"],[73,54,80,54],[73,55,80,54,"defineIntegration"],[73,72,80,54],[73,74,80,55,"_reportingObserverIntegration"],[73,103,80,84],[73,104,80,85],[74,0,80,86],[74,3]],"functionMap":{"names":["<global>","_reportingObserverIntegration","handler","withScope$argument_0","setupOnce","setup"],"mappings":"AAA;uCCQ;ECI;gBCM;OD8B;GDE;IGI;KHc;IIE;KJE;CDE"},"hasCjsExports":false},"type":"js/module"}]}