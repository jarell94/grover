{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":103,"index":103}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"./debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":104},"end":{"line":2,"column":47,"index":151}}],"key":"nOZ2HunKnzL39LFdYoJbtaXPZ5g=","exportNames":["*"],"imports":1}},{"name":"./helpers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":152},"end":{"line":3,"column":38,"index":190}}],"key":"Y7YGoIAOGQa78JTLfazw+ehPeHs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"showReportDialog\", {\n    enumerable: true,\n    get: function () {\n      return showReportDialog;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _debugBuildJs = require(_dependencyMap[1], \"./debug-build.js\");\n  var _helpersJs = require(_dependencyMap[2], \"./helpers.js\");\n  /**\n   * Present the user with a report dialog.\n   *\n   * @param options Everything is optional, we try to fetch all info need from the current scope.\n   */\n  function showReportDialog(options = {}) {\n    const optionalDocument = _helpersJs.WINDOW.document;\n    const injectionPoint = optionalDocument?.head || optionalDocument?.body;\n\n    // doesn't work without a document (React Native)\n    if (!injectionPoint) {\n      _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.error('[showReportDialog] Global document not defined');\n      return;\n    }\n    const scope = (0, _sentryCore.getCurrentScope)();\n    const client = (0, _sentryCore.getClient)();\n    const dsn = client?.getDsn();\n    if (!dsn) {\n      _debugBuildJs.DEBUG_BUILD && _sentryCore.debug.error('[showReportDialog] DSN not configured');\n      return;\n    }\n    const mergedOptions = {\n      ...options,\n      user: {\n        ...scope.getUser(),\n        ...options.user\n      },\n      eventId: options.eventId || (0, _sentryCore.lastEventId)()\n    };\n    const script = _helpersJs.WINDOW.document.createElement('script');\n    script.async = true;\n    script.crossOrigin = 'anonymous';\n    script.src = (0, _sentryCore.getReportDialogEndpoint)(dsn, mergedOptions);\n    const {\n      onLoad,\n      onClose\n    } = mergedOptions;\n    if (onLoad) {\n      script.onload = onLoad;\n    }\n    if (onClose) {\n      const reportDialogClosedMessageHandler = event => {\n        if (event.data === '__sentry_reportdialog_closed__') {\n          try {\n            onClose();\n          } finally {\n            _helpersJs.WINDOW.removeEventListener('message', reportDialogClosedMessageHandler);\n          }\n        }\n      };\n      _helpersJs.WINDOW.addEventListener('message', reportDialogClosedMessageHandler);\n    }\n    injectionPoint.appendChild(script);\n  }\n});","lineCount":70,"map":[[7,2,65,0,"Object"],[7,8,65,0],[7,9,65,0,"defineProperty"],[7,23,65,0],[7,24,65,0,"exports"],[7,31,65,0],[8,4,65,0,"enumerable"],[8,14,65,0],[9,4,65,0,"get"],[9,7,65,0],[9,18,65,0,"get"],[9,19,65,0],[10,6,65,0],[10,13,65,9,"showReportDialog"],[10,29,65,25],[11,4,65,25],[12,2,65,25],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_debugBuildJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_helpersJs"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,2,10,0],[21,11,10,9,"showReportDialog"],[21,27,10,25,"showReportDialog"],[21,28,10,26,"options"],[21,35,10,33],[21,38,10,36],[21,39,10,37],[21,40,10,38],[21,42,10,40],[22,4,11,2],[22,10,11,8,"optionalDocument"],[22,26,11,24],[22,29,11,27,"WINDOW"],[22,39,11,33],[22,40,11,33,"WINDOW"],[22,46,11,33],[22,47,11,34,"document"],[22,55,11,42],[23,4,12,2],[23,10,12,8,"injectionPoint"],[23,24,12,22],[23,27,12,25,"optionalDocument"],[23,43,12,41],[23,45,12,43,"head"],[23,49,12,47],[23,53,12,51,"optionalDocument"],[23,69,12,67],[23,71,12,69,"body"],[23,75,12,73],[25,4,14,2],[26,4,15,2],[26,8,15,6],[26,9,15,7,"injectionPoint"],[26,23,15,21],[26,25,15,23],[27,6,16,4,"DEBUG_BUILD"],[27,19,16,15],[27,20,16,15,"DEBUG_BUILD"],[27,31,16,15],[27,35,16,19,"debug"],[27,46,16,24],[27,47,16,24,"debug"],[27,52,16,24],[27,53,16,25,"error"],[27,58,16,30],[27,59,16,31],[27,107,16,79],[27,108,16,80],[28,6,17,4],[29,4,18,2],[30,4,20,2],[30,10,20,8,"scope"],[30,15,20,13],[30,18,20,16],[30,22,20,16,"getCurrentScope"],[30,33,20,31],[30,34,20,31,"getCurrentScope"],[30,49,20,31],[30,51,20,32],[30,52,20,33],[31,4,21,2],[31,10,21,8,"client"],[31,16,21,14],[31,19,21,17],[31,23,21,17,"getClient"],[31,34,21,26],[31,35,21,26,"getClient"],[31,44,21,26],[31,46,21,27],[31,47,21,28],[32,4,22,2],[32,10,22,8,"dsn"],[32,13,22,11],[32,16,22,14,"client"],[32,22,22,20],[32,24,22,22,"getDsn"],[32,30,22,28],[32,31,22,29],[32,32,22,30],[33,4,24,2],[33,8,24,6],[33,9,24,7,"dsn"],[33,12,24,10],[33,14,24,12],[34,6,25,4,"DEBUG_BUILD"],[34,19,25,15],[34,20,25,15,"DEBUG_BUILD"],[34,31,25,15],[34,35,25,19,"debug"],[34,46,25,24],[34,47,25,24,"debug"],[34,52,25,24],[34,53,25,25,"error"],[34,58,25,30],[34,59,25,31],[34,98,25,70],[34,99,25,71],[35,6,26,4],[36,4,27,2],[37,4,29,2],[37,10,29,8,"mergedOptions"],[37,23,29,21],[37,26,29,24],[38,6,30,4],[38,9,30,7,"options"],[38,16,30,14],[39,6,31,4,"user"],[39,10,31,8],[39,12,31,10],[40,8,32,6],[40,11,32,9,"scope"],[40,16,32,14],[40,17,32,15,"getUser"],[40,24,32,22],[40,25,32,23],[40,26,32,24],[41,8,33,6],[41,11,33,9,"options"],[41,18,33,16],[41,19,33,17,"user"],[42,6,34,4],[42,7,34,5],[43,6,35,4,"eventId"],[43,13,35,11],[43,15,35,13,"options"],[43,22,35,20],[43,23,35,21,"eventId"],[43,30,35,28],[43,34,35,32],[43,38,35,32,"lastEventId"],[43,49,35,43],[43,50,35,43,"lastEventId"],[43,61,35,43],[43,63,35,44],[44,4,36,2],[44,5,36,3],[45,4,38,2],[45,10,38,8,"script"],[45,16,38,14],[45,19,38,17,"WINDOW"],[45,29,38,23],[45,30,38,23,"WINDOW"],[45,36,38,23],[45,37,38,24,"document"],[45,45,38,32],[45,46,38,33,"createElement"],[45,59,38,46],[45,60,38,47],[45,68,38,55],[45,69,38,56],[46,4,39,2,"script"],[46,10,39,8],[46,11,39,9,"async"],[46,16,39,14],[46,19,39,17],[46,23,39,21],[47,4,40,2,"script"],[47,10,40,8],[47,11,40,9,"crossOrigin"],[47,22,40,20],[47,25,40,23],[47,36,40,34],[48,4,41,2,"script"],[48,10,41,8],[48,11,41,9,"src"],[48,14,41,12],[48,17,41,15],[48,21,41,15,"getReportDialogEndpoint"],[48,32,41,38],[48,33,41,38,"getReportDialogEndpoint"],[48,56,41,38],[48,58,41,39,"dsn"],[48,61,41,42],[48,63,41,44,"mergedOptions"],[48,76,41,57],[48,77,41,58],[49,4,43,2],[49,10,43,8],[50,6,43,10,"onLoad"],[50,12,43,16],[51,6,43,18,"onClose"],[52,4,43,26],[52,5,43,27],[52,8,43,30,"mergedOptions"],[52,21,43,43],[53,4,45,2],[53,8,45,6,"onLoad"],[53,14,45,12],[53,16,45,14],[54,6,46,4,"script"],[54,12,46,10],[54,13,46,11,"onload"],[54,19,46,17],[54,22,46,20,"onLoad"],[54,28,46,26],[55,4,47,2],[56,4,49,2],[56,8,49,6,"onClose"],[56,15,49,13],[56,17,49,15],[57,6,50,4],[57,12,50,10,"reportDialogClosedMessageHandler"],[57,44,50,42],[57,47,50,46,"event"],[57,52,50,51],[57,56,50,56],[58,8,51,6],[58,12,51,10,"event"],[58,17,51,15],[58,18,51,16,"data"],[58,22,51,20],[58,27,51,25],[58,59,51,57],[58,61,51,59],[59,10,52,8],[59,14,52,12],[60,12,53,10,"onClose"],[60,19,53,17],[60,20,53,18],[60,21,53,19],[61,10,54,8],[61,11,54,9],[61,20,54,18],[62,12,55,10,"WINDOW"],[62,22,55,16],[62,23,55,16,"WINDOW"],[62,29,55,16],[62,30,55,17,"removeEventListener"],[62,49,55,36],[62,50,55,37],[62,59,55,46],[62,61,55,48,"reportDialogClosedMessageHandler"],[62,93,55,80],[62,94,55,81],[63,10,56,8],[64,8,57,6],[65,6,58,4],[65,7,58,5],[66,6,59,4,"WINDOW"],[66,16,59,10],[66,17,59,10,"WINDOW"],[66,23,59,10],[66,24,59,11,"addEventListener"],[66,40,59,27],[66,41,59,28],[66,50,59,37],[66,52,59,39,"reportDialogClosedMessageHandler"],[66,84,59,71],[66,85,59,72],[67,4,60,2],[68,4,62,2,"injectionPoint"],[68,18,62,16],[68,19,62,17,"appendChild"],[68,30,62,28],[68,31,62,29,"script"],[68,37,62,35],[68,38,62,36],[69,2,63,0],[70,0,63,1],[70,3]],"functionMap":{"names":["<global>","showReportDialog","reportDialogClosedMessageHandler"],"mappings":"AAA;ACS;6CCwC;KDQ;CDK"},"hasCjsExports":false},"type":"js/module"}]}