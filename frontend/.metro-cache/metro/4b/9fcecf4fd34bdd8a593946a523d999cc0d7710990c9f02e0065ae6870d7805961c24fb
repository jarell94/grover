{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":127,"index":127}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"../onSpanEndUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":128},"end":{"line":2,"column":59,"index":187}}],"key":"ctXLtR73WEDHyoLSdOx4LTXeubg=","exportNames":["*"],"imports":1}},{"name":"../origin","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":188},"end":{"line":3,"column":59,"index":247}}],"key":"luSBcq2+ru6TAonQ4jCdv7T4uiE=","exportNames":["*"],"imports":1}},{"name":"../reactnativetracing","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":248},"end":{"line":4,"column":80,"index":328}}],"key":"tRfaILopZKujsc30k+sgn63XQmE=","exportNames":["*"],"imports":1}},{"name":"../span","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":329},"end":{"line":5,"column":91,"index":420}}],"key":"C3tUfg/sTtF1+hBjX8vCvDsyMk0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"userInteractionIntegration\", {\n    enumerable: true,\n    get: function () {\n      return userInteractionIntegration;\n    }\n  });\n  Object.defineProperty(exports, \"startUserInteractionSpan\", {\n    enumerable: true,\n    get: function () {\n      return startUserInteractionSpan;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _onSpanEndUtils = require(_dependencyMap[1], \"../onSpanEndUtils\");\n  var _origin = require(_dependencyMap[2], \"../origin\");\n  var _reactnativetracing = require(_dependencyMap[3], \"../reactnativetracing\");\n  var _span = require(_dependencyMap[4], \"../span\");\n  const INTEGRATION_NAME = 'UserInteraction';\n  const userInteractionIntegration = () => {\n    return {\n      name: INTEGRATION_NAME\n    };\n  };\n  /**\n   * Starts a new transaction for a user interaction.\n   * @param userInteractionId Consists of `op` representation UI Event and `elementId` unique element identifier on current screen.\n   */\n  const startUserInteractionSpan = userInteractionId => {\n    const client = (0, _sentryCore.getClient)();\n    if (!client) {\n      return undefined;\n    }\n    const tracing = (0, _reactnativetracing.getCurrentReactNativeTracingIntegration)();\n    if (!tracing) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] Tracing integration is not available. Can not start user interaction span.`);\n      return undefined;\n    }\n    const options = client.getOptions();\n    const {\n      elementId,\n      op\n    } = userInteractionId;\n    if (!options.enableUserInteractionTracing) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing is disabled.`);\n      return undefined;\n    }\n    if (!elementId) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing can not create transaction with undefined elementId.`);\n      return undefined;\n    }\n    if (!tracing.state.currentRoute) {\n      _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing can not create transaction without a current route.`);\n      return undefined;\n    }\n    const activeTransaction = (0, _sentryCore.getActiveSpan)();\n    const activeTransactionIsNotInteraction = activeTransaction && !(0, _span.isSentryInteractionSpan)(activeTransaction);\n    if (activeTransaction && activeTransactionIsNotInteraction) {\n      _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Did not create ${op} transaction because active transaction ${(0, _sentryCore.spanToJSON)(activeTransaction).description} exists on the scope.`);\n      return undefined;\n    }\n    const name = `${tracing.state.currentRoute}.${elementId}`;\n    if (activeTransaction && (0, _sentryCore.spanToJSON)(activeTransaction).description === name && (0, _sentryCore.spanToJSON)(activeTransaction).op === op) {\n      _sentryCore.debug.warn(`[${INTEGRATION_NAME}] Did not create ${op} transaction because it the same transaction ${(0, _sentryCore.spanToJSON)(activeTransaction).description} already exists on the scope.`);\n      return undefined;\n    }\n    const scope = (0, _sentryCore.getCurrentScope)();\n    const context = {\n      name,\n      op,\n      scope\n    };\n    (0, _span.clearActiveSpanFromScope)(scope);\n    const newSpan = (0, _span.startIdleSpan)(context, {\n      idleTimeout: tracing.options.idleTimeoutMs,\n      finalTimeout: tracing.options.finalTimeoutMs\n    });\n    newSpan.setAttribute(_sentryCore.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, _origin.SPAN_ORIGIN_MANUAL_INTERACTION);\n    (0, _onSpanEndUtils.onlySampleIfChildSpans)(client, newSpan);\n    _sentryCore.debug.log(`[${INTEGRATION_NAME}] User Interaction Tracing Created ${op} transaction ${name}.`);\n    return newSpan;\n  };\n});","lineCount":88,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"userInteractionIntegration"],[10,39,7,0],[11,4,7,0],[12,2,7,0],[13,2,16,0,"Object"],[13,8,16,0],[13,9,16,0,"defineProperty"],[13,23,16,0],[13,24,16,0,"exports"],[13,31,16,0],[14,4,16,0,"enumerable"],[14,14,16,0],[15,4,16,0,"get"],[15,7,16,0],[15,18,16,0,"get"],[15,19,16,0],[16,6,16,0],[16,13,16,0,"startUserInteractionSpan"],[16,37,16,0],[17,4,16,0],[18,2,16,0],[19,2,1,0],[19,6,1,0,"_sentryCore"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,2,0],[20,6,2,0,"_onSpanEndUtils"],[20,21,2,0],[20,24,2,0,"require"],[20,31,2,0],[20,32,2,0,"_dependencyMap"],[20,46,2,0],[21,2,3,0],[21,6,3,0,"_origin"],[21,13,3,0],[21,16,3,0,"require"],[21,23,3,0],[21,24,3,0,"_dependencyMap"],[21,38,3,0],[22,2,4,0],[22,6,4,0,"_reactnativetracing"],[22,25,4,0],[22,28,4,0,"require"],[22,35,4,0],[22,36,4,0,"_dependencyMap"],[22,50,4,0],[23,2,5,0],[23,6,5,0,"_span"],[23,11,5,0],[23,14,5,0,"require"],[23,21,5,0],[23,22,5,0,"_dependencyMap"],[23,36,5,0],[24,2,6,0],[24,8,6,6,"INTEGRATION_NAME"],[24,24,6,22],[24,27,6,25],[24,44,6,42],[25,2,7,7],[25,8,7,13,"userInteractionIntegration"],[25,34,7,39],[25,37,7,42,"userInteractionIntegration"],[25,38,7,42],[25,43,7,48],[26,4,8,4],[26,11,8,11],[27,6,9,8,"name"],[27,10,9,12],[27,12,9,14,"INTEGRATION_NAME"],[28,4,10,4],[28,5,10,5],[29,2,11,0],[29,3,11,1],[30,2,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,2,16,7],[34,8,16,13,"startUserInteractionSpan"],[34,32,16,37],[34,35,16,41,"userInteractionId"],[34,52,16,58],[34,56,16,63],[35,4,17,4],[35,10,17,10,"client"],[35,16,17,16],[35,19,17,19],[35,23,17,19,"getClient"],[35,34,17,28],[35,35,17,28,"getClient"],[35,44,17,28],[35,46,17,29],[35,47,17,30],[36,4,18,4],[36,8,18,8],[36,9,18,9,"client"],[36,15,18,15],[36,17,18,17],[37,6,19,8],[37,13,19,15,"undefined"],[37,22,19,24],[38,4,20,4],[39,4,21,4],[39,10,21,10,"tracing"],[39,17,21,17],[39,20,21,20],[39,24,21,20,"getCurrentReactNativeTracingIntegration"],[39,43,21,59],[39,44,21,59,"getCurrentReactNativeTracingIntegration"],[39,83,21,59],[39,85,21,60],[39,86,21,61],[40,4,22,4],[40,8,22,8],[40,9,22,9,"tracing"],[40,16,22,16],[40,18,22,18],[41,6,23,8,"debug"],[41,17,23,13],[41,18,23,13,"debug"],[41,23,23,13],[41,24,23,14,"log"],[41,27,23,17],[41,28,23,18],[41,32,23,22,"INTEGRATION_NAME"],[41,48,23,38],[41,126,23,116],[41,127,23,117],[42,6,24,8],[42,13,24,15,"undefined"],[42,22,24,24],[43,4,25,4],[44,4,26,4],[44,10,26,10,"options"],[44,17,26,17],[44,20,26,20,"client"],[44,26,26,26],[44,27,26,27,"getOptions"],[44,37,26,37],[44,38,26,38],[44,39,26,39],[45,4,27,4],[45,10,27,10],[46,6,27,12,"elementId"],[46,15,27,21],[47,6,27,23,"op"],[48,4,27,26],[48,5,27,27],[48,8,27,30,"userInteractionId"],[48,25,27,47],[49,4,28,4],[49,8,28,8],[49,9,28,9,"options"],[49,16,28,16],[49,17,28,17,"enableUserInteractionTracing"],[49,45,28,45],[49,47,28,47],[50,6,29,8,"debug"],[50,17,29,13],[50,18,29,13,"debug"],[50,23,29,13],[50,24,29,14,"log"],[50,27,29,17],[50,28,29,18],[50,32,29,22,"INTEGRATION_NAME"],[50,48,29,38],[50,89,29,79],[50,90,29,80],[51,6,30,8],[51,13,30,15,"undefined"],[51,22,30,24],[52,4,31,4],[53,4,32,4],[53,8,32,8],[53,9,32,9,"elementId"],[53,18,32,18],[53,20,32,20],[54,6,33,8,"debug"],[54,17,33,13],[54,18,33,13,"debug"],[54,23,33,13],[54,24,33,14,"log"],[54,27,33,17],[54,28,33,18],[54,32,33,22,"INTEGRATION_NAME"],[54,48,33,38],[54,129,33,119],[54,130,33,120],[55,6,34,8],[55,13,34,15,"undefined"],[55,22,34,24],[56,4,35,4],[57,4,36,4],[57,8,36,8],[57,9,36,9,"tracing"],[57,16,36,16],[57,17,36,17,"state"],[57,22,36,22],[57,23,36,23,"currentRoute"],[57,35,36,35],[57,37,36,37],[58,6,37,8,"debug"],[58,17,37,13],[58,18,37,13,"debug"],[58,23,37,13],[58,24,37,14,"log"],[58,27,37,17],[58,28,37,18],[58,32,37,22,"INTEGRATION_NAME"],[58,48,37,38],[58,128,37,118],[58,129,37,119],[59,6,38,8],[59,13,38,15,"undefined"],[59,22,38,24],[60,4,39,4],[61,4,40,4],[61,10,40,10,"activeTransaction"],[61,27,40,27],[61,30,40,30],[61,34,40,30,"getActiveSpan"],[61,45,40,43],[61,46,40,43,"getActiveSpan"],[61,59,40,43],[61,61,40,44],[61,62,40,45],[62,4,41,4],[62,10,41,10,"activeTransactionIsNotInteraction"],[62,43,41,43],[62,46,41,46,"activeTransaction"],[62,63,41,63],[62,67,41,67],[62,68,41,68],[62,72,41,68,"isSentryInteractionSpan"],[62,77,41,91],[62,78,41,91,"isSentryInteractionSpan"],[62,101,41,91],[62,103,41,92,"activeTransaction"],[62,120,41,109],[62,121,41,110],[63,4,42,4],[63,8,42,8,"activeTransaction"],[63,25,42,25],[63,29,42,29,"activeTransactionIsNotInteraction"],[63,62,42,62],[63,64,42,64],[64,6,43,8,"debug"],[64,17,43,13],[64,18,43,13,"debug"],[64,23,43,13],[64,24,43,14,"warn"],[64,28,43,18],[64,29,43,19],[64,33,43,23,"INTEGRATION_NAME"],[64,49,43,39],[64,69,43,59,"op"],[64,71,43,61],[64,114,43,104],[64,118,43,104,"spanToJSON"],[64,129,43,114],[64,130,43,114,"spanToJSON"],[64,140,43,114],[64,142,43,115,"activeTransaction"],[64,159,43,132],[64,160,43,133],[64,161,43,134,"description"],[64,172,43,145],[64,195,43,168],[64,196,43,169],[65,6,44,8],[65,13,44,15,"undefined"],[65,22,44,24],[66,4,45,4],[67,4,46,4],[67,10,46,10,"name"],[67,14,46,14],[67,17,46,17],[67,20,46,20,"tracing"],[67,27,46,27],[67,28,46,28,"state"],[67,33,46,33],[67,34,46,34,"currentRoute"],[67,46,46,46],[67,50,46,50,"elementId"],[67,59,46,59],[67,61,46,61],[68,4,47,4],[68,8,47,8,"activeTransaction"],[68,25,47,25],[68,29,48,8],[68,33,48,8,"spanToJSON"],[68,44,48,18],[68,45,48,18,"spanToJSON"],[68,55,48,18],[68,57,48,19,"activeTransaction"],[68,74,48,36],[68,75,48,37],[68,76,48,38,"description"],[68,87,48,49],[68,92,48,54,"name"],[68,96,48,58],[68,100,49,8],[68,104,49,8,"spanToJSON"],[68,115,49,18],[68,116,49,18,"spanToJSON"],[68,126,49,18],[68,128,49,19,"activeTransaction"],[68,145,49,36],[68,146,49,37],[68,147,49,38,"op"],[68,149,49,40],[68,154,49,45,"op"],[68,156,49,47],[68,158,49,49],[69,6,50,8,"debug"],[69,17,50,13],[69,18,50,13,"debug"],[69,23,50,13],[69,24,50,14,"warn"],[69,28,50,18],[69,29,50,19],[69,33,50,23,"INTEGRATION_NAME"],[69,49,50,39],[69,69,50,59,"op"],[69,71,50,61],[69,119,50,109],[69,123,50,109,"spanToJSON"],[69,134,50,119],[69,135,50,119,"spanToJSON"],[69,145,50,119],[69,147,50,120,"activeTransaction"],[69,164,50,137],[69,165,50,138],[69,166,50,139,"description"],[69,177,50,150],[69,208,50,181],[69,209,50,182],[70,6,51,8],[70,13,51,15,"undefined"],[70,22,51,24],[71,4,52,4],[72,4,53,4],[72,10,53,10,"scope"],[72,15,53,15],[72,18,53,18],[72,22,53,18,"getCurrentScope"],[72,33,53,33],[72,34,53,33,"getCurrentScope"],[72,49,53,33],[72,51,53,34],[72,52,53,35],[73,4,54,4],[73,10,54,10,"context"],[73,17,54,17],[73,20,54,20],[74,6,55,8,"name"],[74,10,55,12],[75,6,56,8,"op"],[75,8,56,10],[76,6,57,8,"scope"],[77,4,58,4],[77,5,58,5],[78,4,59,4],[78,8,59,4,"clearActiveSpanFromScope"],[78,13,59,28],[78,14,59,28,"clearActiveSpanFromScope"],[78,38,59,28],[78,40,59,29,"scope"],[78,45,59,34],[78,46,59,35],[79,4,60,4],[79,10,60,10,"newSpan"],[79,17,60,17],[79,20,60,20],[79,24,60,20,"startIdleSpan"],[79,29,60,33],[79,30,60,33,"startIdleSpan"],[79,43,60,33],[79,45,60,34,"context"],[79,52,60,41],[79,54,60,43],[80,6,61,8,"idleTimeout"],[80,17,61,19],[80,19,61,21,"tracing"],[80,26,61,28],[80,27,61,29,"options"],[80,34,61,36],[80,35,61,37,"idleTimeoutMs"],[80,48,61,50],[81,6,62,8,"finalTimeout"],[81,18,62,20],[81,20,62,22,"tracing"],[81,27,62,29],[81,28,62,30,"options"],[81,35,62,37],[81,36,62,38,"finalTimeoutMs"],[82,4,63,4],[82,5,63,5],[82,6,63,6],[83,4,64,4,"newSpan"],[83,11,64,11],[83,12,64,12,"setAttribute"],[83,24,64,24],[83,25,64,25,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[83,36,64,57],[83,37,64,57,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[83,69,64,57],[83,71,64,59,"SPAN_ORIGIN_MANUAL_INTERACTION"],[83,78,64,89],[83,79,64,89,"SPAN_ORIGIN_MANUAL_INTERACTION"],[83,109,64,89],[83,110,64,90],[84,4,65,4],[84,8,65,4,"onlySampleIfChildSpans"],[84,23,65,26],[84,24,65,26,"onlySampleIfChildSpans"],[84,46,65,26],[84,48,65,27,"client"],[84,54,65,33],[84,56,65,35,"newSpan"],[84,63,65,42],[84,64,65,43],[85,4,66,4,"debug"],[85,15,66,9],[85,16,66,9,"debug"],[85,21,66,9],[85,22,66,10,"log"],[85,25,66,13],[85,26,66,14],[85,30,66,18,"INTEGRATION_NAME"],[85,46,66,34],[85,84,66,72,"op"],[85,86,66,74],[85,102,66,90,"name"],[85,106,66,94],[85,109,66,97],[85,110,66,98],[86,4,67,4],[86,11,67,11,"newSpan"],[86,18,67,18],[87,2,68,0],[87,3,68,1],[88,0,68,2],[88,3]],"functionMap":{"names":["<global>","userInteractionIntegration","startUserInteractionSpan"],"mappings":"AAA;0CCM;CDI;wCEK;CFoD"},"hasCjsExports":false},"type":"js/module"}]}