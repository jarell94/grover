{"dependencies":[{"name":"../../debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"j/YU5bhy5YyxMpg86KbjbTGZ5ZU=","exportNames":["*"],"imports":1}},{"name":"../../utils/debug-logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":52,"index":104}}],"key":"/juZA92XthIrqpD7TGhkU2JpHts=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"isJsonRpcNotification\", {\n    enumerable: true,\n    get: function () {\n      return isJsonRpcNotification;\n    }\n  });\n  Object.defineProperty(exports, \"isJsonRpcRequest\", {\n    enumerable: true,\n    get: function () {\n      return isJsonRpcRequest;\n    }\n  });\n  Object.defineProperty(exports, \"isJsonRpcResponse\", {\n    enumerable: true,\n    get: function () {\n      return isJsonRpcResponse;\n    }\n  });\n  Object.defineProperty(exports, \"isValidContentItem\", {\n    enumerable: true,\n    get: function () {\n      return isValidContentItem;\n    }\n  });\n  Object.defineProperty(exports, \"validateMcpServerInstance\", {\n    enumerable: true,\n    get: function () {\n      return validateMcpServerInstance;\n    }\n  });\n  var _debugBuildJs = require(_dependencyMap[0], \"../../debug-build.js\");\n  var _utilsDebugLoggerJs = require(_dependencyMap[1], \"../../utils/debug-logger.js\");\n  /**\n   * Message validation functions for MCP server instrumentation\n   *\n   * Provides JSON-RPC 2.0 message type validation and MCP server instance validation.\n   */\n\n  /**\n   * Validates if a message is a JSON-RPC request\n   * @param message - Message to validate\n   * @returns True if message is a JSON-RPC request\n   */\n  function isJsonRpcRequest(message) {\n    return typeof message === 'object' && message !== null && 'jsonrpc' in message && message.jsonrpc === '2.0' && 'method' in message && 'id' in message;\n  }\n\n  /**\n   * Validates if a message is a JSON-RPC notification\n   * @param message - Message to validate\n   * @returns True if message is a JSON-RPC notification\n   */\n  function isJsonRpcNotification(message) {\n    return typeof message === 'object' && message !== null && 'jsonrpc' in message && message.jsonrpc === '2.0' && 'method' in message && !('id' in message);\n  }\n\n  /**\n   * Validates if a message is a JSON-RPC response\n   * @param message - Message to validate\n   * @returns True if message is a JSON-RPC response\n   */\n  function isJsonRpcResponse(message) {\n    return typeof message === 'object' && message !== null && 'jsonrpc' in message && message.jsonrpc === '2.0' && 'id' in message && ('result' in message || 'error' in message);\n  }\n\n  /**\n   * Validates MCP server instance with type checking\n   * @param instance - Object to validate as MCP server instance\n   * @returns True if instance has required MCP server methods\n   */\n  function validateMcpServerInstance(instance) {\n    if (typeof instance === 'object' && instance !== null && 'resource' in instance && 'tool' in instance && 'prompt' in instance && 'connect' in instance) {\n      return true;\n    }\n    _debugBuildJs.DEBUG_BUILD && _utilsDebugLoggerJs.debug.warn('Did not patch MCP server. Interface is incompatible.');\n    return false;\n  }\n\n  /**\n   * Check if the item is a valid content item\n   * @param item - The item to check\n   * @returns True if the item is a valid content item, false otherwise\n   */\n  function isValidContentItem(item) {\n    return item != null && typeof item === 'object';\n  }\n});","lineCount":93,"map":[[7,2,88,0,"Object"],[7,8,88,0],[7,9,88,0,"defineProperty"],[7,23,88,0],[7,24,88,0,"exports"],[7,31,88,0],[8,4,88,0,"enumerable"],[8,14,88,0],[9,4,88,0,"get"],[9,7,88,0],[9,18,88,0,"get"],[9,19,88,0],[10,6,88,0],[10,13,88,9,"isJsonRpcNotification"],[10,34,88,30],[11,4,88,30],[12,2,88,30],[13,2,88,0,"Object"],[13,8,88,0],[13,9,88,0,"defineProperty"],[13,23,88,0],[13,24,88,0,"exports"],[13,31,88,0],[14,4,88,0,"enumerable"],[14,14,88,0],[15,4,88,0,"get"],[15,7,88,0],[15,18,88,0,"get"],[15,19,88,0],[16,6,88,0],[16,13,88,32,"isJsonRpcRequest"],[16,29,88,48],[17,4,88,48],[18,2,88,48],[19,2,88,0,"Object"],[19,8,88,0],[19,9,88,0,"defineProperty"],[19,23,88,0],[19,24,88,0,"exports"],[19,31,88,0],[20,4,88,0,"enumerable"],[20,14,88,0],[21,4,88,0,"get"],[21,7,88,0],[21,18,88,0,"get"],[21,19,88,0],[22,6,88,0],[22,13,88,50,"isJsonRpcResponse"],[22,30,88,67],[23,4,88,67],[24,2,88,67],[25,2,88,0,"Object"],[25,8,88,0],[25,9,88,0,"defineProperty"],[25,23,88,0],[25,24,88,0,"exports"],[25,31,88,0],[26,4,88,0,"enumerable"],[26,14,88,0],[27,4,88,0,"get"],[27,7,88,0],[27,18,88,0,"get"],[27,19,88,0],[28,6,88,0],[28,13,88,69,"isValidContentItem"],[28,31,88,87],[29,4,88,87],[30,2,88,87],[31,2,88,0,"Object"],[31,8,88,0],[31,9,88,0,"defineProperty"],[31,23,88,0],[31,24,88,0,"exports"],[31,31,88,0],[32,4,88,0,"enumerable"],[32,14,88,0],[33,4,88,0,"get"],[33,7,88,0],[33,18,88,0,"get"],[33,19,88,0],[34,6,88,0],[34,13,88,89,"validateMcpServerInstance"],[34,38,88,114],[35,4,88,114],[36,2,88,114],[37,2,1,0],[37,6,1,0,"_debugBuildJs"],[37,19,1,0],[37,22,1,0,"require"],[37,29,1,0],[37,30,1,0,"_dependencyMap"],[37,44,1,0],[38,2,2,0],[38,6,2,0,"_utilsDebugLoggerJs"],[38,25,2,0],[38,28,2,0,"require"],[38,35,2,0],[38,36,2,0,"_dependencyMap"],[38,50,2,0],[39,2,4,0],[40,0,5,0],[41,0,6,0],[42,0,7,0],[43,0,8,0],[45,2,11,0],[46,0,12,0],[47,0,13,0],[48,0,14,0],[49,0,15,0],[50,2,16,0],[50,11,16,9,"isJsonRpcRequest"],[50,27,16,25,"isJsonRpcRequest"],[50,28,16,26,"message"],[50,35,16,33],[50,37,16,35],[51,4,17,2],[51,11,18,4],[51,18,18,11,"message"],[51,25,18,18],[51,30,18,23],[51,38,18,31],[51,42,19,4,"message"],[51,49,19,11],[51,54,19,16],[51,58,19,20],[51,62,20,4],[51,71,20,13],[51,75,20,17,"message"],[51,82,20,24],[51,86,21,5,"message"],[51,93,21,12],[51,94,21,15,"jsonrpc"],[51,101,21,22],[51,106,21,27],[51,111,21,32],[51,115,22,4],[51,123,22,12],[51,127,22,16,"message"],[51,134,22,23],[51,138,23,4],[51,142,23,8],[51,146,23,12,"message"],[51,153,23,19],[52,2,25,0],[54,2,27,0],[55,0,28,0],[56,0,29,0],[57,0,30,0],[58,0,31,0],[59,2,32,0],[59,11,32,9,"isJsonRpcNotification"],[59,32,32,30,"isJsonRpcNotification"],[59,33,32,31,"message"],[59,40,32,38],[59,42,32,40],[60,4,33,2],[60,11,34,4],[60,18,34,11,"message"],[60,25,34,18],[60,30,34,23],[60,38,34,31],[60,42,35,4,"message"],[60,49,35,11],[60,54,35,16],[60,58,35,20],[60,62,36,4],[60,71,36,13],[60,75,36,17,"message"],[60,82,36,24],[60,86,37,5,"message"],[60,93,37,12],[60,94,37,15,"jsonrpc"],[60,101,37,22],[60,106,37,27],[60,111,37,32],[60,115,38,4],[60,123,38,12],[60,127,38,16,"message"],[60,134,38,23],[60,138,39,4],[60,140,39,6],[60,144,39,10],[60,148,39,14,"message"],[60,155,39,21],[60,156,39,22],[61,2,41,0],[63,2,43,0],[64,0,44,0],[65,0,45,0],[66,0,46,0],[67,0,47,0],[68,2,48,0],[68,11,48,9,"isJsonRpcResponse"],[68,28,48,26,"isJsonRpcResponse"],[68,29,48,27,"message"],[68,36,48,34],[68,38,48,36],[69,4,49,2],[69,11,50,4],[69,18,50,11,"message"],[69,25,50,18],[69,30,50,23],[69,38,50,31],[69,42,51,4,"message"],[69,49,51,11],[69,54,51,16],[69,58,51,20],[69,62,52,4],[69,71,52,13],[69,75,52,17,"message"],[69,82,52,24],[69,86,53,5,"message"],[69,93,53,12],[69,94,53,15,"jsonrpc"],[69,101,53,22],[69,106,53,27],[69,111,53,32],[69,115,54,4],[69,119,54,8],[69,123,54,12,"message"],[69,130,54,19],[69,135,55,5],[69,143,55,13],[69,147,55,17,"message"],[69,154,55,24],[69,158,55,28],[69,165,55,35],[69,169,55,39,"message"],[69,176,55,46],[69,177,55,47],[70,2,57,0],[72,2,59,0],[73,0,60,0],[74,0,61,0],[75,0,62,0],[76,0,63,0],[77,2,64,0],[77,11,64,9,"validateMcpServerInstance"],[77,36,64,34,"validateMcpServerInstance"],[77,37,64,35,"instance"],[77,45,64,43],[77,47,64,45],[78,4,65,2],[78,8,66,4],[78,15,66,11,"instance"],[78,23,66,19],[78,28,66,24],[78,36,66,32],[78,40,67,4,"instance"],[78,48,67,12],[78,53,67,17],[78,57,67,21],[78,61,68,4],[78,71,68,14],[78,75,68,18,"instance"],[78,83,68,26],[78,87,69,4],[78,93,69,10],[78,97,69,14,"instance"],[78,105,69,22],[78,109,70,4],[78,117,70,12],[78,121,70,16,"instance"],[78,129,70,24],[78,133,71,4],[78,142,71,13],[78,146,71,17,"instance"],[78,154,71,25],[78,156,72,4],[79,6,73,4],[79,13,73,11],[79,17,73,15],[80,4,74,2],[81,4,75,2,"DEBUG_BUILD"],[81,17,75,13],[81,18,75,13,"DEBUG_BUILD"],[81,29,75,13],[81,33,75,17,"debug"],[81,52,75,22],[81,53,75,22,"debug"],[81,58,75,22],[81,59,75,23,"warn"],[81,63,75,27],[81,64,75,28],[81,118,75,82],[81,119,75,83],[82,4,76,2],[82,11,76,9],[82,16,76,14],[83,2,77,0],[85,2,79,0],[86,0,80,0],[87,0,81,0],[88,0,82,0],[89,0,83,0],[90,2,84,0],[90,11,84,9,"isValidContentItem"],[90,29,84,27,"isValidContentItem"],[90,30,84,28,"item"],[90,34,84,32],[90,36,84,34],[91,4,85,2],[91,11,85,9,"item"],[91,15,85,13],[91,19,85,17],[91,23,85,21],[91,27,85,25],[91,34,85,32,"item"],[91,38,85,36],[91,43,85,41],[91,51,85,49],[92,2,86,0],[93,0,86,1],[93,3]],"functionMap":{"names":["<global>","isJsonRpcRequest","isJsonRpcNotification","isJsonRpcResponse","validateMcpServerInstance","isValidContentItem"],"mappings":"AAA;ACe;CDS;AEO;CFS;AGO;CHS;AIO;CJa;AKO;CLE"},"hasCjsExports":false},"type":"js/module"}]}