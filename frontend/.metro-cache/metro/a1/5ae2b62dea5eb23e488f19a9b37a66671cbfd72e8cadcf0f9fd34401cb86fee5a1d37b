{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":124,"index":124}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"./eventbuilder.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":125},"end":{"line":2,"column":73,"index":198}}],"key":"t3IpHLDvBcoJYLPPokYBcSY8CXw=","exportNames":["*"],"imports":1}},{"name":"./helpers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":199},"end":{"line":3,"column":38,"index":237}}],"key":"Y7YGoIAOGQa78JTLfazw+ehPeHs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"BrowserClient\", {\n    enumerable: true,\n    get: function () {\n      return BrowserClient;\n    }\n  });\n  Object.defineProperty(exports, \"applyDefaultOptions\", {\n    enumerable: true,\n    get: function () {\n      return applyDefaultOptions;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _eventbuilderJs = require(_dependencyMap[1], \"./eventbuilder.js\");\n  var _helpersJs = require(_dependencyMap[2], \"./helpers.js\");\n  /**\n   * A magic string that build tooling can leverage in order to inject a release value into the SDK.\n   */\n\n  const DEFAULT_FLUSH_INTERVAL = 5000;\n\n  /**\n   * The Sentry Browser SDK Client.\n   *\n   * @see BrowserOptions for documentation on configuration options.\n   * @see SentryClient for usage documentation.\n   */\n  class BrowserClient extends _sentryCore.Client {\n    /**\n     * Creates a new Browser SDK instance.\n     *\n     * @param options Configuration options for this SDK.\n     */\n    constructor(options) {\n      const opts = applyDefaultOptions(options);\n      const sdkSource = _helpersJs.WINDOW.SENTRY_SDK_SOURCE || (0, _sentryCore.getSDKSource)();\n      (0, _sentryCore.applySdkMetadata)(opts, 'browser', ['browser'], sdkSource);\n\n      // Only allow IP inferral by Relay if sendDefaultPii is true\n      if (opts._metadata?.sdk) {\n        opts._metadata.sdk.settings = Object.assign({\n          infer_ip: opts.sendDefaultPii ? 'auto' : 'never'\n        }, opts._metadata.sdk.settings);\n      }\n      super(opts);\n      const {\n        sendDefaultPii,\n        sendClientReports,\n        enableLogs\n      } = this._options;\n      if (_helpersJs.WINDOW.document && (sendClientReports || enableLogs)) {\n        _helpersJs.WINDOW.document.addEventListener('visibilitychange', () => {\n          if (_helpersJs.WINDOW.document.visibilityState === 'hidden') {\n            if (sendClientReports) {\n              this._flushOutcomes();\n            }\n            if (enableLogs) {\n              (0, _sentryCore._INTERNAL_flushLogsBuffer)(this);\n            }\n          }\n        });\n      }\n      if (enableLogs) {\n        this.on('flush', () => {\n          (0, _sentryCore._INTERNAL_flushLogsBuffer)(this);\n        });\n        this.on('afterCaptureLog', () => {\n          if (this._logFlushIdleTimeout) {\n            clearTimeout(this._logFlushIdleTimeout);\n          }\n          this._logFlushIdleTimeout = setTimeout(() => {\n            (0, _sentryCore._INTERNAL_flushLogsBuffer)(this);\n          }, DEFAULT_FLUSH_INTERVAL);\n        });\n      }\n      if (sendDefaultPii) {\n        this.on('beforeSendSession', _sentryCore.addAutoIpAddressToSession);\n      }\n    }\n\n    /**\n     * @inheritDoc\n     */\n    eventFromException(exception, hint) {\n      return (0, _eventbuilderJs.eventFromException)(this._options.stackParser, exception, hint, this._options.attachStacktrace);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    eventFromMessage(message, level = 'info', hint) {\n      return (0, _eventbuilderJs.eventFromMessage)(this._options.stackParser, message, level, hint, this._options.attachStacktrace);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    _prepareEvent(event, hint, currentScope, isolationScope) {\n      event.platform = event.platform || 'javascript';\n      return super._prepareEvent(event, hint, currentScope, isolationScope);\n    }\n  }\n\n  /** Exported only for tests. */\n  function applyDefaultOptions(optionsArg) {\n    return Object.assign({\n      release: typeof __SENTRY_RELEASE__ === 'string' // This allows build tooling to find-and-replace __SENTRY_RELEASE__ to inject a release value\n      ? __SENTRY_RELEASE__ : _helpersJs.WINDOW.SENTRY_RELEASE?.id,\n      // This supports the variable that sentry-webpack-plugin injects\n      sendClientReports: true,\n      // We default this to true, as it is the safer scenario\n      parentSpanIsAlwaysRootSpan: true\n    }, optionsArg);\n  }\n});","lineCount":121,"map":[[7,2,123,0,"Object"],[7,8,123,0],[7,9,123,0,"defineProperty"],[7,23,123,0],[7,24,123,0,"exports"],[7,31,123,0],[8,4,123,0,"enumerable"],[8,14,123,0],[9,4,123,0,"get"],[9,7,123,0],[9,18,123,0,"get"],[9,19,123,0],[10,6,123,0],[10,13,123,9,"BrowserClient"],[10,26,123,22],[11,4,123,22],[12,2,123,22],[13,2,123,0,"Object"],[13,8,123,0],[13,9,123,0,"defineProperty"],[13,23,123,0],[13,24,123,0,"exports"],[13,31,123,0],[14,4,123,0,"enumerable"],[14,14,123,0],[15,4,123,0,"get"],[15,7,123,0],[15,18,123,0,"get"],[15,19,123,0],[16,6,123,0],[16,13,123,24,"applyDefaultOptions"],[16,32,123,43],[17,4,123,43],[18,2,123,43],[19,2,1,0],[19,6,1,0,"_sentryCore"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,2,0],[20,6,2,0,"_eventbuilderJs"],[20,21,2,0],[20,24,2,0,"require"],[20,31,2,0],[20,32,2,0,"_dependencyMap"],[20,46,2,0],[21,2,3,0],[21,6,3,0,"_helpersJs"],[21,16,3,0],[21,19,3,0,"require"],[21,26,3,0],[21,27,3,0,"_dependencyMap"],[21,41,3,0],[22,2,5,0],[23,0,6,0],[24,0,7,0],[26,2,9,0],[26,8,9,6,"DEFAULT_FLUSH_INTERVAL"],[26,30,9,28],[26,33,9,31],[26,37,9,35],[28,2,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,2,17,0],[34,8,17,6,"BrowserClient"],[34,21,17,19],[34,30,17,28,"Client"],[34,41,17,34],[34,42,17,34,"Client"],[34,48,17,34],[34,49,17,35],[35,4,19,2],[36,0,20,0],[37,0,21,0],[38,0,22,0],[39,0,23,0],[40,4,24,3,"constructor"],[40,15,24,14,"constructor"],[40,16,24,15,"options"],[40,23,24,22],[40,25,24,24],[41,6,25,4],[41,12,25,10,"opts"],[41,16,25,14],[41,19,25,17,"applyDefaultOptions"],[41,38,25,36],[41,39,25,37,"options"],[41,46,25,44],[41,47,25,45],[42,6,26,4],[42,12,26,10,"sdkSource"],[42,21,26,19],[42,24,26,22,"WINDOW"],[42,34,26,28],[42,35,26,28,"WINDOW"],[42,41,26,28],[42,42,26,29,"SENTRY_SDK_SOURCE"],[42,59,26,46],[42,63,26,50],[42,67,26,50,"getSDKSource"],[42,78,26,62],[42,79,26,62,"getSDKSource"],[42,91,26,62],[42,93,26,63],[42,94,26,64],[43,6,27,4],[43,10,27,4,"applySdkMetadata"],[43,21,27,20],[43,22,27,20,"applySdkMetadata"],[43,38,27,20],[43,40,27,21,"opts"],[43,44,27,25],[43,46,27,27],[43,55,27,36],[43,57,27,38],[43,58,27,39],[43,67,27,48],[43,68,27,49],[43,70,27,51,"sdkSource"],[43,79,27,60],[43,80,27,61],[45,6,29,4],[46,6,30,4],[46,10,30,8,"opts"],[46,14,30,12],[46,15,30,13,"_metadata"],[46,24,30,22],[46,26,30,24,"sdk"],[46,29,30,27],[46,31,30,29],[47,8,31,6,"opts"],[47,12,31,10],[47,13,31,11,"_metadata"],[47,22,31,20],[47,23,31,21,"sdk"],[47,26,31,24],[47,27,31,25,"settings"],[47,35,31,33],[47,38,31,33,"Object"],[47,44,31,33],[47,45,31,33,"assign"],[47,51,31,33],[48,10,32,8,"infer_ip"],[48,18,32,16],[48,20,32,18,"opts"],[48,24,32,22],[48,25,32,23,"sendDefaultPii"],[48,39,32,37],[48,42,32,40],[48,48,32,46],[48,51,32,49],[49,8,32,56],[49,11,34,11,"opts"],[49,15,34,15],[49,16,34,16,"_metadata"],[49,25,34,25],[49,26,34,26,"sdk"],[49,29,34,29],[49,30,34,30,"settings"],[49,38,34,38],[49,39,35,7],[50,6,36,4],[51,6,38,4],[51,11,38,9],[51,12,38,10,"opts"],[51,16,38,14],[51,17,38,15],[52,6,40,4],[52,12,40,10],[53,8,40,12,"sendDefaultPii"],[53,22,40,26],[54,8,40,28,"sendClientReports"],[54,25,40,45],[55,8,40,47,"enableLogs"],[56,6,40,58],[56,7,40,59],[56,10,40,62],[56,14,40,66],[56,15,40,67,"_options"],[56,23,40,75],[57,6,42,4],[57,10,42,8,"WINDOW"],[57,20,42,14],[57,21,42,14,"WINDOW"],[57,27,42,14],[57,28,42,15,"document"],[57,36,42,23],[57,41,42,28,"sendClientReports"],[57,58,42,45],[57,62,42,49,"enableLogs"],[57,72,42,59],[57,73,42,60],[57,75,42,62],[58,8,43,6,"WINDOW"],[58,18,43,12],[58,19,43,12,"WINDOW"],[58,25,43,12],[58,26,43,13,"document"],[58,34,43,21],[58,35,43,22,"addEventListener"],[58,51,43,38],[58,52,43,39],[58,70,43,57],[58,72,43,59],[58,78,43,65],[59,10,44,8],[59,14,44,12,"WINDOW"],[59,24,44,18],[59,25,44,18,"WINDOW"],[59,31,44,18],[59,32,44,19,"document"],[59,40,44,27],[59,41,44,28,"visibilityState"],[59,56,44,43],[59,61,44,48],[59,69,44,56],[59,71,44,58],[60,12,45,10],[60,16,45,14,"sendClientReports"],[60,33,45,31],[60,35,45,33],[61,14,46,12],[61,18,46,16],[61,19,46,17,"_flushOutcomes"],[61,33,46,31],[61,34,46,32],[61,35,46,33],[62,12,47,10],[63,12,48,10],[63,16,48,14,"enableLogs"],[63,26,48,24],[63,28,48,26],[64,14,49,12],[64,18,49,12,"_INTERNAL_flushLogsBuffer"],[64,29,49,37],[64,30,49,37,"_INTERNAL_flushLogsBuffer"],[64,55,49,37],[64,57,49,38],[64,61,49,42],[64,62,49,43],[65,12,50,10],[66,10,51,8],[67,8,52,6],[67,9,52,7],[67,10,52,8],[68,6,53,4],[69,6,55,4],[69,10,55,8,"enableLogs"],[69,20,55,18],[69,22,55,20],[70,8,56,6],[70,12,56,10],[70,13,56,11,"on"],[70,15,56,13],[70,16,56,14],[70,23,56,21],[70,25,56,23],[70,31,56,29],[71,10,57,8],[71,14,57,8,"_INTERNAL_flushLogsBuffer"],[71,25,57,33],[71,26,57,33,"_INTERNAL_flushLogsBuffer"],[71,51,57,33],[71,53,57,34],[71,57,57,38],[71,58,57,39],[72,8,58,6],[72,9,58,7],[72,10,58,8],[73,8,60,6],[73,12,60,10],[73,13,60,11,"on"],[73,15,60,13],[73,16,60,14],[73,33,60,31],[73,35,60,33],[73,41,60,39],[74,10,61,8],[74,14,61,12],[74,18,61,16],[74,19,61,17,"_logFlushIdleTimeout"],[74,39,61,37],[74,41,61,39],[75,12,62,10,"clearTimeout"],[75,24,62,22],[75,25,62,23],[75,29,62,27],[75,30,62,28,"_logFlushIdleTimeout"],[75,50,62,48],[75,51,62,49],[76,10,63,8],[77,10,65,8],[77,14,65,12],[77,15,65,13,"_logFlushIdleTimeout"],[77,35,65,33],[77,38,65,36,"setTimeout"],[77,48,65,46],[77,49,65,47],[77,55,65,53],[78,12,66,10],[78,16,66,10,"_INTERNAL_flushLogsBuffer"],[78,27,66,35],[78,28,66,35,"_INTERNAL_flushLogsBuffer"],[78,53,66,35],[78,55,66,36],[78,59,66,40],[78,60,66,41],[79,10,67,8],[79,11,67,9],[79,13,67,11,"DEFAULT_FLUSH_INTERVAL"],[79,35,67,33],[79,36,67,34],[80,8,68,6],[80,9,68,7],[80,10,68,8],[81,6,69,4],[82,6,71,4],[82,10,71,8,"sendDefaultPii"],[82,24,71,22],[82,26,71,24],[83,8,72,6],[83,12,72,10],[83,13,72,11,"on"],[83,15,72,13],[83,16,72,14],[83,35,72,33],[83,37,72,35,"addAutoIpAddressToSession"],[83,48,72,60],[83,49,72,60,"addAutoIpAddressToSession"],[83,74,72,60],[83,75,72,61],[84,6,73,4],[85,4,74,2],[87,4,76,2],[88,0,77,0],[89,0,78,0],[90,4,79,3,"eventFromException"],[90,22,79,21,"eventFromException"],[90,23,79,22,"exception"],[90,32,79,31],[90,34,79,33,"hint"],[90,38,79,37],[90,40,79,39],[91,6,80,4],[91,13,80,11],[91,17,80,11,"eventFromException"],[91,32,80,29],[91,33,80,29,"eventFromException"],[91,51,80,29],[91,53,80,30],[91,57,80,34],[91,58,80,35,"_options"],[91,66,80,43],[91,67,80,44,"stackParser"],[91,78,80,55],[91,80,80,57,"exception"],[91,89,80,66],[91,91,80,68,"hint"],[91,95,80,72],[91,97,80,74],[91,101,80,78],[91,102,80,79,"_options"],[91,110,80,87],[91,111,80,88,"attachStacktrace"],[91,127,80,104],[91,128,80,105],[92,4,81,2],[94,4,83,2],[95,0,84,0],[96,0,85,0],[97,4,86,3,"eventFromMessage"],[97,20,86,19,"eventFromMessage"],[97,21,87,4,"message"],[97,28,87,11],[97,30,88,4,"level"],[97,35,88,9],[97,38,88,12],[97,44,88,18],[97,46,89,4,"hint"],[97,50,89,8],[97,52,90,4],[98,6,91,4],[98,13,91,11],[98,17,91,11,"eventFromMessage"],[98,32,91,27],[98,33,91,27,"eventFromMessage"],[98,49,91,27],[98,51,91,28],[98,55,91,32],[98,56,91,33,"_options"],[98,64,91,41],[98,65,91,42,"stackParser"],[98,76,91,53],[98,78,91,55,"message"],[98,85,91,62],[98,87,91,64,"level"],[98,92,91,69],[98,94,91,71,"hint"],[98,98,91,75],[98,100,91,77],[98,104,91,81],[98,105,91,82,"_options"],[98,113,91,90],[98,114,91,91,"attachStacktrace"],[98,130,91,107],[98,131,91,108],[99,4,92,2],[101,4,94,2],[102,0,95,0],[103,0,96,0],[104,4,97,3,"_prepareEvent"],[104,17,97,16,"_prepareEvent"],[104,18,98,4,"event"],[104,23,98,9],[104,25,99,4,"hint"],[104,29,99,8],[104,31,100,4,"currentScope"],[104,43,100,16],[104,45,101,4,"isolationScope"],[104,59,101,18],[104,61,102,4],[105,6,103,4,"event"],[105,11,103,9],[105,12,103,10,"platform"],[105,20,103,18],[105,23,103,21,"event"],[105,28,103,26],[105,29,103,27,"platform"],[105,37,103,35],[105,41,103,39],[105,53,103,51],[106,6,105,4],[106,13,105,11],[106,18,105,16],[106,19,105,17,"_prepareEvent"],[106,32,105,30],[106,33,105,31,"event"],[106,38,105,36],[106,40,105,38,"hint"],[106,44,105,42],[106,46,105,44,"currentScope"],[106,58,105,56],[106,60,105,58,"isolationScope"],[106,74,105,72],[106,75,105,73],[107,4,106,2],[108,2,107,0],[110,2,109,0],[111,2,110,0],[111,11,110,9,"applyDefaultOptions"],[111,30,110,28,"applyDefaultOptions"],[111,31,110,29,"optionsArg"],[111,41,110,39],[111,43,110,41],[112,4,111,2],[112,11,111,2,"Object"],[112,17,111,2],[112,18,111,2,"assign"],[112,24,111,2],[113,6,112,4,"release"],[113,13,112,11],[113,15,113,6],[113,22,113,13,"__SENTRY_RELEASE__"],[113,40,113,31],[113,45,113,36],[113,53,113,44],[113,54,113,45],[114,6,113,45],[114,8,114,10,"__SENTRY_RELEASE__"],[114,26,114,28],[114,29,115,10,"WINDOW"],[114,39,115,16],[114,40,115,16,"WINDOW"],[114,46,115,16],[114,47,115,17,"SENTRY_RELEASE"],[114,61,115,31],[114,63,115,33,"id"],[114,65,115,35],[115,6,115,37],[116,6,116,4,"sendClientReports"],[116,23,116,21],[116,25,116,23],[116,29,116,27],[117,6,117,4],[118,6,118,4,"parentSpanIsAlwaysRootSpan"],[118,32,118,30],[118,34,118,32],[119,4,118,36],[119,7,119,7,"optionsArg"],[119,17,119,17],[120,2,121,0],[121,0,121,1],[121,3]],"functionMap":{"names":["<global>","BrowserClient","BrowserClient#constructor","WINDOW.document.addEventListener$argument_1","on$argument_1","setTimeout$argument_0","BrowserClient#eventFromException","BrowserClient#eventFromMessage","BrowserClient#_prepareEvent","applyDefaultOptions"],"mappings":"AAA;ACgB;GCO;2DCmB;ODS;uBEI;OFE;iCEE;+CCK;SDE;OFC;GDM;GKK;GLE;GMK;GNM;GOK;GPS;CDC;ASG;CTW"},"hasCjsExports":false},"type":"js/module"}]}