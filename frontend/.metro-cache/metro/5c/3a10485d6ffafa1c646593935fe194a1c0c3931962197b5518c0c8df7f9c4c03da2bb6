{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"LayoutShiftManager\", {\n    enumerable: true,\n    get: function () {\n      return LayoutShiftManager;\n    }\n  });\n  /* eslint-disable jsdoc/require-jsdoc */\n  /*\n   * Copyright 2024 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  class LayoutShiftManager {\n    constructor() {\n      LayoutShiftManager.prototype.__init.call(this);\n      LayoutShiftManager.prototype.__init2.call(this);\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility\n\n    // eslint-disable-next-line @sentry-internal/sdk/no-class-field-initializers, @typescript-eslint/explicit-member-accessibility\n    __init() {\n      this._sessionValue = 0;\n    }\n    // eslint-disable-next-line @sentry-internal/sdk/no-class-field-initializers, @typescript-eslint/explicit-member-accessibility\n    __init2() {\n      this._sessionEntries = [];\n    }\n\n    // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility\n    _processEntry(entry) {\n      // Only count layout shifts without recent user input.\n      if (entry.hadRecentInput) return;\n      const firstSessionEntry = this._sessionEntries[0];\n      // This previously used `this._sessionEntries.at(-1)` but that is ES2022. We support ES2021 and earlier.\n      const lastSessionEntry = this._sessionEntries[this._sessionEntries.length - 1];\n\n      // If the entry occurred less than 1 second after the previous entry\n      // and less than 5 seconds after the first entry in the session,\n      // include the entry in the current session. Otherwise, start a new\n      // session.\n      if (this._sessionValue && firstSessionEntry && lastSessionEntry && entry.startTime - lastSessionEntry.startTime < 1000 && entry.startTime - firstSessionEntry.startTime < 5000) {\n        this._sessionValue += entry.value;\n        this._sessionEntries.push(entry);\n      } else {\n        this._sessionValue = entry.value;\n        this._sessionEntries = [entry];\n      }\n      this._onAfterProcessingUnexpectedShift?.(entry);\n    }\n  }\n});","lineCount":68,"map":[[7,2,57,0,"Object"],[7,8,57,0],[7,9,57,0,"defineProperty"],[7,23,57,0],[7,24,57,0,"exports"],[7,31,57,0],[8,4,57,0,"enumerable"],[8,14,57,0],[9,4,57,0,"get"],[9,7,57,0],[9,18,57,0,"get"],[9,19,57,0],[10,6,57,0],[10,13,57,9,"LayoutShiftManager"],[10,31,57,27],[11,4,57,27],[12,2,57,27],[13,2,1,0],[14,2,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[30,2,18,0],[30,8,18,6,"LayoutShiftManager"],[30,26,18,24],[30,27,18,25],[31,4,18,26,"constructor"],[31,15,18,37,"constructor"],[31,16,18,37],[31,18,18,40],[32,6,18,42,"LayoutShiftManager"],[32,24,18,60],[32,25,18,61,"prototype"],[32,34,18,70],[32,35,18,71,"__init"],[32,41,18,77],[32,42,18,78,"call"],[32,46,18,82],[32,47,18,83],[32,51,18,87],[32,52,18,88],[33,6,18,89,"LayoutShiftManager"],[33,24,18,107],[33,25,18,108,"prototype"],[33,34,18,117],[33,35,18,118,"__init2"],[33,42,18,125],[33,43,18,126,"call"],[33,47,18,130],[33,48,18,131],[33,52,18,135],[33,53,18,136],[34,4,18,138],[35,4,19,2],[37,4,21,2],[38,4,22,2,"__init"],[38,10,22,8,"__init"],[38,11,22,8],[38,13,22,11],[39,6,22,12],[39,10,22,16],[39,11,22,17,"_sessionValue"],[39,24,22,30],[39,27,22,33],[39,28,22,34],[40,4,22,35],[41,4,23,2],[42,4,24,2,"__init2"],[42,11,24,9,"__init2"],[42,12,24,9],[42,14,24,12],[43,6,24,13],[43,10,24,17],[43,11,24,18,"_sessionEntries"],[43,26,24,33],[43,29,24,36],[43,31,24,38],[44,4,24,39],[46,4,26,2],[47,4,27,2,"_processEntry"],[47,17,27,15,"_processEntry"],[47,18,27,16,"entry"],[47,23,27,21],[47,25,27,23],[48,6,28,4],[49,6,29,4],[49,10,29,8,"entry"],[49,15,29,13],[49,16,29,14,"hadRecentInput"],[49,30,29,28],[49,32,29,30],[50,6,31,4],[50,12,31,10,"firstSessionEntry"],[50,29,31,27],[50,32,31,30],[50,36,31,34],[50,37,31,35,"_sessionEntries"],[50,52,31,50],[50,53,31,51],[50,54,31,52],[50,55,31,53],[51,6,32,4],[52,6,33,4],[52,12,33,10,"lastSessionEntry"],[52,28,33,26],[52,31,33,29],[52,35,33,33],[52,36,33,34,"_sessionEntries"],[52,51,33,49],[52,52,33,50],[52,56,33,54],[52,57,33,55,"_sessionEntries"],[52,72,33,70],[52,73,33,71,"length"],[52,79,33,77],[52,82,33,80],[52,83,33,81],[52,84,33,82],[54,6,35,4],[55,6,36,4],[56,6,37,4],[57,6,38,4],[58,6,39,4],[58,10,40,6],[58,14,40,10],[58,15,40,11,"_sessionValue"],[58,28,40,24],[58,32,41,6,"firstSessionEntry"],[58,49,41,23],[58,53,42,6,"lastSessionEntry"],[58,69,42,22],[58,73,43,6,"entry"],[58,78,43,11],[58,79,43,12,"startTime"],[58,88,43,21],[58,91,43,24,"lastSessionEntry"],[58,107,43,40],[58,108,43,41,"startTime"],[58,117,43,50],[58,120,43,53],[58,124,43,57],[58,128,44,6,"entry"],[58,133,44,11],[58,134,44,12,"startTime"],[58,143,44,21],[58,146,44,24,"firstSessionEntry"],[58,163,44,41],[58,164,44,42,"startTime"],[58,173,44,51],[58,176,44,54],[58,180,44,58],[58,182,45,6],[59,8,46,6],[59,12,46,10],[59,13,46,11,"_sessionValue"],[59,26,46,24],[59,30,46,28,"entry"],[59,35,46,33],[59,36,46,34,"value"],[59,41,46,39],[60,8,47,6],[60,12,47,10],[60,13,47,11,"_sessionEntries"],[60,28,47,26],[60,29,47,27,"push"],[60,33,47,31],[60,34,47,32,"entry"],[60,39,47,37],[60,40,47,38],[61,6,48,4],[61,7,48,5],[61,13,48,11],[62,8,49,6],[62,12,49,10],[62,13,49,11,"_sessionValue"],[62,26,49,24],[62,29,49,27,"entry"],[62,34,49,32],[62,35,49,33,"value"],[62,40,49,38],[63,8,50,6],[63,12,50,10],[63,13,50,11,"_sessionEntries"],[63,28,50,26],[63,31,50,29],[63,32,50,30,"entry"],[63,37,50,35],[63,38,50,36],[64,6,51,4],[65,6,53,4],[65,10,53,8],[65,11,53,9,"_onAfterProcessingUnexpectedShift"],[65,44,53,42],[65,47,53,45,"entry"],[65,52,53,50],[65,53,53,51],[66,4,54,2],[67,2,55,0],[68,0,55,1],[68,3]],"functionMap":{"names":["<global>","LayoutShiftManager","constructor","__init","__init2","_processEntry"],"mappings":"AAA;ACiB,0BC,iHD;EEI,kCF;EGE,sCH;EIG;GJ2B;CDC"},"hasCjsExports":false},"type":"js/module"}]}