{"dependencies":[{"name":"../../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"wyofRZtYR2H2+OElRwz4anlbKJw=","exportNames":["*"],"imports":1}},{"name":"../../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":52,"index":110}}],"key":"EZPmsHt7bn9JJ4Y0grXw/CrOow0=","exportNames":["*"],"imports":1}},{"name":"../../semanticAttributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":79,"index":190}}],"key":"Nj05aHw7DkcWLBmtaT73GikC0NY=","exportNames":["*"],"imports":1}},{"name":"../../tracing/spanstatus.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":191},"end":{"line":4,"column":64,"index":255}}],"key":"xTnLe4eZ8UwJZsOO8L+5TFoq+AE=","exportNames":["*"],"imports":1}},{"name":"../../tracing/trace.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":256},"end":{"line":5,"column":68,"index":324}}],"key":"lxPirCfAj9/5TIIWoerfQSYiEx4=","exportNames":["*"],"imports":1}},{"name":"../ai/gen-ai-attributes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":325},"end":{"line":6,"column":628,"index":953}}],"key":"nKHaXfEjIYF1icPUCGJgR0o1cZ8=","exportNames":["*"],"imports":1}},{"name":"../ai/utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":954},"end":{"line":7,"column":115,"index":1069}}],"key":"4ap/A8nGTkT0jtbnAG1G9kFBsuw=","exportNames":["*"],"imports":1}},{"name":"./constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":1070},"end":{"line":8,"column":63,"index":1133}}],"key":"46QfplZMuoT7/1B4GqMDknw8q/g=","exportNames":["*"],"imports":1}},{"name":"./streaming.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":1134},"end":{"line":9,"column":50,"index":1184}}],"key":"DIl7BKZnjKPmGc4usp/qRst2QPQ=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":1185},"end":{"line":10,"column":46,"index":1231}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"instrumentAnthropicAiClient\", {\n    enumerable: true,\n    get: function () {\n      return instrumentAnthropicAiClient;\n    }\n  });\n  var _currentScopesJs = require(_dependencyMap[0], \"../../currentScopes.js\");\n  var _exportsJs = require(_dependencyMap[1], \"../../exports.js\");\n  var _semanticAttributesJs = require(_dependencyMap[2], \"../../semanticAttributes.js\");\n  var _tracingSpanstatusJs = require(_dependencyMap[3], \"../../tracing/spanstatus.js\");\n  var _tracingTraceJs = require(_dependencyMap[4], \"../../tracing/trace.js\");\n  var _aiGenAiAttributesJs = require(_dependencyMap[5], \"../ai/gen-ai-attributes.js\");\n  var _aiUtilsJs = require(_dependencyMap[6], \"../ai/utils.js\");\n  var _constantsJs = require(_dependencyMap[7], \"./constants.js\");\n  var _streamingJs = require(_dependencyMap[8], \"./streaming.js\");\n  var _utilsJs = require(_dependencyMap[9], \"./utils.js\");\n  /**\n   * Extract request attributes from method arguments\n   */\n  function extractRequestAttributes(args, methodPath) {\n    const attributes = {\n      [_aiGenAiAttributesJs.GEN_AI_SYSTEM_ATTRIBUTE]: 'anthropic',\n      [_aiGenAiAttributesJs.GEN_AI_OPERATION_NAME_ATTRIBUTE]: (0, _aiUtilsJs.getFinalOperationName)(methodPath),\n      [_semanticAttributesJs.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.ai.anthropic'\n    };\n    if (args.length > 0 && typeof args[0] === 'object' && args[0] !== null) {\n      const params = args[0];\n      if (params.tools && Array.isArray(params.tools)) {\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE] = JSON.stringify(params.tools);\n      }\n      attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = params.model ?? 'unknown';\n      if ('temperature' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE] = params.temperature;\n      if ('top_p' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TOP_P_ATTRIBUTE] = params.top_p;\n      if ('stream' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_STREAM_ATTRIBUTE] = params.stream;\n      if ('top_k' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_TOP_K_ATTRIBUTE] = params.top_k;\n      if ('frequency_penalty' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE] = params.frequency_penalty;\n      if ('max_tokens' in params) attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE] = params.max_tokens;\n    } else {\n      if (methodPath === 'models.retrieve' || methodPath === 'models.get') {\n        // models.retrieve(model-id) and models.get(model-id)\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = args[0];\n      } else {\n        attributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] = 'unknown';\n      }\n    }\n    return attributes;\n  }\n\n  /**\n   * Add private request attributes to spans.\n   * This is only recorded if recordInputs is true.\n   */\n  function addPrivateRequestAttributes(span, params) {\n    if ('messages' in params) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]: JSON.stringify(params.messages)\n      });\n    }\n    if ('input' in params) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]: JSON.stringify(params.input)\n      });\n    }\n    if ('prompt' in params) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_PROMPT_ATTRIBUTE]: JSON.stringify(params.prompt)\n      });\n    }\n  }\n\n  /**\n   * Capture error information from the response\n   * @see https://docs.anthropic.com/en/api/errors#error-shapes\n   */\n  function handleResponseError(span, response) {\n    if (response.error) {\n      span.setStatus({\n        code: _tracingSpanstatusJs.SPAN_STATUS_ERROR,\n        message: response.error.type || 'unknown_error'\n      });\n      (0, _exportsJs.captureException)(response.error, {\n        mechanism: {\n          handled: false,\n          type: 'auto.ai.anthropic.anthropic_error'\n        }\n      });\n    }\n  }\n\n  /**\n   * Add content attributes when recordOutputs is enabled\n   */\n  function addContentAttributes(span, response) {\n    // Messages.create\n    if ('content' in response) {\n      if (Array.isArray(response.content)) {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: response.content.map(item => item.text).filter(text => !!text).join('')\n        });\n        const toolCalls = [];\n        for (const item of response.content) {\n          if (item.type === 'tool_use' || item.type === 'server_tool_use') {\n            toolCalls.push(item);\n          }\n        }\n        if (toolCalls.length > 0) {\n          span.setAttributes({\n            [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]: JSON.stringify(toolCalls)\n          });\n        }\n      }\n    }\n    // Completions.create\n    if ('completion' in response) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: response.completion\n      });\n    }\n    // Models.countTokens\n    if ('input_tokens' in response) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]: JSON.stringify(response.input_tokens)\n      });\n    }\n  }\n\n  /**\n   * Add basic metadata attributes from the response\n   */\n  function addMetadataAttributes(span, response) {\n    if ('id' in response && 'model' in response) {\n      span.setAttributes({\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_ID_ATTRIBUTE]: response.id,\n        [_aiGenAiAttributesJs.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]: response.model\n      });\n      if ('created' in response && typeof response.created === 'number') {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]: new Date(response.created * 1000).toISOString()\n        });\n      }\n      if ('created_at' in response && typeof response.created_at === 'number') {\n        span.setAttributes({\n          [_aiGenAiAttributesJs.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]: new Date(response.created_at * 1000).toISOString()\n        });\n      }\n      if ('usage' in response && response.usage) {\n        (0, _aiUtilsJs.setTokenUsageAttributes)(span, response.usage.input_tokens, response.usage.output_tokens, response.usage.cache_creation_input_tokens, response.usage.cache_read_input_tokens);\n      }\n    }\n  }\n\n  /**\n   * Add response attributes to spans\n   */\n  function addResponseAttributes(span, response, recordOutputs) {\n    if (!response || typeof response !== 'object') return;\n\n    // capture error, do not add attributes if error (they shouldn't exist)\n    if ('type' in response && response.type === 'error') {\n      handleResponseError(span, response);\n      return;\n    }\n\n    // Private response attributes that are only recorded if recordOutputs is true.\n    if (recordOutputs) {\n      addContentAttributes(span, response);\n    }\n\n    // Add basic metadata attributes\n    addMetadataAttributes(span, response);\n  }\n\n  /**\n   * Get record options from the integration\n   */\n  function getRecordingOptionsFromIntegration() {\n    const scope = (0, _currentScopesJs.getCurrentScope)();\n    const client = scope.getClient();\n    const integration = client?.getIntegrationByName(_constantsJs.ANTHROPIC_AI_INTEGRATION_NAME);\n    const shouldRecordInputsAndOutputs = integration ? Boolean(client?.getOptions().sendDefaultPii) : false;\n    return {\n      recordInputs: integration?.options?.recordInputs ?? shouldRecordInputsAndOutputs,\n      recordOutputs: integration?.options?.recordOutputs ?? shouldRecordInputsAndOutputs\n    };\n  }\n\n  /**\n   * Instrument a method with Sentry spans\n   * Following Sentry AI Agents Manual Instrumentation conventions\n   * @see https://docs.sentry.io/platforms/javascript/guides/node/tracing/instrumentation/ai-agents-module/#manual-instrumentation\n   */\n  function instrumentMethod(originalMethod, methodPath, context, options) {\n    return async function instrumentedMethod(...args) {\n      const finalOptions = options || getRecordingOptionsFromIntegration();\n      const requestAttributes = extractRequestAttributes(args, methodPath);\n      const model = requestAttributes[_aiGenAiAttributesJs.GEN_AI_REQUEST_MODEL_ATTRIBUTE] ?? 'unknown';\n      const operationName = (0, _aiUtilsJs.getFinalOperationName)(methodPath);\n      const params = typeof args[0] === 'object' ? args[0] : undefined;\n      const isStreamRequested = Boolean(params?.stream);\n      const isStreamingMethod = methodPath === 'messages.stream';\n      if (isStreamRequested || isStreamingMethod) {\n        return (0, _tracingTraceJs.startSpanManual)({\n          name: `${operationName} ${model} stream-response`,\n          op: (0, _aiUtilsJs.getSpanOperation)(methodPath),\n          attributes: requestAttributes\n        }, async span => {\n          try {\n            if (finalOptions.recordInputs && params) {\n              addPrivateRequestAttributes(span, params);\n            }\n            const result = await originalMethod.apply(context, args);\n            return (0, _streamingJs.instrumentStream)(result, span, finalOptions.recordOutputs ?? false);\n          } catch (error) {\n            span.setStatus({\n              code: _tracingSpanstatusJs.SPAN_STATUS_ERROR,\n              message: 'internal_error'\n            });\n            (0, _exportsJs.captureException)(error, {\n              mechanism: {\n                handled: false,\n                type: 'auto.ai.anthropic',\n                data: {\n                  function: methodPath\n                }\n              }\n            });\n            span.end();\n            throw error;\n          }\n        });\n      }\n      return (0, _tracingTraceJs.startSpan)({\n        name: `${operationName} ${model}`,\n        op: (0, _aiUtilsJs.getSpanOperation)(methodPath),\n        attributes: requestAttributes\n      }, async span => {\n        try {\n          if (finalOptions.recordInputs && args[0] && typeof args[0] === 'object') {\n            addPrivateRequestAttributes(span, args[0]);\n          }\n          const result = await originalMethod.apply(context, args);\n          addResponseAttributes(span, result, finalOptions.recordOutputs);\n          return result;\n        } catch (error) {\n          (0, _exportsJs.captureException)(error, {\n            mechanism: {\n              handled: false,\n              type: 'auto.ai.anthropic',\n              data: {\n                function: methodPath\n              }\n            }\n          });\n          throw error;\n        }\n      });\n    };\n  }\n\n  /**\n   * Create a deep proxy for Anthropic AI client instrumentation\n   */\n  function createDeepProxy(target, currentPath = '', options) {\n    return new Proxy(target, {\n      get(obj, prop) {\n        const value = obj[prop];\n        const methodPath = (0, _aiUtilsJs.buildMethodPath)(currentPath, String(prop));\n        if (typeof value === 'function' && (0, _utilsJs.shouldInstrument)(methodPath)) {\n          return instrumentMethod(value, methodPath, obj, options);\n        }\n        if (typeof value === 'function') {\n          // Bind non-instrumented functions to preserve the original `this` context,\n          return value.bind(obj);\n        }\n        if (value && typeof value === 'object') {\n          return createDeepProxy(value, methodPath, options);\n        }\n        return value;\n      }\n    });\n  }\n\n  /**\n   * Instrument an Anthropic AI client with Sentry tracing\n   * Can be used across Node.js, Cloudflare Workers, and Vercel Edge\n   *\n   * @template T - The type of the client that extends object\n   * @param client - The Anthropic AI client to instrument\n   * @param options - Optional configuration for recording inputs and outputs\n   * @returns The instrumented client with the same type as the input\n   */\n  function instrumentAnthropicAiClient(client, options) {\n    return createDeepProxy(client, '', options);\n  }\n});","lineCount":301,"map":[[7,2,316,0,"Object"],[7,8,316,0],[7,9,316,0,"defineProperty"],[7,23,316,0],[7,24,316,0,"exports"],[7,31,316,0],[8,4,316,0,"enumerable"],[8,14,316,0],[9,4,316,0,"get"],[9,7,316,0],[9,18,316,0,"get"],[9,19,316,0],[10,6,316,0],[10,13,316,9,"instrumentAnthropicAiClient"],[10,40,316,36],[11,4,316,36],[12,2,316,36],[13,2,1,0],[13,6,1,0,"_currentScopesJs"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_exportsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_semanticAttributesJs"],[15,27,3,0],[15,30,3,0,"require"],[15,37,3,0],[15,38,3,0,"_dependencyMap"],[15,52,3,0],[16,2,4,0],[16,6,4,0,"_tracingSpanstatusJs"],[16,26,4,0],[16,29,4,0,"require"],[16,36,4,0],[16,37,4,0,"_dependencyMap"],[16,51,4,0],[17,2,5,0],[17,6,5,0,"_tracingTraceJs"],[17,21,5,0],[17,24,5,0,"require"],[17,31,5,0],[17,32,5,0,"_dependencyMap"],[17,46,5,0],[18,2,6,0],[18,6,6,0,"_aiGenAiAttributesJs"],[18,26,6,0],[18,29,6,0,"require"],[18,36,6,0],[18,37,6,0,"_dependencyMap"],[18,51,6,0],[19,2,7,0],[19,6,7,0,"_aiUtilsJs"],[19,16,7,0],[19,19,7,0,"require"],[19,26,7,0],[19,27,7,0,"_dependencyMap"],[19,41,7,0],[20,2,8,0],[20,6,8,0,"_constantsJs"],[20,18,8,0],[20,21,8,0,"require"],[20,28,8,0],[20,29,8,0,"_dependencyMap"],[20,43,8,0],[21,2,9,0],[21,6,9,0,"_streamingJs"],[21,18,9,0],[21,21,9,0,"require"],[21,28,9,0],[21,29,9,0,"_dependencyMap"],[21,43,9,0],[22,2,10,0],[22,6,10,0,"_utilsJs"],[22,14,10,0],[22,17,10,0,"require"],[22,24,10,0],[22,25,10,0,"_dependencyMap"],[22,39,10,0],[23,2,12,0],[24,0,13,0],[25,0,14,0],[26,2,15,0],[26,11,15,9,"extractRequestAttributes"],[26,35,15,33,"extractRequestAttributes"],[26,36,15,34,"args"],[26,40,15,38],[26,42,15,40,"methodPath"],[26,52,15,50],[26,54,15,52],[27,4,16,2],[27,10,16,8,"attributes"],[27,20,16,18],[27,23,16,21],[28,6,17,4],[28,7,17,5,"GEN_AI_SYSTEM_ATTRIBUTE"],[28,27,17,28],[28,28,17,28,"GEN_AI_SYSTEM_ATTRIBUTE"],[28,51,17,28],[28,54,17,31],[28,65,17,42],[29,6,18,4],[29,7,18,5,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[29,27,18,36],[29,28,18,36,"GEN_AI_OPERATION_NAME_ATTRIBUTE"],[29,59,18,36],[29,62,18,39],[29,66,18,39,"getFinalOperationName"],[29,76,18,60],[29,77,18,60,"getFinalOperationName"],[29,98,18,60],[29,100,18,61,"methodPath"],[29,110,18,71],[29,111,18,72],[30,6,19,4],[30,7,19,5,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[30,28,19,37],[30,29,19,37,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN"],[30,61,19,37],[30,64,19,40],[31,4,20,2],[31,5,20,3],[32,4,22,2],[32,8,22,6,"args"],[32,12,22,10],[32,13,22,11,"length"],[32,19,22,17],[32,22,22,20],[32,23,22,21],[32,27,22,25],[32,34,22,32,"args"],[32,38,22,36],[32,39,22,37],[32,40,22,38],[32,41,22,39],[32,46,22,44],[32,54,22,52],[32,58,22,56,"args"],[32,62,22,60],[32,63,22,61],[32,64,22,62],[32,65,22,63],[32,70,22,68],[32,74,22,72],[32,76,22,74],[33,6,23,4],[33,12,23,10,"params"],[33,18,23,16],[33,21,23,19,"args"],[33,25,23,23],[33,26,23,24],[33,27,23,25],[33,28,23,26],[34,6,24,4],[34,10,24,8,"params"],[34,16,24,14],[34,17,24,15,"tools"],[34,22,24,20],[34,26,24,24,"Array"],[34,31,24,29],[34,32,24,30,"isArray"],[34,39,24,37],[34,40,24,38,"params"],[34,46,24,44],[34,47,24,45,"tools"],[34,52,24,50],[34,53,24,51],[34,55,24,53],[35,8,25,6,"attributes"],[35,18,25,16],[35,19,25,17,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[35,39,25,57],[35,40,25,57,"GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE"],[35,80,25,57],[35,81,25,58],[35,84,25,61,"JSON"],[35,88,25,65],[35,89,25,66,"stringify"],[35,98,25,75],[35,99,25,76,"params"],[35,105,25,82],[35,106,25,83,"tools"],[35,111,25,88],[35,112,25,89],[36,6,26,4],[37,6,28,4,"attributes"],[37,16,28,14],[37,17,28,15,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[37,37,28,45],[37,38,28,45,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[37,68,28,45],[37,69,28,46],[37,72,28,49,"params"],[37,78,28,55],[37,79,28,56,"model"],[37,84,28,61],[37,88,28,65],[37,97,28,74],[38,6,29,4],[38,10,29,8],[38,23,29,21],[38,27,29,25,"params"],[38,33,29,31],[38,35,29,33,"attributes"],[38,45,29,43],[38,46,29,44,"GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE"],[38,66,29,80],[38,67,29,80,"GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE"],[38,103,29,80],[38,104,29,81],[38,107,29,84,"params"],[38,113,29,90],[38,114,29,91,"temperature"],[38,125,29,102],[39,6,30,4],[39,10,30,8],[39,17,30,15],[39,21,30,19,"params"],[39,27,30,25],[39,29,30,27,"attributes"],[39,39,30,37],[39,40,30,38,"GEN_AI_REQUEST_TOP_P_ATTRIBUTE"],[39,60,30,68],[39,61,30,68,"GEN_AI_REQUEST_TOP_P_ATTRIBUTE"],[39,91,30,68],[39,92,30,69],[39,95,30,72,"params"],[39,101,30,78],[39,102,30,79,"top_p"],[39,107,30,84],[40,6,31,4],[40,10,31,8],[40,18,31,16],[40,22,31,20,"params"],[40,28,31,26],[40,30,31,28,"attributes"],[40,40,31,38],[40,41,31,39,"GEN_AI_REQUEST_STREAM_ATTRIBUTE"],[40,61,31,70],[40,62,31,70,"GEN_AI_REQUEST_STREAM_ATTRIBUTE"],[40,93,31,70],[40,94,31,71],[40,97,31,74,"params"],[40,103,31,80],[40,104,31,81,"stream"],[40,110,31,87],[41,6,32,4],[41,10,32,8],[41,17,32,15],[41,21,32,19,"params"],[41,27,32,25],[41,29,32,27,"attributes"],[41,39,32,37],[41,40,32,38,"GEN_AI_REQUEST_TOP_K_ATTRIBUTE"],[41,60,32,68],[41,61,32,68,"GEN_AI_REQUEST_TOP_K_ATTRIBUTE"],[41,91,32,68],[41,92,32,69],[41,95,32,72,"params"],[41,101,32,78],[41,102,32,79,"top_k"],[41,107,32,84],[42,6,33,4],[42,10,33,8],[42,29,33,27],[42,33,33,31,"params"],[42,39,33,37],[42,41,34,6,"attributes"],[42,51,34,16],[42,52,34,17,"GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE"],[42,72,34,59],[42,73,34,59,"GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE"],[42,115,34,59],[42,116,34,60],[42,119,34,63,"params"],[42,125,34,69],[42,126,34,70,"frequency_penalty"],[42,143,34,87],[43,6,35,4],[43,10,35,8],[43,22,35,20],[43,26,35,24,"params"],[43,32,35,30],[43,34,35,32,"attributes"],[43,44,35,42],[43,45,35,43,"GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE"],[43,65,35,78],[43,66,35,78,"GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE"],[43,101,35,78],[43,102,35,79],[43,105,35,82,"params"],[43,111,35,88],[43,112,35,89,"max_tokens"],[43,122,35,99],[44,4,36,2],[44,5,36,3],[44,11,36,9],[45,6,37,4],[45,10,37,8,"methodPath"],[45,20,37,18],[45,25,37,23],[45,42,37,40],[45,46,37,44,"methodPath"],[45,56,37,54],[45,61,37,59],[45,73,37,71],[45,75,37,73],[46,8,38,6],[47,8,39,6,"attributes"],[47,18,39,16],[47,19,39,17,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[47,39,39,47],[47,40,39,47,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[47,70,39,47],[47,71,39,48],[47,74,39,51,"args"],[47,78,39,55],[47,79,39,56],[47,80,39,57],[47,81,39,58],[48,6,40,4],[48,7,40,5],[48,13,40,11],[49,8,41,6,"attributes"],[49,18,41,16],[49,19,41,17,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[49,39,41,47],[49,40,41,47,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[49,70,41,47],[49,71,41,48],[49,74,41,51],[49,83,41,60],[50,6,42,4],[51,4,43,2],[52,4,45,2],[52,11,45,9,"attributes"],[52,21,45,19],[53,2,46,0],[55,2,48,0],[56,0,49,0],[57,0,50,0],[58,0,51,0],[59,2,52,0],[59,11,52,9,"addPrivateRequestAttributes"],[59,38,52,36,"addPrivateRequestAttributes"],[59,39,52,37,"span"],[59,43,52,41],[59,45,52,43,"params"],[59,51,52,49],[59,53,52,51],[60,4,53,2],[60,8,53,6],[60,18,53,16],[60,22,53,20,"params"],[60,28,53,26],[60,30,53,28],[61,6,54,4,"span"],[61,10,54,8],[61,11,54,9,"setAttributes"],[61,24,54,22],[61,25,54,23],[62,8,54,25],[62,9,54,26,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[62,29,54,59],[62,30,54,59,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[62,63,54,59],[62,66,54,62,"JSON"],[62,70,54,66],[62,71,54,67,"stringify"],[62,80,54,76],[62,81,54,77,"params"],[62,87,54,83],[62,88,54,84,"messages"],[62,96,54,92],[63,6,54,94],[63,7,54,95],[63,8,54,96],[64,4,55,2],[65,4,56,2],[65,8,56,6],[65,15,56,13],[65,19,56,17,"params"],[65,25,56,23],[65,27,56,25],[66,6,57,4,"span"],[66,10,57,8],[66,11,57,9,"setAttributes"],[66,24,57,22],[66,25,57,23],[67,8,57,25],[67,9,57,26,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[67,29,57,59],[67,30,57,59,"GEN_AI_REQUEST_MESSAGES_ATTRIBUTE"],[67,63,57,59],[67,66,57,62,"JSON"],[67,70,57,66],[67,71,57,67,"stringify"],[67,80,57,76],[67,81,57,77,"params"],[67,87,57,83],[67,88,57,84,"input"],[67,93,57,89],[68,6,57,91],[68,7,57,92],[68,8,57,93],[69,4,58,2],[70,4,59,2],[70,8,59,6],[70,16,59,14],[70,20,59,18,"params"],[70,26,59,24],[70,28,59,26],[71,6,60,4,"span"],[71,10,60,8],[71,11,60,9,"setAttributes"],[71,24,60,22],[71,25,60,23],[72,8,60,25],[72,9,60,26,"GEN_AI_PROMPT_ATTRIBUTE"],[72,29,60,49],[72,30,60,49,"GEN_AI_PROMPT_ATTRIBUTE"],[72,53,60,49],[72,56,60,52,"JSON"],[72,60,60,56],[72,61,60,57,"stringify"],[72,70,60,66],[72,71,60,67,"params"],[72,77,60,73],[72,78,60,74,"prompt"],[72,84,60,80],[73,6,60,82],[73,7,60,83],[73,8,60,84],[74,4,61,2],[75,2,62,0],[77,2,64,0],[78,0,65,0],[79,0,66,0],[80,0,67,0],[81,2,68,0],[81,11,68,9,"handleResponseError"],[81,30,68,28,"handleResponseError"],[81,31,68,29,"span"],[81,35,68,33],[81,37,68,35,"response"],[81,45,68,43],[81,47,68,45],[82,4,69,2],[82,8,69,6,"response"],[82,16,69,14],[82,17,69,15,"error"],[82,22,69,20],[82,24,69,22],[83,6,70,4,"span"],[83,10,70,8],[83,11,70,9,"setStatus"],[83,20,70,18],[83,21,70,19],[84,8,70,21,"code"],[84,12,70,25],[84,14,70,27,"SPAN_STATUS_ERROR"],[84,34,70,44],[84,35,70,44,"SPAN_STATUS_ERROR"],[84,52,70,44],[85,8,70,46,"message"],[85,15,70,53],[85,17,70,55,"response"],[85,25,70,63],[85,26,70,64,"error"],[85,31,70,69],[85,32,70,70,"type"],[85,36,70,74],[85,40,70,78],[86,6,70,94],[86,7,70,95],[86,8,70,96],[87,6,72,4],[87,10,72,4,"captureException"],[87,20,72,20],[87,21,72,20,"captureException"],[87,37,72,20],[87,39,72,21,"response"],[87,47,72,29],[87,48,72,30,"error"],[87,53,72,35],[87,55,72,37],[88,8,73,6,"mechanism"],[88,17,73,15],[88,19,73,17],[89,10,74,8,"handled"],[89,17,74,15],[89,19,74,17],[89,24,74,22],[90,10,75,8,"type"],[90,14,75,12],[90,16,75,14],[91,8,76,6],[92,6,77,4],[92,7,77,5],[92,8,77,6],[93,4,78,2],[94,2,79,0],[96,2,81,0],[97,0,82,0],[98,0,83,0],[99,2,84,0],[99,11,84,9,"addContentAttributes"],[99,31,84,29,"addContentAttributes"],[99,32,84,30,"span"],[99,36,84,34],[99,38,84,36,"response"],[99,46,84,44],[99,48,84,46],[100,4,85,2],[101,4,86,2],[101,8,86,6],[101,17,86,15],[101,21,86,19,"response"],[101,29,86,27],[101,31,86,29],[102,6,87,4],[102,10,87,8,"Array"],[102,15,87,13],[102,16,87,14,"isArray"],[102,23,87,21],[102,24,87,22,"response"],[102,32,87,30],[102,33,87,31,"content"],[102,40,87,38],[102,41,87,39],[102,43,87,41],[103,8,88,6,"span"],[103,12,88,10],[103,13,88,11,"setAttributes"],[103,26,88,24],[103,27,88,25],[104,10,89,8],[104,11,89,9,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[104,31,89,39],[104,32,89,39,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[104,62,89,39],[104,65,89,42,"response"],[104,73,89,50],[104,74,89,51,"content"],[104,81,89,58],[104,82,90,11,"map"],[104,85,90,14],[104,86,90,16,"item"],[104,90,90,20],[104,94,90,25,"item"],[104,98,90,29],[104,99,90,30,"text"],[104,103,90,34],[104,104,90,35],[104,105,91,11,"filter"],[104,111,91,17],[104,112,91,18,"text"],[104,116,91,22],[104,120,91,26],[104,121,91,27],[104,122,91,28,"text"],[104,126,91,32],[104,127,91,33],[104,128,92,11,"join"],[104,132,92,15],[104,133,92,16],[104,135,92,18],[105,8,93,6],[105,9,93,7],[105,10,93,8],[106,8,95,6],[106,14,95,12,"toolCalls"],[106,23,95,21],[106,26,95,24],[106,28,95,26],[107,8,97,6],[107,13,97,11],[107,19,97,17,"item"],[107,23,97,21],[107,27,97,25,"response"],[107,35,97,33],[107,36,97,34,"content"],[107,43,97,41],[107,45,97,43],[108,10,98,8],[108,14,98,12,"item"],[108,18,98,16],[108,19,98,17,"type"],[108,23,98,21],[108,28,98,26],[108,38,98,36],[108,42,98,40,"item"],[108,46,98,44],[108,47,98,45,"type"],[108,51,98,49],[108,56,98,54],[108,73,98,71],[108,75,98,73],[109,12,99,10,"toolCalls"],[109,21,99,19],[109,22,99,20,"push"],[109,26,99,24],[109,27,99,25,"item"],[109,31,99,29],[109,32,99,30],[110,10,100,8],[111,8,101,6],[112,8,102,6],[112,12,102,10,"toolCalls"],[112,21,102,19],[112,22,102,20,"length"],[112,28,102,26],[112,31,102,29],[112,32,102,30],[112,34,102,32],[113,10,103,8,"span"],[113,14,103,12],[113,15,103,13,"setAttributes"],[113,28,103,26],[113,29,103,27],[114,12,103,29],[114,13,103,30,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[114,33,103,66],[114,34,103,66,"GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE"],[114,70,103,66],[114,73,103,69,"JSON"],[114,77,103,73],[114,78,103,74,"stringify"],[114,87,103,83],[114,88,103,84,"toolCalls"],[114,97,103,93],[115,10,103,95],[115,11,103,96],[115,12,103,97],[116,8,104,6],[117,6,105,4],[118,4,106,2],[119,4,107,2],[120,4,108,2],[120,8,108,6],[120,20,108,18],[120,24,108,22,"response"],[120,32,108,30],[120,34,108,32],[121,6,109,4,"span"],[121,10,109,8],[121,11,109,9,"setAttributes"],[121,24,109,22],[121,25,109,23],[122,8,109,25],[122,9,109,26,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[122,29,109,56],[122,30,109,56,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[122,60,109,56],[122,63,109,59,"response"],[122,71,109,67],[122,72,109,68,"completion"],[123,6,109,79],[123,7,109,80],[123,8,109,81],[124,4,110,2],[125,4,111,2],[126,4,112,2],[126,8,112,6],[126,22,112,20],[126,26,112,24,"response"],[126,34,112,32],[126,36,112,34],[127,6,113,4,"span"],[127,10,113,8],[127,11,113,9,"setAttributes"],[127,24,113,22],[127,25,113,23],[128,8,113,25],[128,9,113,26,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[128,29,113,56],[128,30,113,56,"GEN_AI_RESPONSE_TEXT_ATTRIBUTE"],[128,60,113,56],[128,63,113,59,"JSON"],[128,67,113,63],[128,68,113,64,"stringify"],[128,77,113,73],[128,78,113,74,"response"],[128,86,113,82],[128,87,113,83,"input_tokens"],[128,99,113,95],[129,6,113,97],[129,7,113,98],[129,8,113,99],[130,4,114,2],[131,2,115,0],[133,2,117,0],[134,0,118,0],[135,0,119,0],[136,2,120,0],[136,11,120,9,"addMetadataAttributes"],[136,32,120,30,"addMetadataAttributes"],[136,33,120,31,"span"],[136,37,120,35],[136,39,120,37,"response"],[136,47,120,45],[136,49,120,47],[137,4,121,2],[137,8,121,6],[137,12,121,10],[137,16,121,14,"response"],[137,24,121,22],[137,28,121,26],[137,35,121,33],[137,39,121,37,"response"],[137,47,121,45],[137,49,121,47],[138,6,122,4,"span"],[138,10,122,8],[138,11,122,9,"setAttributes"],[138,24,122,22],[138,25,122,23],[139,8,123,6],[139,9,123,7,"GEN_AI_RESPONSE_ID_ATTRIBUTE"],[139,29,123,35],[139,30,123,35,"GEN_AI_RESPONSE_ID_ATTRIBUTE"],[139,58,123,35],[139,61,123,38,"response"],[139,69,123,46],[139,70,123,47,"id"],[139,72,123,49],[140,8,124,6],[140,9,124,7,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[140,29,124,38],[140,30,124,38,"GEN_AI_RESPONSE_MODEL_ATTRIBUTE"],[140,61,124,38],[140,64,124,41,"response"],[140,72,124,49],[140,73,124,50,"model"],[141,6,125,4],[141,7,125,5],[141,8,125,6],[142,6,127,4],[142,10,127,8],[142,19,127,17],[142,23,127,21,"response"],[142,31,127,29],[142,35,127,33],[142,42,127,40,"response"],[142,50,127,48],[142,51,127,49,"created"],[142,58,127,56],[142,63,127,61],[142,71,127,69],[142,73,127,71],[143,8,128,6,"span"],[143,12,128,10],[143,13,128,11,"setAttributes"],[143,26,128,24],[143,27,128,25],[144,10,129,8],[144,11,129,9,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[144,31,129,50],[144,32,129,50,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[144,73,129,50],[144,76,129,53],[144,80,129,57,"Date"],[144,84,129,61],[144,85,129,62,"response"],[144,93,129,70],[144,94,129,71,"created"],[144,101,129,78],[144,104,129,81],[144,108,129,85],[144,109,129,86],[144,110,129,87,"toISOString"],[144,121,129,98],[144,122,129,99],[145,8,130,6],[145,9,130,7],[145,10,130,8],[146,6,131,4],[147,6,132,4],[147,10,132,8],[147,22,132,20],[147,26,132,24,"response"],[147,34,132,32],[147,38,132,36],[147,45,132,43,"response"],[147,53,132,51],[147,54,132,52,"created_at"],[147,64,132,62],[147,69,132,67],[147,77,132,75],[147,79,132,77],[148,8,133,6,"span"],[148,12,133,10],[148,13,133,11,"setAttributes"],[148,26,133,24],[148,27,133,25],[149,10,134,8],[149,11,134,9,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[149,31,134,50],[149,32,134,50,"ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE"],[149,73,134,50],[149,76,134,53],[149,80,134,57,"Date"],[149,84,134,61],[149,85,134,62,"response"],[149,93,134,70],[149,94,134,71,"created_at"],[149,104,134,81],[149,107,134,84],[149,111,134,88],[149,112,134,89],[149,113,134,90,"toISOString"],[149,124,134,101],[149,125,134,102],[150,8,135,6],[150,9,135,7],[150,10,135,8],[151,6,136,4],[152,6,138,4],[152,10,138,8],[152,17,138,15],[152,21,138,19,"response"],[152,29,138,27],[152,33,138,31,"response"],[152,41,138,39],[152,42,138,40,"usage"],[152,47,138,45],[152,49,138,47],[153,8,139,6],[153,12,139,6,"setTokenUsageAttributes"],[153,22,139,29],[153,23,139,29,"setTokenUsageAttributes"],[153,46,139,29],[153,48,140,8,"span"],[153,52,140,12],[153,54,141,8,"response"],[153,62,141,16],[153,63,141,17,"usage"],[153,68,141,22],[153,69,141,23,"input_tokens"],[153,81,141,35],[153,83,142,8,"response"],[153,91,142,16],[153,92,142,17,"usage"],[153,97,142,22],[153,98,142,23,"output_tokens"],[153,111,142,36],[153,113,143,8,"response"],[153,121,143,16],[153,122,143,17,"usage"],[153,127,143,22],[153,128,143,23,"cache_creation_input_tokens"],[153,155,143,50],[153,157,144,8,"response"],[153,165,144,16],[153,166,144,17,"usage"],[153,171,144,22],[153,172,144,23,"cache_read_input_tokens"],[153,195,145,6],[153,196,145,7],[154,6,146,4],[155,4,147,2],[156,2,148,0],[158,2,150,0],[159,0,151,0],[160,0,152,0],[161,2,153,0],[161,11,153,9,"addResponseAttributes"],[161,32,153,30,"addResponseAttributes"],[161,33,153,31,"span"],[161,37,153,35],[161,39,153,37,"response"],[161,47,153,45],[161,49,153,47,"recordOutputs"],[161,62,153,60],[161,64,153,62],[162,4,154,2],[162,8,154,6],[162,9,154,7,"response"],[162,17,154,15],[162,21,154,19],[162,28,154,26,"response"],[162,36,154,34],[162,41,154,39],[162,49,154,47],[162,51,154,49],[164,4,156,2],[165,4,157,2],[165,8,157,6],[165,14,157,12],[165,18,157,16,"response"],[165,26,157,24],[165,30,157,28,"response"],[165,38,157,36],[165,39,157,37,"type"],[165,43,157,41],[165,48,157,46],[165,55,157,53],[165,57,157,55],[166,6,158,4,"handleResponseError"],[166,25,158,23],[166,26,158,24,"span"],[166,30,158,28],[166,32,158,30,"response"],[166,40,158,38],[166,41,158,39],[167,6,159,4],[168,4,160,2],[170,4,162,2],[171,4,163,2],[171,8,163,6,"recordOutputs"],[171,21,163,19],[171,23,163,21],[172,6,164,4,"addContentAttributes"],[172,26,164,24],[172,27,164,25,"span"],[172,31,164,29],[172,33,164,31,"response"],[172,41,164,39],[172,42,164,40],[173,4,165,2],[175,4,167,2],[176,4,168,2,"addMetadataAttributes"],[176,25,168,23],[176,26,168,24,"span"],[176,30,168,28],[176,32,168,30,"response"],[176,40,168,38],[176,41,168,39],[177,2,169,0],[179,2,171,0],[180,0,172,0],[181,0,173,0],[182,2,174,0],[182,11,174,9,"getRecordingOptionsFromIntegration"],[182,45,174,43,"getRecordingOptionsFromIntegration"],[182,46,174,43],[182,48,174,46],[183,4,175,2],[183,10,175,8,"scope"],[183,15,175,13],[183,18,175,16],[183,22,175,16,"getCurrentScope"],[183,38,175,31],[183,39,175,31,"getCurrentScope"],[183,54,175,31],[183,56,175,32],[183,57,175,33],[184,4,176,2],[184,10,176,8,"client"],[184,16,176,14],[184,19,176,17,"scope"],[184,24,176,22],[184,25,176,23,"getClient"],[184,34,176,32],[184,35,176,33],[184,36,176,34],[185,4,177,2],[185,10,177,8,"integration"],[185,21,177,19],[185,24,177,22,"client"],[185,30,177,28],[185,32,177,30,"getIntegrationByName"],[185,52,177,50],[185,53,177,51,"ANTHROPIC_AI_INTEGRATION_NAME"],[185,65,177,80],[185,66,177,80,"ANTHROPIC_AI_INTEGRATION_NAME"],[185,95,177,80],[185,96,177,81],[186,4,178,2],[186,10,178,8,"shouldRecordInputsAndOutputs"],[186,38,178,36],[186,41,178,39,"integration"],[186,52,178,50],[186,55,178,53,"Boolean"],[186,62,178,60],[186,63,178,61,"client"],[186,69,178,67],[186,71,178,69,"getOptions"],[186,81,178,79],[186,82,178,80],[186,83,178,81],[186,84,178,82,"sendDefaultPii"],[186,98,178,96],[186,99,178,97],[186,102,178,100],[186,107,178,105],[187,4,180,2],[187,11,180,9],[188,6,181,4,"recordInputs"],[188,18,181,16],[188,20,181,18,"integration"],[188,31,181,29],[188,33,181,31,"options"],[188,40,181,38],[188,42,181,40,"recordInputs"],[188,54,181,52],[188,58,181,56,"shouldRecordInputsAndOutputs"],[188,86,181,84],[189,6,182,4,"recordOutputs"],[189,19,182,17],[189,21,182,19,"integration"],[189,32,182,30],[189,34,182,32,"options"],[189,41,182,39],[189,43,182,41,"recordOutputs"],[189,56,182,54],[189,60,182,58,"shouldRecordInputsAndOutputs"],[190,4,183,2],[190,5,183,3],[191,2,184,0],[193,2,186,0],[194,0,187,0],[195,0,188,0],[196,0,189,0],[197,0,190,0],[198,2,191,0],[198,11,191,9,"instrumentMethod"],[198,27,191,25,"instrumentMethod"],[198,28,192,2,"originalMethod"],[198,42,192,16],[198,44,193,2,"methodPath"],[198,54,193,12],[198,56,194,2,"context"],[198,63,194,9],[198,65,195,2,"options"],[198,72,195,9],[198,74,196,2],[199,4,197,2],[199,11,197,9],[199,26,197,24,"instrumentedMethod"],[199,44,197,42,"instrumentedMethod"],[199,45,197,43],[199,48,197,46,"args"],[199,52,197,50],[199,54,197,52],[200,6,198,4],[200,12,198,10,"finalOptions"],[200,24,198,22],[200,27,198,25,"options"],[200,34,198,32],[200,38,198,36,"getRecordingOptionsFromIntegration"],[200,72,198,70],[200,73,198,71],[200,74,198,72],[201,6,199,4],[201,12,199,10,"requestAttributes"],[201,29,199,27],[201,32,199,30,"extractRequestAttributes"],[201,56,199,54],[201,57,199,55,"args"],[201,61,199,59],[201,63,199,61,"methodPath"],[201,73,199,71],[201,74,199,72],[202,6,200,4],[202,12,200,10,"model"],[202,17,200,15],[202,20,200,18,"requestAttributes"],[202,37,200,35],[202,38,200,36,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[202,58,200,66],[202,59,200,66,"GEN_AI_REQUEST_MODEL_ATTRIBUTE"],[202,89,200,66],[202,90,200,67],[202,94,200,71],[202,103,200,80],[203,6,201,4],[203,12,201,10,"operationName"],[203,25,201,23],[203,28,201,26],[203,32,201,26,"getFinalOperationName"],[203,42,201,47],[203,43,201,47,"getFinalOperationName"],[203,64,201,47],[203,66,201,48,"methodPath"],[203,76,201,58],[203,77,201,59],[204,6,203,4],[204,12,203,10,"params"],[204,18,203,16],[204,21,203,19],[204,28,203,26,"args"],[204,32,203,30],[204,33,203,31],[204,34,203,32],[204,35,203,33],[204,40,203,38],[204,48,203,46],[204,51,203,50,"args"],[204,55,203,54],[204,56,203,55],[204,57,203,56],[204,58,203,57],[204,61,203,62,"undefined"],[204,70,203,71],[205,6,204,4],[205,12,204,10,"isStreamRequested"],[205,29,204,27],[205,32,204,30,"Boolean"],[205,39,204,37],[205,40,204,38,"params"],[205,46,204,44],[205,48,204,46,"stream"],[205,54,204,52],[205,55,204,53],[206,6,205,4],[206,12,205,10,"isStreamingMethod"],[206,29,205,27],[206,32,205,30,"methodPath"],[206,42,205,40],[206,47,205,45],[206,64,205,62],[207,6,207,4],[207,10,207,8,"isStreamRequested"],[207,27,207,25],[207,31,207,29,"isStreamingMethod"],[207,48,207,46],[207,50,207,48],[208,8,208,6],[208,15,208,13],[208,19,208,13,"startSpanManual"],[208,34,208,28],[208,35,208,28,"startSpanManual"],[208,50,208,28],[208,52,209,8],[209,10,210,10,"name"],[209,14,210,14],[209,16,210,16],[209,19,210,19,"operationName"],[209,32,210,32],[209,36,210,36,"model"],[209,41,210,41],[209,59,210,59],[210,10,211,10,"op"],[210,12,211,12],[210,14,211,14],[210,18,211,14,"getSpanOperation"],[210,28,211,30],[210,29,211,30,"getSpanOperation"],[210,45,211,30],[210,47,211,31,"methodPath"],[210,57,211,41],[210,58,211,42],[211,10,212,10,"attributes"],[211,20,212,20],[211,22,212,22,"requestAttributes"],[212,8,213,8],[212,9,213,9],[212,11,214,8],[212,17,214,15,"span"],[212,21,214,19],[212,25,214,24],[213,10,215,10],[213,14,215,14],[214,12,216,12],[214,16,216,16,"finalOptions"],[214,28,216,28],[214,29,216,29,"recordInputs"],[214,41,216,41],[214,45,216,45,"params"],[214,51,216,51],[214,53,216,53],[215,14,217,14,"addPrivateRequestAttributes"],[215,41,217,41],[215,42,217,42,"span"],[215,46,217,46],[215,48,217,48,"params"],[215,54,217,54],[215,55,217,55],[216,12,218,12],[217,12,220,12],[217,18,220,18,"result"],[217,24,220,24],[217,27,220,27],[217,33,220,33,"originalMethod"],[217,47,220,47],[217,48,220,48,"apply"],[217,53,220,53],[217,54,220,54,"context"],[217,61,220,61],[217,63,220,63,"args"],[217,67,220,67],[217,68,220,68],[218,12,221,12],[218,19,221,19],[218,23,221,19,"instrumentStream"],[218,35,221,35],[218,36,221,35,"instrumentStream"],[218,52,221,35],[218,54,222,14,"result"],[218,60,222,20],[218,62,223,14,"span"],[218,66,223,18],[218,68,224,14,"finalOptions"],[218,80,224,26],[218,81,224,27,"recordOutputs"],[218,94,224,40],[218,98,224,44],[218,103,225,12],[218,104,225,13],[219,10,226,10],[219,11,226,11],[219,12,226,12],[219,19,226,19,"error"],[219,24,226,24],[219,26,226,26],[220,12,227,12,"span"],[220,16,227,16],[220,17,227,17,"setStatus"],[220,26,227,26],[220,27,227,27],[221,14,227,29,"code"],[221,18,227,33],[221,20,227,35,"SPAN_STATUS_ERROR"],[221,40,227,52],[221,41,227,52,"SPAN_STATUS_ERROR"],[221,58,227,52],[222,14,227,54,"message"],[222,21,227,61],[222,23,227,63],[223,12,227,80],[223,13,227,81],[223,14,227,82],[224,12,228,12],[224,16,228,12,"captureException"],[224,26,228,28],[224,27,228,28,"captureException"],[224,43,228,28],[224,45,228,29,"error"],[224,50,228,34],[224,52,228,36],[225,14,229,14,"mechanism"],[225,23,229,23],[225,25,229,25],[226,16,230,16,"handled"],[226,23,230,23],[226,25,230,25],[226,30,230,30],[227,16,231,16,"type"],[227,20,231,20],[227,22,231,22],[227,41,231,41],[228,16,232,16,"data"],[228,20,232,20],[228,22,232,22],[229,18,233,18,"function"],[229,26,233,26],[229,28,233,28,"methodPath"],[230,16,234,16],[231,14,235,14],[232,12,236,12],[232,13,236,13],[232,14,236,14],[233,12,237,12,"span"],[233,16,237,16],[233,17,237,17,"end"],[233,20,237,20],[233,21,237,21],[233,22,237,22],[234,12,238,12],[234,18,238,18,"error"],[234,23,238,23],[235,10,239,10],[236,8,240,8],[236,9,241,6],[236,10,241,7],[237,6,242,4],[238,6,244,4],[238,13,244,11],[238,17,244,11,"startSpan"],[238,32,244,20],[238,33,244,20,"startSpan"],[238,42,244,20],[238,44,245,6],[239,8,246,8,"name"],[239,12,246,12],[239,14,246,14],[239,17,246,17,"operationName"],[239,30,246,30],[239,34,246,34,"model"],[239,39,246,39],[239,41,246,41],[240,8,247,8,"op"],[240,10,247,10],[240,12,247,12],[240,16,247,12,"getSpanOperation"],[240,26,247,28],[240,27,247,28,"getSpanOperation"],[240,43,247,28],[240,45,247,29,"methodPath"],[240,55,247,39],[240,56,247,40],[241,8,248,8,"attributes"],[241,18,248,18],[241,20,248,20,"requestAttributes"],[242,6,249,6],[242,7,249,7],[242,9,250,6],[242,15,250,13,"span"],[242,19,250,17],[242,23,250,22],[243,8,251,8],[243,12,251,12],[244,10,252,10],[244,14,252,14,"finalOptions"],[244,26,252,26],[244,27,252,27,"recordInputs"],[244,39,252,39],[244,43,252,43,"args"],[244,47,252,47],[244,48,252,48],[244,49,252,49],[244,50,252,50],[244,54,252,54],[244,61,252,61,"args"],[244,65,252,65],[244,66,252,66],[244,67,252,67],[244,68,252,68],[244,73,252,73],[244,81,252,81],[244,83,252,83],[245,12,253,12,"addPrivateRequestAttributes"],[245,39,253,39],[245,40,253,40,"span"],[245,44,253,44],[245,46,253,46,"args"],[245,50,253,50],[245,51,253,51],[245,52,253,52],[245,53,253,54],[245,54,253,55],[246,10,254,10],[247,10,256,10],[247,16,256,16,"result"],[247,22,256,22],[247,25,256,25],[247,31,256,31,"originalMethod"],[247,45,256,45],[247,46,256,46,"apply"],[247,51,256,51],[247,52,256,52,"context"],[247,59,256,59],[247,61,256,61,"args"],[247,65,256,65],[247,66,256,66],[248,10,257,10,"addResponseAttributes"],[248,31,257,31],[248,32,257,32,"span"],[248,36,257,36],[248,38,257,38,"result"],[248,44,257,44],[248,46,257,46,"finalOptions"],[248,58,257,58],[248,59,257,59,"recordOutputs"],[248,72,257,72],[248,73,257,73],[249,10,258,10],[249,17,258,17,"result"],[249,23,258,23],[250,8,259,8],[250,9,259,9],[250,10,259,10],[250,17,259,17,"error"],[250,22,259,22],[250,24,259,24],[251,10,260,10],[251,14,260,10,"captureException"],[251,24,260,26],[251,25,260,26,"captureException"],[251,41,260,26],[251,43,260,27,"error"],[251,48,260,32],[251,50,260,34],[252,12,261,12,"mechanism"],[252,21,261,21],[252,23,261,23],[253,14,262,14,"handled"],[253,21,262,21],[253,23,262,23],[253,28,262,28],[254,14,263,14,"type"],[254,18,263,18],[254,20,263,20],[254,39,263,39],[255,14,264,14,"data"],[255,18,264,18],[255,20,264,20],[256,16,265,16,"function"],[256,24,265,24],[256,26,265,26,"methodPath"],[257,14,266,14],[258,12,267,12],[259,10,268,10],[259,11,268,11],[259,12,268,12],[260,10,269,10],[260,16,269,16,"error"],[260,21,269,21],[261,8,270,8],[262,6,271,6],[262,7,272,4],[262,8,272,5],[263,4,273,2],[263,5,273,3],[264,2,274,0],[266,2,276,0],[267,0,277,0],[268,0,278,0],[269,2,279,0],[269,11,279,9,"createDeepProxy"],[269,26,279,24,"createDeepProxy"],[269,27,279,25,"target"],[269,33,279,31],[269,35,279,33,"currentPath"],[269,46,279,44],[269,49,279,47],[269,51,279,49],[269,53,279,51,"options"],[269,60,279,58],[269,62,279,60],[270,4,280,2],[270,11,280,9],[270,15,280,13,"Proxy"],[270,20,280,18],[270,21,280,19,"target"],[270,27,280,25],[270,29,280,27],[271,6,281,4,"get"],[271,9,281,7,"get"],[271,10,281,8,"obj"],[271,13,281,11],[271,15,281,13,"prop"],[271,19,281,17],[271,21,281,19],[272,8,282,6],[272,14,282,12,"value"],[272,19,282,17],[272,22,282,21,"obj"],[272,25,282,24],[272,26,282,27,"prop"],[272,30,282,31],[272,31,282,32],[273,8,283,6],[273,14,283,12,"methodPath"],[273,24,283,22],[273,27,283,25],[273,31,283,25,"buildMethodPath"],[273,41,283,40],[273,42,283,40,"buildMethodPath"],[273,57,283,40],[273,59,283,41,"currentPath"],[273,70,283,52],[273,72,283,54,"String"],[273,78,283,60],[273,79,283,61,"prop"],[273,83,283,65],[273,84,283,66],[273,85,283,67],[274,8,285,6],[274,12,285,10],[274,19,285,17,"value"],[274,24,285,22],[274,29,285,27],[274,39,285,37],[274,43,285,41],[274,47,285,41,"shouldInstrument"],[274,55,285,57],[274,56,285,57,"shouldInstrument"],[274,72,285,57],[274,74,285,58,"methodPath"],[274,84,285,68],[274,85,285,69],[274,87,285,71],[275,10,286,8],[275,17,286,15,"instrumentMethod"],[275,33,286,31],[275,34,286,32,"value"],[275,39,286,37],[275,41,286,40,"methodPath"],[275,51,286,50],[275,53,286,52,"obj"],[275,56,286,55],[275,58,286,57,"options"],[275,65,286,64],[275,66,286,65],[276,8,287,6],[277,8,289,6],[277,12,289,10],[277,19,289,17,"value"],[277,24,289,22],[277,29,289,27],[277,39,289,37],[277,41,289,39],[278,10,290,8],[279,10,291,8],[279,17,291,15,"value"],[279,22,291,20],[279,23,291,21,"bind"],[279,27,291,25],[279,28,291,26,"obj"],[279,31,291,29],[279,32,291,30],[280,8,292,6],[281,8,294,6],[281,12,294,10,"value"],[281,17,294,15],[281,21,294,19],[281,28,294,26,"value"],[281,33,294,31],[281,38,294,36],[281,46,294,44],[281,48,294,46],[282,10,295,8],[282,17,295,15,"createDeepProxy"],[282,32,295,30],[282,33,295,31,"value"],[282,38,295,36],[282,40,295,39,"methodPath"],[282,50,295,49],[282,52,295,51,"options"],[282,59,295,58],[282,60,295,59],[283,8,296,6],[284,8,298,6],[284,15,298,13,"value"],[284,20,298,18],[285,6,299,4],[286,4,300,2],[286,5,300,3],[286,6,300,4],[287,2,301,0],[289,2,303,0],[290,0,304,0],[291,0,305,0],[292,0,306,0],[293,0,307,0],[294,0,308,0],[295,0,309,0],[296,0,310,0],[297,0,311,0],[298,2,312,0],[298,11,312,9,"instrumentAnthropicAiClient"],[298,38,312,36,"instrumentAnthropicAiClient"],[298,39,312,37,"client"],[298,45,312,43],[298,47,312,45,"options"],[298,54,312,52],[298,56,312,54],[299,4,313,2],[299,11,313,9,"createDeepProxy"],[299,26,313,24],[299,27,313,25,"client"],[299,33,313,31],[299,35,313,33],[299,37,313,35],[299,39,313,37,"options"],[299,46,313,44],[299,47,313,45],[300,2,314,0],[301,0,314,1],[301,3]],"functionMap":{"names":["<global>","extractRequestAttributes","addPrivateRequestAttributes","handleResponseError","addContentAttributes","response.content.map$argument_0","response.content.map.filter$argument_0","addMetadataAttributes","addResponseAttributes","getRecordingOptionsFromIntegration","instrumentMethod","instrumentedMethod","startSpanManual$argument_1","startSpan$argument_1","createDeepProxy","Proxy$argument_1.get","instrumentAnthropicAiClient"],"mappings":"AAA;ACc;CD+B;AEM;CFU;AGM;CHW;AIK;eCM,mBD;kBEC,cF;CJwB;AOK;CP4B;AQK;CRgB;ASK;CTU;AUO;SCM;QCiB;SD0B;MEU;OFqB;GDE;CVC;AcK;ICE;KDkB;CdE;AgBW;ChBE"},"hasCjsExports":false},"type":"js/module"}]}