{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":115,"index":115}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createReduxEnhancer\", {\n    enumerable: true,\n    get: function () {\n      return createReduxEnhancer;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  const ACTION_BREADCRUMB_CATEGORY = 'redux.action';\n  const ACTION_BREADCRUMB_TYPE = 'info';\n  const defaultOptions = {\n    attachReduxState: true,\n    actionTransformer: action => action,\n    stateTransformer: state => state || null\n  };\n\n  /**\n   * Creates an enhancer that would be passed to Redux's createStore to log actions and the latest state to Sentry.\n   *\n   * @param enhancerOptions Options to pass to the enhancer\n   */\n  function createReduxEnhancer(enhancerOptions) {\n    // Note: We return an any type as to not have type conflicts.\n    const options = {\n      ...defaultOptions,\n      ...enhancerOptions\n    };\n    return next => (reducer, initialState) => {\n      options.attachReduxState && (0, _sentryCore.getGlobalScope)().addEventProcessor((event, hint) => {\n        try {\n          // @ts-expect-error try catch to reduce bundle size\n          if (event.type === undefined && event.contexts.state.state.type === 'redux') {\n            hint.attachments = [...(hint.attachments || []),\n            // @ts-expect-error try catch to reduce bundle size\n            {\n              filename: 'redux_state.json',\n              data: JSON.stringify(event.contexts.state.state.value)\n            }];\n          }\n        } catch {\n          // empty\n        }\n        return event;\n      });\n      function sentryWrapReducer(reducer) {\n        return (state, action) => {\n          const newState = reducer(state, action);\n          const scope = (0, _sentryCore.getCurrentScope)();\n\n          /* Action breadcrumbs */\n          const transformedAction = options.actionTransformer(action);\n          if (typeof transformedAction !== 'undefined' && transformedAction !== null) {\n            (0, _sentryCore.addBreadcrumb)({\n              category: ACTION_BREADCRUMB_CATEGORY,\n              data: transformedAction,\n              type: ACTION_BREADCRUMB_TYPE\n            });\n          }\n\n          /* Set latest state to scope */\n          const transformedState = options.stateTransformer(newState);\n          if (typeof transformedState !== 'undefined' && transformedState !== null) {\n            const client = (0, _sentryCore.getClient)();\n            const options = client?.getOptions();\n            const normalizationDepth = options?.normalizeDepth || 3; // default state normalization depth to 3\n\n            // Set the normalization depth of the redux state to the configured `normalizeDepth` option or a sane number as a fallback\n            const newStateContext = {\n              state: {\n                type: 'redux',\n                value: transformedState\n              }\n            };\n            (0, _sentryCore.addNonEnumerableProperty)(newStateContext, '__sentry_override_normalization_depth__', 3 +\n            // 3 layers for `state.value.transformedState`\n            normalizationDepth // rest for the actual state\n            );\n            scope.setContext('state', newStateContext);\n          } else {\n            scope.setContext('state', null);\n          }\n\n          /* Allow user to configure scope with latest state */\n          const {\n            configureScopeWithState\n          } = options;\n          if (typeof configureScopeWithState === 'function') {\n            configureScopeWithState(scope, newState);\n          }\n          return newState;\n        };\n      }\n      const store = next(sentryWrapReducer(reducer), initialState);\n\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      store.replaceReducer = new Proxy(store.replaceReducer, {\n        apply: function (target, thisArg, args) {\n          target.apply(thisArg, [sentryWrapReducer(args[0])]);\n        }\n      });\n      return store;\n    };\n  }\n});","lineCount":109,"map":[[7,2,103,0,"Object"],[7,8,103,0],[7,9,103,0,"defineProperty"],[7,23,103,0],[7,24,103,0,"exports"],[7,31,103,0],[8,4,103,0,"enumerable"],[8,14,103,0],[9,4,103,0,"get"],[9,7,103,0],[9,18,103,0,"get"],[9,19,103,0],[10,6,103,0],[10,13,103,9,"createReduxEnhancer"],[10,32,103,28],[11,4,103,28],[12,2,103,28],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,3,0],[14,8,3,6,"ACTION_BREADCRUMB_CATEGORY"],[14,34,3,32],[14,37,3,35],[14,51,3,49],[15,2,4,0],[15,8,4,6,"ACTION_BREADCRUMB_TYPE"],[15,30,4,28],[15,33,4,31],[15,39,4,37],[16,2,6,0],[16,8,6,6,"defaultOptions"],[16,22,6,20],[16,25,6,23],[17,4,7,2,"attachReduxState"],[17,20,7,18],[17,22,7,20],[17,26,7,24],[18,4,8,2,"actionTransformer"],[18,21,8,19],[18,23,8,21,"action"],[18,29,8,27],[18,33,8,31,"action"],[18,39,8,37],[19,4,9,2,"stateTransformer"],[19,20,9,18],[19,22,9,20,"state"],[19,27,9,25],[19,31,9,29,"state"],[19,36,9,34],[19,40,9,38],[20,2,10,0],[20,3,10,1],[22,2,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,2,17,0],[27,11,17,9,"createReduxEnhancer"],[27,30,17,28,"createReduxEnhancer"],[27,31,17,29,"enhancerOptions"],[27,46,17,44],[27,48,17,46],[28,4,18,2],[29,4,19,2],[29,10,19,8,"options"],[29,17,19,15],[29,20,19,18],[30,6,20,4],[30,9,20,7,"defaultOptions"],[30,23,20,21],[31,6,21,4],[31,9,21,7,"enhancerOptions"],[32,4,22,2],[32,5,22,3],[33,4,24,2],[33,11,24,10,"next"],[33,15,24,14],[33,19,25,4],[33,20,25,5,"reducer"],[33,27,25,12],[33,29,25,14,"initialState"],[33,41,25,26],[33,46,25,31],[34,6,26,6,"options"],[34,13,26,13],[34,14,26,14,"attachReduxState"],[34,30,26,30],[34,34,27,8],[34,38,27,8,"getGlobalScope"],[34,49,27,22],[34,50,27,22,"getGlobalScope"],[34,64,27,22],[34,66,27,23],[34,67,27,24],[34,68,27,25,"addEventProcessor"],[34,85,27,42],[34,86,27,43],[34,87,27,44,"event"],[34,92,27,49],[34,94,27,51,"hint"],[34,98,27,55],[34,103,27,60],[35,8,28,10],[35,12,28,14],[36,10,29,12],[37,10,30,12],[37,14,30,16,"event"],[37,19,30,21],[37,20,30,22,"type"],[37,24,30,26],[37,29,30,31,"undefined"],[37,38,30,40],[37,42,30,44,"event"],[37,47,30,49],[37,48,30,50,"contexts"],[37,56,30,58],[37,57,30,59,"state"],[37,62,30,64],[37,63,30,65,"state"],[37,68,30,70],[37,69,30,71,"type"],[37,73,30,75],[37,78,30,80],[37,85,30,87],[37,87,30,89],[38,12,31,14,"hint"],[38,16,31,18],[38,17,31,19,"attachments"],[38,28,31,30],[38,31,31,33],[38,32,32,16],[38,36,32,20,"hint"],[38,40,32,24],[38,41,32,25,"attachments"],[38,52,32,36],[38,56,32,40],[38,58,32,42],[38,59,32,43],[39,12,33,16],[40,12,34,16],[41,14,34,18,"filename"],[41,22,34,26],[41,24,34,28],[41,42,34,46],[42,14,34,48,"data"],[42,18,34,52],[42,20,34,54,"JSON"],[42,24,34,58],[42,25,34,59,"stringify"],[42,34,34,68],[42,35,34,69,"event"],[42,40,34,74],[42,41,34,75,"contexts"],[42,49,34,83],[42,50,34,84,"state"],[42,55,34,89],[42,56,34,90,"state"],[42,61,34,95],[42,62,34,96,"value"],[42,67,34,101],[43,12,34,103],[43,13,34,104],[43,14,35,15],[44,10,36,12],[45,8,37,10],[45,9,37,11],[45,10,37,12],[45,16,37,18],[46,10,38,12],[47,8,38,12],[48,8,40,10],[48,15,40,17,"event"],[48,20,40,22],[49,6,41,8],[49,7,41,9],[49,8,41,10],[50,6,43,6],[50,15,43,15,"sentryWrapReducer"],[50,32,43,32,"sentryWrapReducer"],[50,33,43,33,"reducer"],[50,40,43,40],[50,42,43,42],[51,8,44,8],[51,15,44,15],[51,16,44,16,"state"],[51,21,44,21],[51,23,44,23,"action"],[51,29,44,29],[51,34,44,34],[52,10,45,10],[52,16,45,16,"newState"],[52,24,45,24],[52,27,45,27,"reducer"],[52,34,45,34],[52,35,45,35,"state"],[52,40,45,40],[52,42,45,42,"action"],[52,48,45,48],[52,49,45,49],[53,10,47,10],[53,16,47,16,"scope"],[53,21,47,21],[53,24,47,24],[53,28,47,24,"getCurrentScope"],[53,39,47,39],[53,40,47,39,"getCurrentScope"],[53,55,47,39],[53,57,47,40],[53,58,47,41],[55,10,49,10],[56,10,50,10],[56,16,50,16,"transformedAction"],[56,33,50,33],[56,36,50,36,"options"],[56,43,50,43],[56,44,50,44,"actionTransformer"],[56,61,50,61],[56,62,50,62,"action"],[56,68,50,68],[56,69,50,69],[57,10,51,10],[57,14,51,14],[57,21,51,21,"transformedAction"],[57,38,51,38],[57,43,51,43],[57,54,51,54],[57,58,51,58,"transformedAction"],[57,75,51,75],[57,80,51,80],[57,84,51,84],[57,86,51,86],[58,12,52,12],[58,16,52,12,"addBreadcrumb"],[58,27,52,25],[58,28,52,25,"addBreadcrumb"],[58,41,52,25],[58,43,52,26],[59,14,53,14,"category"],[59,22,53,22],[59,24,53,24,"ACTION_BREADCRUMB_CATEGORY"],[59,50,53,50],[60,14,54,14,"data"],[60,18,54,18],[60,20,54,20,"transformedAction"],[60,37,54,37],[61,14,55,14,"type"],[61,18,55,18],[61,20,55,20,"ACTION_BREADCRUMB_TYPE"],[62,12,56,12],[62,13,56,13],[62,14,56,14],[63,10,57,10],[65,10,59,10],[66,10,60,10],[66,16,60,16,"transformedState"],[66,32,60,32],[66,35,60,35,"options"],[66,42,60,42],[66,43,60,43,"stateTransformer"],[66,59,60,59],[66,60,60,60,"newState"],[66,68,60,68],[66,69,60,69],[67,10,61,10],[67,14,61,14],[67,21,61,21,"transformedState"],[67,37,61,37],[67,42,61,42],[67,53,61,53],[67,57,61,57,"transformedState"],[67,73,61,73],[67,78,61,78],[67,82,61,82],[67,84,61,84],[68,12,62,12],[68,18,62,18,"client"],[68,24,62,24],[68,27,62,27],[68,31,62,27,"getClient"],[68,42,62,36],[68,43,62,36,"getClient"],[68,52,62,36],[68,54,62,37],[68,55,62,38],[69,12,63,12],[69,18,63,18,"options"],[69,25,63,25],[69,28,63,28,"client"],[69,34,63,34],[69,36,63,36,"getOptions"],[69,46,63,46],[69,47,63,47],[69,48,63,48],[70,12,64,12],[70,18,64,18,"normalizationDepth"],[70,36,64,36],[70,39,64,39,"options"],[70,46,64,46],[70,48,64,48,"normalizeDepth"],[70,62,64,62],[70,66,64,66],[70,67,64,67],[70,68,64,68],[70,69,64,69],[72,12,66,12],[73,12,67,12],[73,18,67,18,"newStateContext"],[73,33,67,33],[73,36,67,36],[74,14,67,38,"state"],[74,19,67,43],[74,21,67,45],[75,16,67,47,"type"],[75,20,67,51],[75,22,67,53],[75,29,67,60],[76,16,67,62,"value"],[76,21,67,67],[76,23,67,69,"transformedState"],[77,14,67,86],[78,12,67,88],[78,13,67,89],[79,12,68,12],[79,16,68,12,"addNonEnumerableProperty"],[79,27,68,36],[79,28,68,36,"addNonEnumerableProperty"],[79,52,68,36],[79,54,69,14,"newStateContext"],[79,69,69,29],[79,71,70,14],[79,112,70,55],[79,114,71,14],[79,115,71,15],[80,12,71,18],[81,12,72,16,"normalizationDepth"],[81,30,72,34],[81,31,72,36],[82,12,73,12],[82,13,73,13],[83,12,75,12,"scope"],[83,17,75,17],[83,18,75,18,"setContext"],[83,28,75,28],[83,29,75,29],[83,36,75,36],[83,38,75,38,"newStateContext"],[83,53,75,53],[83,54,75,54],[84,10,76,10],[84,11,76,11],[84,17,76,17],[85,12,77,12,"scope"],[85,17,77,17],[85,18,77,18,"setContext"],[85,28,77,28],[85,29,77,29],[85,36,77,36],[85,38,77,38],[85,42,77,42],[85,43,77,43],[86,10,78,10],[88,10,80,10],[89,10,81,10],[89,16,81,16],[90,12,81,18,"configureScopeWithState"],[91,10,81,42],[91,11,81,43],[91,14,81,46,"options"],[91,21,81,53],[92,10,82,10],[92,14,82,14],[92,21,82,21,"configureScopeWithState"],[92,44,82,44],[92,49,82,49],[92,59,82,59],[92,61,82,61],[93,12,83,12,"configureScopeWithState"],[93,35,83,35],[93,36,83,36,"scope"],[93,41,83,41],[93,43,83,43,"newState"],[93,51,83,51],[93,52,83,52],[94,10,84,10],[95,10,86,10],[95,17,86,17,"newState"],[95,25,86,25],[96,8,87,8],[96,9,87,9],[97,6,88,6],[98,6,90,6],[98,12,90,12,"store"],[98,17,90,17],[98,20,90,20,"next"],[98,24,90,24],[98,25,90,25,"sentryWrapReducer"],[98,42,90,42],[98,43,90,43,"reducer"],[98,50,90,50],[98,51,90,51],[98,53,90,53,"initialState"],[98,65,90,65],[98,66,90,66],[100,6,92,6],[101,6,93,6,"store"],[101,11,93,11],[101,12,93,12,"replaceReducer"],[101,26,93,26],[101,29,93,29],[101,33,93,33,"Proxy"],[101,38,93,38],[101,39,93,39,"store"],[101,44,93,44],[101,45,93,45,"replaceReducer"],[101,59,93,59],[101,61,93,61],[102,8,94,8,"apply"],[102,13,94,13],[102,15,94,15],[102,24,94,15,"apply"],[102,25,94,25,"target"],[102,31,94,31],[102,33,94,33,"thisArg"],[102,40,94,40],[102,42,94,42,"args"],[102,46,94,46],[102,48,94,48],[103,10,95,10,"target"],[103,16,95,16],[103,17,95,17,"apply"],[103,22,95,22],[103,23,95,23,"thisArg"],[103,30,95,30],[103,32,95,32],[103,33,95,33,"sentryWrapReducer"],[103,50,95,50],[103,51,95,51,"args"],[103,55,95,55],[103,56,95,56],[103,57,95,57],[103,58,95,58],[103,59,95,59],[103,60,95,60],[103,61,95,61],[104,8,96,8],[105,6,97,6],[105,7,97,7],[105,8,97,8],[106,6,99,6],[106,13,99,13,"store"],[106,18,99,18],[107,4,100,4],[107,5,100,5],[108,2,101,0],[109,0,101,1],[109,3]],"functionMap":{"names":["<global>","defaultOptions.actionTransformer","defaultOptions.stateTransformer","createReduxEnhancer","<anonymous>","getGlobalScope.addEventProcessor$argument_0","sentryWrapReducer","Proxy$argument_1.apply"],"mappings":"AAA;qBCO,gBD;oBEC,sBF;AGQ;SCO;2CCG;SDc;MEE;eFC;SE2C;OFC;eGM;SHE;KDI;CHC"},"hasCjsExports":false},"type":"js/module"}]}