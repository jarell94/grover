{"dependencies":[{"name":"../utils/encode","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"3Jioo757nbAUz7tzijZKhzRWaBQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.parseContentLengthHeader = parseContentLengthHeader;\n  exports.getBodySize = getBodySize;\n  var _utilsEncode = require(_dependencyMap[0], \"../utils/encode\");\n  /** Convert a Content-Length header to number/undefined. */\n  function parseContentLengthHeader(header) {\n    if (!header) {\n      return undefined;\n    }\n    const size = parseInt(header, 10);\n    return isNaN(size) ? undefined : size;\n  }\n  /** Get the size of a body. */\n  function getBodySize(body) {\n    if (!body) {\n      return undefined;\n    }\n    try {\n      if (typeof body === 'string') {\n        return (0, _utilsEncode.encodeUTF8)(body).length;\n      }\n      if (body instanceof URLSearchParams) {\n        return (0, _utilsEncode.encodeUTF8)(body.toString()).length;\n      }\n      if (body instanceof FormData) {\n        const formDataStr = _serializeFormData(body);\n        return (0, _utilsEncode.encodeUTF8)(formDataStr).length;\n      }\n      if (body instanceof Blob) {\n        return body.size;\n      }\n      if (body instanceof ArrayBuffer) {\n        return body.byteLength;\n      }\n      // Currently unhandled types: ArrayBufferView, ReadableStream\n    } catch (_a) {\n      // just return undefined\n    }\n    return undefined;\n  }\n  function _serializeFormData(formData) {\n    // This is a bit simplified, but gives us a decent estimate\n    // This converts e.g. { name: 'Anne Smith', age: 13 } to 'name=Anne+Smith&age=13'\n    // @ts-expect-error passing FormData to URLSearchParams won't correctly serialize `File` entries, which is fine for this use-case. See https://github.com/microsoft/TypeScript/issues/30584\n    return new URLSearchParams(formData).toString();\n  }\n});","lineCount":52,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"parseContentLengthHeader"],[7,34,3,0],[7,37,3,0,"parseContentLengthHeader"],[7,61,3,0],[8,2,11,0,"exports"],[8,9,11,0],[8,10,11,0,"getBodySize"],[8,21,11,0],[8,24,11,0,"getBodySize"],[8,35,11,0],[9,2,1,0],[9,6,1,0,"_utilsEncode"],[9,18,1,0],[9,21,1,0,"require"],[9,28,1,0],[9,29,1,0,"_dependencyMap"],[9,43,1,0],[10,2,2,0],[11,2,3,7],[11,11,3,16,"parseContentLengthHeader"],[11,35,3,40,"parseContentLengthHeader"],[11,36,3,41,"header"],[11,42,3,47],[11,44,3,49],[12,4,4,4],[12,8,4,8],[12,9,4,9,"header"],[12,15,4,15],[12,17,4,17],[13,6,5,8],[13,13,5,15,"undefined"],[13,22,5,24],[14,4,6,4],[15,4,7,4],[15,10,7,10,"size"],[15,14,7,14],[15,17,7,17,"parseInt"],[15,25,7,25],[15,26,7,26,"header"],[15,32,7,32],[15,34,7,34],[15,36,7,36],[15,37,7,37],[16,4,8,4],[16,11,8,11,"isNaN"],[16,16,8,16],[16,17,8,17,"size"],[16,21,8,21],[16,22,8,22],[16,25,8,25,"undefined"],[16,34,8,34],[16,37,8,37,"size"],[16,41,8,41],[17,2,9,0],[18,2,10,0],[19,2,11,7],[19,11,11,16,"getBodySize"],[19,22,11,27,"getBodySize"],[19,23,11,28,"body"],[19,27,11,32],[19,29,11,34],[20,4,12,4],[20,8,12,8],[20,9,12,9,"body"],[20,13,12,13],[20,15,12,15],[21,6,13,8],[21,13,13,15,"undefined"],[21,22,13,24],[22,4,14,4],[23,4,15,4],[23,8,15,8],[24,6,16,8],[24,10,16,12],[24,17,16,19,"body"],[24,21,16,23],[24,26,16,28],[24,34,16,36],[24,36,16,38],[25,8,17,12],[25,15,17,19],[25,19,17,19,"encodeUTF8"],[25,31,17,29],[25,32,17,29,"encodeUTF8"],[25,42,17,29],[25,44,17,30,"body"],[25,48,17,34],[25,49,17,35],[25,50,17,36,"length"],[25,56,17,42],[26,6,18,8],[27,6,19,8],[27,10,19,12,"body"],[27,14,19,16],[27,26,19,28,"URLSearchParams"],[27,41,19,43],[27,43,19,45],[28,8,20,12],[28,15,20,19],[28,19,20,19,"encodeUTF8"],[28,31,20,29],[28,32,20,29,"encodeUTF8"],[28,42,20,29],[28,44,20,30,"body"],[28,48,20,34],[28,49,20,35,"toString"],[28,57,20,43],[28,58,20,44],[28,59,20,45],[28,60,20,46],[28,61,20,47,"length"],[28,67,20,53],[29,6,21,8],[30,6,22,8],[30,10,22,12,"body"],[30,14,22,16],[30,26,22,28,"FormData"],[30,34,22,36],[30,36,22,38],[31,8,23,12],[31,14,23,18,"formDataStr"],[31,25,23,29],[31,28,23,32,"_serializeFormData"],[31,46,23,50],[31,47,23,51,"body"],[31,51,23,55],[31,52,23,56],[32,8,24,12],[32,15,24,19],[32,19,24,19,"encodeUTF8"],[32,31,24,29],[32,32,24,29,"encodeUTF8"],[32,42,24,29],[32,44,24,30,"formDataStr"],[32,55,24,41],[32,56,24,42],[32,57,24,43,"length"],[32,63,24,49],[33,6,25,8],[34,6,26,8],[34,10,26,12,"body"],[34,14,26,16],[34,26,26,28,"Blob"],[34,30,26,32],[34,32,26,34],[35,8,27,12],[35,15,27,19,"body"],[35,19,27,23],[35,20,27,24,"size"],[35,24,27,28],[36,6,28,8],[37,6,29,8],[37,10,29,12,"body"],[37,14,29,16],[37,26,29,28,"ArrayBuffer"],[37,37,29,39],[37,39,29,41],[38,8,30,12],[38,15,30,19,"body"],[38,19,30,23],[38,20,30,24,"byteLength"],[38,30,30,34],[39,6,31,8],[40,6,32,8],[41,4,33,4],[41,5,33,5],[41,6,34,4],[41,13,34,11,"_a"],[41,15,34,13],[41,17,34,15],[42,6,35,8],[43,4,35,8],[44,4,37,4],[44,11,37,11,"undefined"],[44,20,37,20],[45,2,38,0],[46,2,39,0],[46,11,39,9,"_serializeFormData"],[46,29,39,27,"_serializeFormData"],[46,30,39,28,"formData"],[46,38,39,36],[46,40,39,38],[47,4,40,4],[48,4,41,4],[49,4,42,4],[50,4,43,4],[50,11,43,11],[50,15,43,15,"URLSearchParams"],[50,30,43,30],[50,31,43,31,"formData"],[50,39,43,39],[50,40,43,40],[50,41,43,41,"toString"],[50,49,43,49],[50,50,43,50],[50,51,43,51],[51,2,44,0],[52,0,44,1],[52,3]],"functionMap":{"names":["<global>","parseContentLengthHeader","getBodySize","_serializeFormData"],"mappings":"AAA;OCE;CDM;OEE;CF2B;AGC;CHK"},"hasCjsExports":false},"type":"js/module"}]}