{"dependencies":[{"name":"./worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"LZlrQCVO4H3zUFIdbw1eEy4GKGE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getDebugImagesForResources\", {\n    enumerable: true,\n    get: function () {\n      return getDebugImagesForResources;\n    }\n  });\n  Object.defineProperty(exports, \"getFilenameToDebugIdMap\", {\n    enumerable: true,\n    get: function () {\n      return getFilenameToDebugIdMap;\n    }\n  });\n  var _worldwideJs = require(_dependencyMap[0], \"./worldwide.js\");\n  let parsedStackResults;\n  let lastKeysCount;\n  let cachedFilenameDebugIds;\n\n  /**\n   * Returns a map of filenames to debug identifiers.\n   */\n  function getFilenameToDebugIdMap(stackParser) {\n    const debugIdMap = _worldwideJs.GLOBAL_OBJ._sentryDebugIds;\n    if (!debugIdMap) {\n      return {};\n    }\n    const debugIdKeys = Object.keys(debugIdMap);\n\n    // If the count of registered globals hasn't changed since the last call, we\n    // can just return the cached result.\n    if (cachedFilenameDebugIds && debugIdKeys.length === lastKeysCount) {\n      return cachedFilenameDebugIds;\n    }\n    lastKeysCount = debugIdKeys.length;\n\n    // Build a map of filename -> debug_id.\n    cachedFilenameDebugIds = debugIdKeys.reduce((acc, stackKey) => {\n      if (!parsedStackResults) {\n        parsedStackResults = {};\n      }\n      const result = parsedStackResults[stackKey];\n      if (result) {\n        acc[result[0]] = result[1];\n      } else {\n        const parsedStack = stackParser(stackKey);\n        for (let i = parsedStack.length - 1; i >= 0; i--) {\n          const stackFrame = parsedStack[i];\n          const filename = stackFrame?.filename;\n          const debugId = debugIdMap[stackKey];\n          if (filename && debugId) {\n            acc[filename] = debugId;\n            parsedStackResults[stackKey] = [filename, debugId];\n            break;\n          }\n        }\n      }\n      return acc;\n    }, {});\n    return cachedFilenameDebugIds;\n  }\n\n  /**\n   * Returns a list of debug images for the given resources.\n   */\n  function getDebugImagesForResources(stackParser, resource_paths) {\n    const filenameDebugIdMap = getFilenameToDebugIdMap(stackParser);\n    if (!filenameDebugIdMap) {\n      return [];\n    }\n    const images = [];\n    for (const path of resource_paths) {\n      if (path && filenameDebugIdMap[path]) {\n        images.push({\n          type: 'sourcemap',\n          code_file: path,\n          debug_id: filenameDebugIdMap[path]\n        });\n      }\n    }\n    return images;\n  }\n});","lineCount":87,"map":[[7,2,85,0,"Object"],[7,8,85,0],[7,9,85,0,"defineProperty"],[7,23,85,0],[7,24,85,0,"exports"],[7,31,85,0],[8,4,85,0,"enumerable"],[8,14,85,0],[9,4,85,0,"get"],[9,7,85,0],[9,18,85,0,"get"],[9,19,85,0],[10,6,85,0],[10,13,85,9,"getDebugImagesForResources"],[10,39,85,35],[11,4,85,35],[12,2,85,35],[13,2,85,0,"Object"],[13,8,85,0],[13,9,85,0,"defineProperty"],[13,23,85,0],[13,24,85,0,"exports"],[13,31,85,0],[14,4,85,0,"enumerable"],[14,14,85,0],[15,4,85,0,"get"],[15,7,85,0],[15,18,85,0,"get"],[15,19,85,0],[16,6,85,0],[16,13,85,37,"getFilenameToDebugIdMap"],[16,36,85,60],[17,4,85,60],[18,2,85,60],[19,2,1,0],[19,6,1,0,"_worldwideJs"],[19,18,1,0],[19,21,1,0,"require"],[19,28,1,0],[19,29,1,0,"_dependencyMap"],[19,43,1,0],[20,2,3,0],[20,6,3,4,"parsedStackResults"],[20,24,3,22],[21,2,4,0],[21,6,4,4,"lastKeysCount"],[21,19,4,17],[22,2,5,0],[22,6,5,4,"cachedFilenameDebugIds"],[22,28,5,26],[24,2,7,0],[25,0,8,0],[26,0,9,0],[27,2,10,0],[27,11,10,9,"getFilenameToDebugIdMap"],[27,34,10,32,"getFilenameToDebugIdMap"],[27,35,10,33,"stackParser"],[27,46,10,44],[27,48,10,46],[28,4,11,2],[28,10,11,8,"debugIdMap"],[28,20,11,18],[28,23,11,21,"GLOBAL_OBJ"],[28,35,11,31],[28,36,11,31,"GLOBAL_OBJ"],[28,46,11,31],[28,47,11,32,"_sentryDebugIds"],[28,62,11,47],[29,4,12,2],[29,8,12,6],[29,9,12,7,"debugIdMap"],[29,19,12,17],[29,21,12,19],[30,6,13,4],[30,13,13,11],[30,14,13,12],[30,15,13,13],[31,4,14,2],[32,4,16,2],[32,10,16,8,"debugIdKeys"],[32,21,16,19],[32,24,16,22,"Object"],[32,30,16,28],[32,31,16,29,"keys"],[32,35,16,33],[32,36,16,34,"debugIdMap"],[32,46,16,44],[32,47,16,45],[34,4,18,2],[35,4,19,2],[36,4,20,2],[36,8,20,6,"cachedFilenameDebugIds"],[36,30,20,28],[36,34,20,32,"debugIdKeys"],[36,45,20,43],[36,46,20,44,"length"],[36,52,20,50],[36,57,20,55,"lastKeysCount"],[36,70,20,68],[36,72,20,70],[37,6,21,4],[37,13,21,11,"cachedFilenameDebugIds"],[37,35,21,33],[38,4,22,2],[39,4,24,2,"lastKeysCount"],[39,17,24,15],[39,20,24,18,"debugIdKeys"],[39,31,24,29],[39,32,24,30,"length"],[39,38,24,36],[41,4,26,2],[42,4,27,2,"cachedFilenameDebugIds"],[42,26,27,24],[42,29,27,27,"debugIdKeys"],[42,40,27,38],[42,41,27,39,"reduce"],[42,47,27,45],[42,48,27,46],[42,49,27,47,"acc"],[42,52,27,50],[42,54,27,52,"stackKey"],[42,62,27,60],[42,67,27,65],[43,6,28,4],[43,10,28,8],[43,11,28,9,"parsedStackResults"],[43,29,28,27],[43,31,28,29],[44,8,29,6,"parsedStackResults"],[44,26,29,24],[44,29,29,27],[44,30,29,28],[44,31,29,29],[45,6,30,4],[46,6,32,4],[46,12,32,10,"result"],[46,18,32,16],[46,21,32,19,"parsedStackResults"],[46,39,32,37],[46,40,32,38,"stackKey"],[46,48,32,46],[46,49,32,47],[47,6,34,4],[47,10,34,8,"result"],[47,16,34,14],[47,18,34,16],[48,8,35,6,"acc"],[48,11,35,9],[48,12,35,10,"result"],[48,18,35,16],[48,19,35,17],[48,20,35,18],[48,21,35,19],[48,22,35,20],[48,25,35,23,"result"],[48,31,35,29],[48,32,35,30],[48,33,35,31],[48,34,35,32],[49,6,36,4],[49,7,36,5],[49,13,36,11],[50,8,37,6],[50,14,37,12,"parsedStack"],[50,25,37,23],[50,28,37,26,"stackParser"],[50,39,37,37],[50,40,37,38,"stackKey"],[50,48,37,46],[50,49,37,47],[51,8,39,6],[51,13,39,11],[51,17,39,15,"i"],[51,18,39,16],[51,21,39,19,"parsedStack"],[51,32,39,30],[51,33,39,31,"length"],[51,39,39,37],[51,42,39,40],[51,43,39,41],[51,45,39,43,"i"],[51,46,39,44],[51,50,39,48],[51,51,39,49],[51,53,39,51,"i"],[51,54,39,52],[51,56,39,54],[51,58,39,56],[52,10,40,8],[52,16,40,14,"stackFrame"],[52,26,40,24],[52,29,40,27,"parsedStack"],[52,40,40,38],[52,41,40,39,"i"],[52,42,40,40],[52,43,40,41],[53,10,41,8],[53,16,41,14,"filename"],[53,24,41,22],[53,27,41,25,"stackFrame"],[53,37,41,35],[53,39,41,37,"filename"],[53,47,41,45],[54,10,42,8],[54,16,42,14,"debugId"],[54,23,42,21],[54,26,42,24,"debugIdMap"],[54,36,42,34],[54,37,42,35,"stackKey"],[54,45,42,43],[54,46,42,44],[55,10,44,8],[55,14,44,12,"filename"],[55,22,44,20],[55,26,44,24,"debugId"],[55,33,44,31],[55,35,44,33],[56,12,45,10,"acc"],[56,15,45,13],[56,16,45,14,"filename"],[56,24,45,22],[56,25,45,23],[56,28,45,26,"debugId"],[56,35,45,33],[57,12,46,10,"parsedStackResults"],[57,30,46,28],[57,31,46,29,"stackKey"],[57,39,46,37],[57,40,46,38],[57,43,46,41],[57,44,46,42,"filename"],[57,52,46,50],[57,54,46,52,"debugId"],[57,61,46,59],[57,62,46,60],[58,12,47,10],[59,10,48,8],[60,8,49,6],[61,6,50,4],[62,6,52,4],[62,13,52,11,"acc"],[62,16,52,14],[63,4,53,2],[63,5,53,3],[63,7,53,5],[63,8,53,6],[63,9,53,7],[63,10,53,8],[64,4,55,2],[64,11,55,9,"cachedFilenameDebugIds"],[64,33,55,31],[65,2,56,0],[67,2,58,0],[68,0,59,0],[69,0,60,0],[70,2,61,0],[70,11,61,9,"getDebugImagesForResources"],[70,37,61,35,"getDebugImagesForResources"],[70,38,62,2,"stackParser"],[70,49,62,13],[70,51,63,2,"resource_paths"],[70,65,63,16],[70,67,64,2],[71,4,65,2],[71,10,65,8,"filenameDebugIdMap"],[71,28,65,26],[71,31,65,29,"getFilenameToDebugIdMap"],[71,54,65,52],[71,55,65,53,"stackParser"],[71,66,65,64],[71,67,65,65],[72,4,67,2],[72,8,67,6],[72,9,67,7,"filenameDebugIdMap"],[72,27,67,25],[72,29,67,27],[73,6,68,4],[73,13,68,11],[73,15,68,13],[74,4,69,2],[75,4,71,2],[75,10,71,8,"images"],[75,16,71,14],[75,19,71,17],[75,21,71,19],[76,4,72,2],[76,9,72,7],[76,15,72,13,"path"],[76,19,72,17],[76,23,72,21,"resource_paths"],[76,37,72,35],[76,39,72,37],[77,6,73,4],[77,10,73,8,"path"],[77,14,73,12],[77,18,73,16,"filenameDebugIdMap"],[77,36,73,34],[77,37,73,35,"path"],[77,41,73,39],[77,42,73,40],[77,44,73,42],[78,8,74,6,"images"],[78,14,74,12],[78,15,74,13,"push"],[78,19,74,17],[78,20,74,18],[79,10,75,8,"type"],[79,14,75,12],[79,16,75,14],[79,27,75,25],[80,10,76,8,"code_file"],[80,19,76,17],[80,21,76,19,"path"],[80,25,76,23],[81,10,77,8,"debug_id"],[81,18,77,16],[81,20,77,18,"filenameDebugIdMap"],[81,38,77,36],[81,39,77,37,"path"],[81,43,77,41],[82,8,78,6],[82,9,78,7],[82,10,78,8],[83,6,79,4],[84,4,80,2],[85,4,82,2],[85,11,82,9,"images"],[85,17,82,15],[86,2,83,0],[87,0,83,1],[87,3]],"functionMap":{"names":["<global>","getFilenameToDebugIdMap","debugIdKeys.reduce$argument_0","getDebugImagesForResources"],"mappings":"AAA;ACS;8CCiB;GD0B;CDG;AGK;CHsB"},"hasCjsExports":false},"type":"js/module"}]}